"use strict";(self.webpackChunkreact_fabric=self.webpackChunkreact_fabric||[]).push([[8735],{"./packages/form/stories/form/Form.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_Form:()=>_Form,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_react_fabric_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/dist/esm/index.js"),_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/utilities/dist/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/form/src/index.ts");const __WEBPACK_DEFAULT_EXPORT__={component:_src__WEBPACK_IMPORTED_MODULE_5__.lV,subcomponents:{Controller:_src__WEBPACK_IMPORTED_MODULE_5__.xI,ArrayInput:_src__WEBPACK_IMPORTED_MODULE_5__.Ag},title:"@form/Form",parameters:{layout:"fullscreen",controls:{exclude:"schema"},jest:["form/tests/Form.test.tsx"]}};(0,_react_fabric_core__WEBPACK_IMPORTED_MODULE_1__.Rp)("form",{en:{firstName:"First Name",lastName:"Last Name",age:"Age",username:"Username",passwd:"Password",notStrong:"Password not strong enough, must have\n2 uppercase, 2 lowercase, 2 numerals and 2 special character"}});const _Form={render:args=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.Bd)("form"),schema=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__.hg.object({firstName:_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__.hg.string().required().label("form:firstName"),lastName:_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__.hg.string().required().label("form:lastName"),age:_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__.hg.number().min(18).max(65).required().label("form:age"),username:_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__.hg.string().required().min(6).label("form:username"),password:_react_fabric_utilities__WEBPACK_IMPORTED_MODULE_2__.hg.string().required().min(6).label("form:passwd").test("isStrong",((value,context)=>!(Array.from(value.matchAll(/[A-Z]/g)).length<2||Array.from(value.matchAll(/[a-z]/g)).length<2||Array.from(value.matchAll(/\d/g)).length<2||Array.from(value.matchAll(/\W/g)).length<2)||context.createError({message:t("notStrong")})))})),[strength,setStrength]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0),calculateStrength=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(((value="")=>{value||setStrength(0);const upper=Array.from(value.matchAll(/[A-Z]/g)).length,lower=Array.from(value.matchAll(/[a-z]/g)).length,digit=Array.from(value.matchAll(/\d/g)).length,special=Array.from(value.matchAll(/\W/g)).length,delta=Math.max(value.length/4,1);setStrength((Math.min(upper/delta,1)+Math.min(lower/delta,1)+Math.min(digit/delta,1)+Math.min(special/delta,1))/4)}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"min-h-[600px]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.lV,{...args,schema:schema.current,defaultValues:{firstName:"",lastName:"",age:void 0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mx-auto w-96",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.xI,{name:"firstName",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.pd,{autoFocus:!0,required:!0,label:t("firstName")})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.xI,{name:"lastName",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.pd,{required:!0,label:t("lastName")})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.xI,{name:"age",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.wN,{required:!0,label:t("age"),info:"Must be between 18 and 65 years"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_fabric_core__WEBPACK_IMPORTED_MODULE_1__.cG,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.xI,{name:"username",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.pd,{required:!0,label:t("username")})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__.xI,{name:"password",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_src__WEBPACK_IMPORTED_MODULE_5__._2,{showToggle:!0,required:!0,label:t("passwd"),onChange:calculateStrength,strength})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-end gap-2 mt-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_fabric_core__WEBPACK_IMPORTED_MODULE_1__.$n,{type:"reset",variant:"outline",onClick:()=>setStrength(0),children:"Reset"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_fabric_core__WEBPACK_IMPORTED_MODULE_1__.$n,{type:"submit",variant:"solid",children:"Submit"})]})]})})})},args:{}},__namedExportsOrder=["_Form"];_Form.parameters={..._Form.parameters,docs:{..._Form.parameters?.docs,source:{originalSource:'{\n  render: args => {\n    const {\n      t\n    } = useTranslation("form");\n    const schema = useRef(yup.object({\n      firstName: yup.string().required().label("form:firstName"),\n      lastName: yup.string().required().label("form:lastName"),\n      age: yup.number().min(18).max(65).required().label("form:age"),\n      username: yup.string().required().min(6).label("form:username"),\n      password: yup.string().required().min(6).label("form:passwd").test("isStrong", (value, context) => {\n        if (Array.from(value.matchAll(/[A-Z]/g)).length < 2 || Array.from(value.matchAll(/[a-z]/g)).length < 2 || Array.from(value.matchAll(/\\d/g)).length < 2 || Array.from(value.matchAll(/\\W/g)).length < 2) {\n          return context.createError({\n            message: t("notStrong")\n          });\n        }\n        return true;\n      })\n    }));\n    const [strength, setStrength] = useState(0);\n    const calculateStrength = useCallback((value: string = "") => {\n      if (!value) setStrength(0);\n      const upper = Array.from(value.matchAll(/[A-Z]/g)).length;\n      const lower = Array.from(value.matchAll(/[a-z]/g)).length;\n      const digit = Array.from(value.matchAll(/\\d/g)).length;\n      const special = Array.from(value.matchAll(/\\W/g)).length;\n      const delta = Math.max(value.length / 4, 1);\n      setStrength((Math.min(upper / delta, 1) + Math.min(lower / delta, 1) + Math.min(digit / delta, 1) + Math.min(special / delta, 1)) / 4);\n    }, []);\n    return <div className="min-h-[600px]">\n        <Form {...args} schema={schema.current} defaultValues={{\n        firstName: "",\n        lastName: "",\n        age: undefined\n      }}>\n          <div className="mx-auto w-96">\n            <Controller name="firstName">\n              <Input autoFocus required label={t("firstName")} />\n            </Controller>\n            <Controller name="lastName">\n              <Input required label={t("lastName")} />\n            </Controller>\n            <Controller name="age">\n              <Number required label={t("age")} info="Must be between 18 and 65 years" />\n            </Controller>\n            <Divider />\n            <Controller name="username">\n              <Input required label={t("username")} />\n            </Controller>\n            <Controller name="password">\n              <Password showToggle required label={t("passwd")} onChange={calculateStrength} strength={strength} />\n            </Controller>\n\n            <div className="flex justify-end gap-2 mt-8">\n              <Button type="reset" variant="outline" onClick={() => setStrength(0)}>\n                Reset\n              </Button>\n              <Button type="submit" variant="solid">\n                Submit\n              </Button>\n            </div>\n          </div>\n        </Form>\n      </div>;\n  },\n  args: {}\n}',..._Form.parameters?.docs?.source}}}}}]);