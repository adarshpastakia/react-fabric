import{a as X,_ as K,d as ye,c as _,r as xe}from"./index.js";import{j as a,m as l,_ as D,r as i,Y as ee,aM as te,bc as je,O as ne,l as Y,s as we}from"./iframe-DwvN93Ge.js";import{g as j,I as H,a as oe,T as Oe}from"./Tooltip.js";var ke=["className","color","strokeColor","type"],Ne=["className"];function Z(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,o)}return t}function C(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z(Object(t),!0).forEach(function(o){K(r,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))})}return r}var Pe=function(e){var t=e.className,o=e.color,n=e.strokeColor,s=e.type,c=D(e,ke),u=X(function(){var p={};return o&&(p.color=j(o)),n&&(p.stroke=j(n)),p},[o,n],"Animation styles"),d=i.useMemo(function(){return s==="check"?"M14.1 27.2l7.1 7.2 16.7-16.8":s==="cross"?"M14.1 14.1l23.8 23.8 m0,-23.8 l-23.8,23.8":s==="question"?"M18.949 17.621c0.426-0.787 1.354-1.6 2.108-2.223 1.279-0.984 3.87-1.778 5.805-1.778 3.837 0 6.189 2.689 6.189 6.034 0 2.23-1.193 4.214-3.751 6.346-2.886 2.361-3.497 3.362-3.497 5.788v0c0-2.263 0.689-3.509 3.476-5.772 2.689-2.23 3.772-3.968 3.772-6.362 0-3.772-2.492-6.034-6.789-6.034-2.132 0-3.903 0.722-5.28 1.804-0.82 0.623-1.476 1.377-2.033 2.197zM26 41.329v0-2.948z":s==="exclaim"?"M26.611 10.873c-0.002 1.015-0.002 2.071-0.002 3.086v11.777c0 3.086 0.002 2.232 0 3.288h-0.018c-0.001-1.056 0-0.202 0-3.288v-11.777c0-1.015 0-2.071-0.002-3.086zM26.59 37.472h0.018v3.655h-0.018z":"M26 22L26 41M27 22L27 41M25 22L25 41M26 11L26 16M27 11L27 16M25 11L25 16Z"},[s]);return a.jsxs("svg",C(C({"data-ref":"animated-indicator",className:l("fabric-checkAnimation",t,"inline-block rounded-full"),style:u,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52","aria-hidden":"true"},c),{},{children:[a.jsx("circle",{className:"fabric-circlePart",cx:"26",cy:"26",r:"25"}),a.jsx("path",{className:l("fabric-iconPart"),style:{color:n?j(n):"var(--text-color-invert)"},d})]}))},Be=function(e){var t=e.color,o=t===void 0?"tint-500":t,n=e.size,s=n===void 0?"2rem":n;return a.jsx("div",{className:l("absolute inset-0 z-10 flex justify-center items-center cursor-wait"),children:a.jsx("div",{className:l("outline outline-tint-500/20 p-4 bg-tint-50/50 backdrop-blur-sm rounded"),children:a.jsx("div",{className:l("fabric-bars"),style:{width:s,color:j(o)}})})})},ze=function(e){var t=e.color,o=t===void 0?"tint-700":t,n=e.size,s=n===void 0?"2rem":n;return a.jsx("div",{className:l("absolute inset-0 z-10 flex justify-center items-center cursor-wait"),"data-ref":"spinner",children:a.jsx("div",{className:l("outline outline-tint-500/20 p-4 bg-tint-50/50 backdrop-blur-sm rounded"),children:a.jsx("div",{className:l("fabric-spinner"),style:{width:s,color:j(o)}})})})},Ie=function(e){var t=e.className,o=D(e,Ne);return a.jsxs("div",C(C({className:l(t,"p-2 animate-pulse flex gap-2 max-w-lg"),"data-ref":"skeleton"},o),{},{children:[a.jsx("div",{className:"bg-tint-100 rounded aspect-square h-12"}),a.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[a.jsx("div",{className:"bg-tint-100 h-3 rounded-full"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[30%]"}),a.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[60%]"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[30%]"}),a.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[60%]"})]})]})]}))},$e=function(){return a.jsx("div",{className:l("fabric-loader","area-[loader] relative overflow-x-clip"),"data-ref":"loading",children:a.jsx("div",{className:"absolute z-10 py-px inset-x-0 top-0 after:h-0.5 after:block after:bg-primary-500"})})},Ce=["ref","className","value","max","ping","block","inline","placement","children","forButton","icon"];function J(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,o)}return t}function M(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J(Object(t),!0).forEach(function(o){K(r,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))})}return r}var De=function(e){return ee(e)&&!i.isValidElement(e)?Object.assign({forButton:!0,placement:""},e):{value:e,forButton:!0,placement:""}},Ee=function(e){var t=e.ref,o=e.className,n=e.value,s=e.max,c=e.ping,u=e.block,d=e.inline,p=e.placement,w=p===void 0?"top-end":p,f=e.children,O=e.forButton,g=O===void 0?!1:O,k=e.icon,h=D(e,Ce),m=i.useMemo(function(){if(i.isValidElement(n))return n;if(!te(n))return je(n)&&s&&n>s?"".concat(s,"+"):"".concat(n)},[n,s]),E=i.useMemo(function(){return ne(t,f==null?void 0:f.props.ref)},[t,f==null?void 0:f.props.ref]);return a.jsxs("div",{className:l(g||d?"contents":u?"block":"inline-block",g||d?"":"relative"),children:[f&&i.cloneElement(f,M(M({},h),{},{ref:E})),(!!c||(m??k))&&a.jsxs("div",{"data-ref":"badge","data-ping":c,"data-placement":w,className:l("fabric-badge",o,"inline-block p-px min-w-2 min-h-2 text-center select-none rounded-full leading-none z-2 pointer-events-none",g&&!w||d?"relative flex-content":"absolute"),children:[m&&a.jsx("span",{className:"p-1",children:m}),k&&a.jsx(H,M({},oe(k)))]})]})},Ae=function(e){var t=e.keyCombo,o=e.global,n=e.handler,s=ye(),c=s.addHotKey,u=s.removeHotKey;return _(function(){return c==null||c(t,n??function(){},o),function(){return u==null?void 0:u(t)}},[c,o,n,t,u],"HotKey add"),null},Le=function(e){var t=e.keyCombo,o=X(function(){var n=xe({keyCombo:t}),s=[];return n.alt&&s.push("ALT"),n.ctrl&&s.push("CTRL"),n.meta&&s.push("META"),n.shift&&s.push("SHIFT"),n.key.toLowerCase()==="tab"?s.push("TAB"):n.key.toLowerCase()==="space"?s.push("SPC"):n.key.toLowerCase()==="arrowleft"?s.push("LEFT"):n.key.toLowerCase()==="arrowright"?s.push("RIGHT"):n.key.toLowerCase()==="arrowup"?s.push("UP"):n.key.toLowerCase()==="arrowdown"?s.push("DOWN"):n.key.toLowerCase()==="enter"?s.push("ENTER"):n.key.toLowerCase()==="delete"?s.push("DEL"):n.key.toLowerCase()==="escape"?s.push("ESC"):n.key.toLowerCase()==="backspace"?s.push("BKSPC"):s.push(n.key.toUpperCase()),[a.jsx("span",{children:s.join(" ")},"label")]},[t],"HotKey label");return a.jsx("kbd",{className:"hotkey-label inline-flex gap-1 select-none self-center font-mono items-center text-[0.625rem] leading-4 bg-tint-500/20 text-tint-900/65 whitespace-nowrap rounded px-2 mx-1",children:o})},Se=["as","ref","children","className","active","color","icon","iconAlign","altIcon","rounded","size","disabled","loading","variant","badge","fullWidth","spinOnHover","onClick","actionMessage","preventDefault","stopPropagation","type","hotKey","showActionDone","showActionDoneEvent","tabIndex","data-ref"];function Q(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,o)}return t}function x(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q(Object(t),!0).forEach(function(o){K(r,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))})}return r}var Te=function(e){var t=e.as,o=e.ref,n=e.children,s=e.className,c=e.active,u=e.color,d=u===void 0?"primary":u,p=e.icon,w=e.iconAlign,f=w===void 0?"start":w,O=e.altIcon,g=e.rounded,k=e.size,h=e.disabled,m=e.loading,E=e.variant,A=e.badge,B=e.fullWidth,ae=e.spinOnHover,N=e.onClick,b=e.actionMessage,z=e.preventDefault,I=e.stopPropagation,$=e.type,re=$===void 0?"button":$,P=e.hotKey,T=e.showActionDone,R=e.showActionDoneEvent,W=R===void 0?"click":R,F=e.tabIndex,se=F===void 0?0:F,L=e["data-ref"],ie=D(e,Se),V=i.useRef(null),le=i.useState(!1),q=Y(le,2),ce=q[0],U=q[1],ue=i.useState(!1),G=Y(ue,2),y=G[0],S=G[1],de=i.useCallback(function(v){U(!0),z&&v.preventDefault(),I&&v.stopPropagation();var ge=N==null?void 0:N(v);Promise.resolve(ge).then(function(he){U(!1),he!==!1&&b&&W==="click"&&S(!0)})},[N,h,z,b,W,I]);i.useEffect(function(){b&&T&&S(!0)},[T,b]),_(function(){if(y){var v=setTimeout(function(){return S(!1)},2e3);return function(){return clearTimeout(v)}}},[y],"ActionButton done handler");var pe=i.useMemo(function(){return b?Oe:i.Fragment},[b,y]),fe=i.useMemo(function(){if(y&&b)return{content:b,placement:"top",color:"".concat(d,"-100"),open:!0}},[y,b,d]),be=i.useMemo(function(){return De(A)},[A]),ve=i.useRef(function(){var v;!h&&((v=V.current)===null||v===void 0||v.click())}),me=t??"button";return a.jsxs("div",{className:l("fabric-buttonWrapper",s,"relative align-text-top select-none focus-within:z-1",B?"block w-full":"inline-block"),"data-ref":L??"button","data-size":k,"data-loading":ce||m,"data-disabled":h,children:[P&&a.jsx(Ae,{keyCombo:P,handler:ve.current}),a.jsx(pe,x(x({},fe),{},{children:a.jsxs(me,x(x({ref:ne(o,V),role:"button",className:l("fabric-button","pointer-events-auto cursor-pointer select-none flex flex-nowrap w-full h-full items-center border-0 -outline-offset-1 justify-center max-w-72 p-0 font-sans font-medium appearance-none","focus-visible:ring-2 focus-visible:ring-offset-2 buttonInner",B&&"max-w-full w-full",g&&"rounded-full",ae&&"fabric-spinOnHover"),type:re,disabled:h,tabIndex:se,"data-inner-clickable":!0,onClick:de,"data-color":d,"data-active":c,"data-variant":E},ie),{},{children:[p&&a.jsx(H,x({className:"fabric-buttonIcon","data-align":f},oe(p))),i.isValidElement(n)&&a.jsx("div",{className:"fabric-buttonChild",children:n}),we(n)&&a.jsx("label",{className:l("fabric-buttonLabel","truncate"),"data-colored-icon":ee(p)&&"bg"in p,children:n}),!te(A)&&a.jsx(Ee,x({},be)),P&&n&&a.jsx(Le,{keyCombo:P}),O&&a.jsx(H,{className:"fabric-altIcon",icon:O,rtlFlip:!0})]}))})),y&&a.jsx("div",{className:l("absolute inset-0 overflow-hidden flex justify-center items-center",g?"rounded-full":"rounded"),style:{backgroundColor:j("".concat(d,"-300"))},children:a.jsx(Pe,{type:"check",color:d})})]})};export{Be as A,Te as B,Ae as H,$e as L,Ie as S,Le as a,Ee as b,ze as c,De as g};
