import{j as o,m as u,_ as C,r as i,n as H,Z as Y,aM as _,ba as xe,Q as ee,l as G,u as je}from"./iframe-DpfJK_wQ.js";import{a as te,d as we,c as ne,r as ke}from"./index.js";import{g as N,I as B,a as ae,T as Oe}from"./Tooltip.js";var Ne=["className","color","strokeColor","type"],Pe=["className"];function Q(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function j(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q(Object(t),!0).forEach(function(a){H(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var Le=function(e){var t=e.className,a=e.color,n=e.strokeColor,s=e.type,c=C(e,Ne),l=te(function(){var p={};return a&&(p.color=N(a)),n&&(p.stroke=N(n)),p},[a,n],"Animation styles"),d=i.useMemo(function(){return s==="check"?"M14.1 27.2l7.1 7.2 16.7-16.8":s==="cross"?"M14.1 14.1l23.8 23.8 m0,-23.8 l-23.8,23.8":s==="question"?"M18.949 17.621c0.426-0.787 1.354-1.6 2.108-2.223 1.279-0.984 3.87-1.778 5.805-1.778 3.837 0 6.189 2.689 6.189 6.034 0 2.23-1.193 4.214-3.751 6.346-2.886 2.361-3.497 3.362-3.497 5.788v0c0-2.263 0.689-3.509 3.476-5.772 2.689-2.23 3.772-3.968 3.772-6.362 0-3.772-2.492-6.034-6.789-6.034-2.132 0-3.903 0.722-5.28 1.804-0.82 0.623-1.476 1.377-2.033 2.197zM26 41.329v0-2.948z":s==="exclaim"?"M26.611 10.873c-0.002 1.015-0.002 2.071-0.002 3.086v11.777c0 3.086 0.002 2.232 0 3.288h-0.018c-0.001-1.056 0-0.202 0-3.288v-11.777c0-1.015 0-2.071-0.002-3.086zM26.59 37.472h0.018v3.655h-0.018z":"M26 22L26 41M27 22L27 41M25 22L25 41M26 11L26 16M27 11L27 16M25 11L25 16Z"},[s]);return o.jsxs("svg",j(j({"data-ref":"animated-indicator",className:u("fabric-checkAnimation",t,"inline-block rounded-full"),style:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52","aria-hidden":"true"},c),{},{children:[o.jsx("circle",{className:"fabric-circlePart",cx:"26",cy:"26",r:"25"}),o.jsx("path",{className:u("fabric-iconPart"),style:{color:n?N(n):"var(--text-color-invert)"},d})]}))},oe=function(e){var t=e.color,a=t===void 0?"tint-500":t,n=e.size,s=n===void 0?"2rem":n,c=e.icon,l=e.maskBlur;return o.jsx("div",{className:u("absolute inset-0 z-10 flex justify-center items-center cursor-wait",l==="sm"&&"backdrop-blur-sm",l==="md"&&"backdrop-blur-md",l==="lg"&&"backdrop-blur-lg"),children:o.jsx("div",{className:u("outline outline-tint-500/20 p-4 bg-tint-50/50 backdrop-blur-sm leading-0 rounded"),children:o.jsx("div",{className:u("aspect-square",c),style:{fontSize:s,color:N(a)}})})})},Ie=function(e){return o.jsx(oe,j({icon:"icon-[svg-spinners--bars-scale-fade]"},e))},ze=function(e){return o.jsx(oe,j({icon:"icon-[svg-spinners--eclipse]"},e))},$e=function(e){var t=e.className,a=C(e,Pe);return o.jsxs("div",j(j({className:u(t,"p-2 animate-pulse flex gap-2 max-w-lg"),"data-ref":"skeleton"},a),{},{children:[o.jsx("div",{className:"bg-tint-100 rounded aspect-square h-12"}),o.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[o.jsx("div",{className:"bg-tint-100 h-3 rounded-full"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[30%]"}),o.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[60%]"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[30%]"}),o.jsx("div",{className:"bg-tint-100 h-2 rounded-full basis-[60%]"})]})]})]}))},Te=function(){return o.jsx("div",{className:u("fabric-loader","area-[loader] relative overflow-x-clip"),"data-ref":"loading",children:o.jsx("div",{className:"absolute z-10 py-px inset-x-0 top-0 after:h-0.5 after:block after:bg-primary-500"})})},Ce=["ref","className","value","max","ping","block","inline","placement","children","forButton","icon"];function J(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function A(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J(Object(t),!0).forEach(function(a){H(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var De=function(e){return Y(e)&&!i.isValidElement(e)?Object.assign({forButton:!0,placement:""},e):{value:e,forButton:!0,placement:""}},Ee=function(e){var t=e.ref,a=e.className,n=e.value,s=e.max,c=e.ping,l=e.block,d=e.inline,p=e.placement,w=p===void 0?"top-end":p,f=e.children,k=e.forButton,g=k===void 0?!1:k,O=e.icon,h=C(e,Ce),m=i.useMemo(function(){if(i.isValidElement(n))return n;if(!_(n))return xe(n)&&s&&n>s?"".concat(s,"+"):"".concat(n)},[n,s]),D=i.useMemo(function(){return ee(t,f==null?void 0:f.props.ref)},[t,f==null?void 0:f.props.ref]);return o.jsxs("div",{className:u(g||d?"contents":l?"block":"inline-block",g||d?"":"relative"),children:[f&&i.cloneElement(f,A(A({},h),{},{ref:D})),(!!c||(m??O))&&o.jsxs("div",{"data-ref":"badge","data-ping":c,"data-placement":w,className:u("fabric-badge",a,"inline-block p-px min-w-2 min-h-2 text-center select-none rounded-full leading-none z-2 pointer-events-none",g&&!w||d?"relative flex-content":"absolute"),children:[m&&o.jsx("span",{className:"p-1",children:m}),O&&o.jsx(B,A({},ae(O)))]})]})},Se=function(e){var t=e.keyCombo,a=e.global,n=e.handler,s=we(),c=s.addHotKey,l=s.removeHotKey;return ne(function(){return c==null||c(t,n??function(){},a),function(){return l==null?void 0:l(t)}},[c,a,n,t,l],"HotKey add"),null},Me=function(e){var t=e.keyCombo,a=te(function(){var n=ke({keyCombo:t}),s=[];return n.alt&&s.push("ALT"),n.ctrl&&s.push("CTRL"),n.meta&&s.push("META"),n.shift&&s.push("SHIFT"),n.key.toLowerCase()==="tab"?s.push("TAB"):n.key.toLowerCase()==="space"?s.push("SPC"):n.key.toLowerCase()==="arrowleft"?s.push("LEFT"):n.key.toLowerCase()==="arrowright"?s.push("RIGHT"):n.key.toLowerCase()==="arrowup"?s.push("UP"):n.key.toLowerCase()==="arrowdown"?s.push("DOWN"):n.key.toLowerCase()==="enter"?s.push("ENTER"):n.key.toLowerCase()==="delete"?s.push("DEL"):n.key.toLowerCase()==="escape"?s.push("ESC"):n.key.toLowerCase()==="backspace"?s.push("BKSPC"):s.push(n.key.toUpperCase()),[o.jsx("span",{children:s.join(" ")},"label")]},[t],"HotKey label");return o.jsx("kbd",{className:"hotkey-label inline-flex gap-1 select-none self-center font-mono items-center text-[0.625rem] leading-4 bg-tint-500/20 text-tint-900/65 whitespace-nowrap rounded px-2 mx-1",children:a})},Ae=["as","ref","children","className","active","color","icon","iconAlign","altIcon","rounded","size","disabled","loading","variant","badge","fullWidth","spinOnHover","onClick","actionMessage","preventDefault","stopPropagation","type","hotKey","showActionDone","showActionDoneEvent","tabIndex","data-ref"];function X(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function x(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X(Object(t),!0).forEach(function(a){H(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var Re=function(e){var t=e.as,a=e.ref,n=e.children,s=e.className,c=e.active,l=e.color,d=l===void 0?"default":l,p=e.icon,w=e.iconAlign,f=w===void 0?"start":w,k=e.altIcon,g=e.rounded,O=e.size,h=e.disabled,m=e.loading,D=e.variant,E=e.badge,K=e.fullWidth,re=e.spinOnHover,P=e.onClick,b=e.actionMessage,I=e.preventDefault,z=e.stopPropagation,$=e.type,se=$===void 0?"button":$,L=e.hotKey,T=e.showActionDone,R=e.showActionDoneEvent,W=R===void 0?"click":R,F=e.tabIndex,ie=F===void 0?0:F,S=e["data-ref"],le=C(e,Ae),q=i.useRef(null),ce=i.useState(!1),V=G(ce,2),ue=V[0],U=V[1],de=i.useState(!1),Z=G(de,2),y=Z[0],M=Z[1],pe=i.useCallback(function(v){U(!0),I&&v.preventDefault(),z&&v.stopPropagation();var he=P==null?void 0:P(v);Promise.resolve(he).then(function(ye){U(!1),ye!==!1&&b&&W==="click"&&M(!0)})},[P,h,I,b,W,z]);i.useEffect(function(){b&&T&&M(!0)},[T,b]),ne(function(){if(y){var v=setTimeout(function(){return M(!1)},2e3);return function(){return clearTimeout(v)}}},[y],"ActionButton done handler");var fe=i.useMemo(function(){return b?Oe:i.Fragment},[b,y]),be=i.useMemo(function(){if(y&&b)return{content:b,placement:"top",color:"".concat(d,"-100"),open:!0}},[y,b,d]),ve=i.useMemo(function(){return De(E)},[E]),me=i.useRef(function(){var v;!h&&((v=q.current)===null||v===void 0||v.click())}),ge=t??"button";return o.jsxs("div",{className:u("fabric-buttonWrapper",s,"relative align-text-top select-none focus-within:z-1",K?"block w-full":"inline-block"),"data-ref":S??"button","data-size":O,"data-loading":ue||m,"data-disabled":h,children:[L&&o.jsx(Se,{keyCombo:L,handler:me.current}),o.jsx(fe,x(x({},be),{},{children:o.jsxs(ge,x(x({ref:ee(a,q),role:"button",className:u("fabric-button","pointer-events-auto cursor-pointer select-none flex flex-nowrap w-full h-full items-center border-0 -outline-offset-1 justify-center max-w-72 p-0 font-sans font-medium appearance-none","focus-visible:ring-2 focus-visible:ring-offset-2 buttonInner",K&&"max-w-full w-full",g&&"rounded-full",re&&"fabric-spinOnHover"),type:se,disabled:h,tabIndex:ie,"data-inner-clickable":!0,onClick:pe,"data-color":d,"data-active":c,"data-variant":D},le),{},{children:[p&&o.jsx(B,x({className:"fabric-buttonIcon","data-align":f},ae(p))),i.isValidElement(n)&&o.jsx("div",{className:"fabric-buttonChild",children:n}),je(n)&&o.jsx("label",{className:u("fabric-buttonLabel","truncate"),"data-colored-icon":Y(p)&&"bg"in p,children:n}),!_(E)&&o.jsx(Ee,x({},ve)),L&&n&&o.jsx(Me,{keyCombo:L}),k&&o.jsx(B,{className:"fabric-altIcon",icon:k,rtlFlip:!0})]}))})),y&&o.jsx("div",{className:u("absolute inset-0 overflow-hidden flex justify-center items-center",g?"rounded-full":"rounded"),style:{backgroundColor:N("".concat(d,"-300"))},children:o.jsx(Le,{type:"check",color:d})})]})};export{Re as B,Se as H,Te as L,$e as S,Me as a,Ee as b,Ie as c,ze as d,De as g};
