import{iT as G,fq as y,lo as W,K as h,a5 as x,kg as M,b3 as m,lp as w,lq as q}from"./ShadowCastClear.glsl.js";const S=50,K=5;function d(t,a){return Math.log(t)/Math.log(a)}function T(t,a,s){const e=t===1?10:t;return e**(s?Math.round(d(S/a,e)):0)}function j(t){const{isGeographic:a,isWebMercator:s}=t;return!a&&!s}function U(t,a,s){const e=typeof t=="number"?null:t,r=s??(e==null?void 0:e.spatialReference);if(r==null||!G(r)||j(r))return y(r);let o=(e==null?void 0:e.x)??t,c=(e==null?void 0:e.y)??a;const f=1/Math.sqrt(2);let l=o+f,i=c+f;const{isWebMercator:$,isGeographic:b}=r;let p=b&&!W(r)?h.WGS84:r;if($){let n=new x({x:o,y:c,spatialReference:r});M(n,!0,n),o=n.x,c=n.y,n=new x({x:l,y:i,spatialReference:r}),M(n,!0,n),l=n.x,i=n.y,p=h.WGS84}const g=new m({paths:[[[o,c],[l,i]]],spatialReference:p}),R=w(g,10);let u;try{[u]=q([R],"meters")}catch{return y(r)}return u}export{T as l,K as t,U as u};
