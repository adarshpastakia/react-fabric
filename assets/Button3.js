import{i as _}from"./Disposer.js";import{R as v,f as p,C as w}from"./Label.js";import{r as m,m as y}from"./Animation.js";class R extends v{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let i=this.width(),e=this.height(),o=i/Math.abs(i),c=e/Math.abs(e),t=0,s=0;const g=this.get("strokeWidth",0);this.get("containStroke",!1)&&(i-=o*g,e-=c*g,t+=o*g/2,s+=c*g/2);let a=i,n=e;if(_(a)&&_(n)){let b=Math.min(a,n)/2,l=m(this.get("cornerRadiusTL",8),b),h=m(this.get("cornerRadiusTR",8),b),u=m(this.get("cornerRadiusBR",8),b),d=m(this.get("cornerRadiusBL",8),b),f=Math.min(Math.abs(a/2),Math.abs(n/2));l=p(l,0,f),h=p(h,0,f),u=p(u,0,f),d=p(d,0,f);const r=this._display;r.moveTo(t+l*o,s),r.lineTo(t+a-h*o,s),h>0&&r.arcTo(t+a,s,t+a,s+h*c,h),r.lineTo(t+a,s+n-u*c),u>0&&r.arcTo(t+a,s+n,t+a-u*o,s+n,u),r.lineTo(t+d*o,s+n),d>0&&r.arcTo(t,s+n,t,s+n-d*c,d),r.lineTo(t,s+l*c),l>0&&r.arcTo(t,s,t+l*o,s,l),r.closePath()}}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([R.className])});class T extends w{_afterNew(){this._settings.themeTags=y(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",R.new(this._root,{themeTags:y(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const i=this._prevSettings.icon,e=this.get("icon");e!==i&&(this._disposeProperty("icon"),i&&i.dispose(),e&&this.children.push(e),this._prevSettings.icon=e)}if(this.isDirty("label")){const i=this._prevSettings.label,e=this.get("label");e!==i&&(this._disposeProperty("label"),i&&i.dispose(),e&&this.children.push(e),this._prevSettings.label=e)}}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.classNames.concat([T.className])});export{T as B,R};
