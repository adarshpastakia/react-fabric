import{b as m,e5 as n,e6 as l,e7 as p,H as u,ir as k}from"./ShadowCastClear.glsl.js";import"./iframe-DpfJK_wQ.js";import"./index.js";import"./Viewport.js";import"./debounce.js";import"./index2.js";import"./Section.js";import"./ErrorBoundary.js";import"./createClass.js";import"./Global.js";import"./useIsDark.js";async function W(e,t,r){const i=n(e),a=t.toJSON();t.validationSet&&(a.validationSet=JSON.stringify(t.validationSet));const o={...a,returnEdits:!0,f:"json"},d=p({...i.query,...o}),s=l(d,{...r,method:"post"}),c=`${i.path}/validateNetworkTopology`,{data:f}=await u(c,s);return k.fromJSON(v(f))}async function E(e,t,r){if(!t.gdbVersion)throw new m("submit-validate-network-topology-job:missing-gdb-version","version is missing");const i=n(e),a=t.toJSON();t.validationSet&&(a.validationSet=JSON.stringify(t.validationSet));const o=l(i.query,{query:p({...a,returnEdits:!0,async:!0,f:"json"}),...r,method:"post"}),d=`${i.path}/validateNetworkTopology`,{data:s}=await u(d,o);return s?s.statusUrl:null}function v(e){return e.serviceEdits&&(e.serviceEdits=e.serviceEdits.map(t=>(t.editedFeatures.spatialReference&&(t.editedFeatures.spatialReference={wkid:t.editedFeatures.spatialReference.wkid,wkt:t.editedFeatures.spatialReference.wkt,wkt2:t.editedFeatures.spatialReference.wkt2,latestWkid:t.editedFeatures.spatialReference.latestWkid,latestVcsWkid:t.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:t.editedFeatures.spatialReference.vcsWkid}),t={layerId:t.id,editedFeatures:t.editedFeatures}))),e}export{v as handleValidateNetworkTopologyResult,E as submitValidateNetworkTopologyJob,W as validateNetworkTopology};
