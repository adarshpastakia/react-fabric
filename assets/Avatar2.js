import{_ as T}from"./index2.js";import{_ as W,r as m,l as S,j as t,m as P,aL as q,aM as F}from"./iframe-DZ_tjZ0H.js";import{g as z}from"./Tooltip.js";var K=["ref","name","avatar","fallbackIcon","bg","color","size","rounded","variant","className","viewBox","onClick"];function N(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,r)}return a}function A(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?N(Object(a),!0).forEach(function(r){T(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var g={xs:"0.875rem",sm:"1.125rem",md:"1.5rem",lg:"2rem",xl:"2.5rem"},J=function(e){var a=e.ref,r=e.name,i=e.avatar,c=e.fallbackIcon,v=e.bg,d=e.color,p=e.size,s=p===void 0?"":p,x=e.rounded,j=e.variant,b=j===void 0?"beam":j,B=e.className,y=e.viewBox,C=y===void 0?"0 0 24 24":y,h=e.onClick,E=W(e,K),M=m.useState(!0),w=S(M,2),O=w[0],k=w[1],$=m.useMemo(function(){var o={};return v&&(o.backgroundColor=z(v)),d&&(o.color=z(d)),s&&!(s in g)&&(o.fontSize=s),s&&s in g&&(o.fontSize=g[s]),o},[v,d,s]),D=m.useMemo(function(){return k(!i),i&&t.jsxs("div",{className:"contents",children:[t.jsx("div",{className:P("fabric-imgPlaceholder","absolute inset-0 bg-gray animate-pulse")}),t.jsx("img",{src:i,alt:i,className:"align-baseline",onError:function(){return k(!0)},onLoad:function(l){var u;return(u=l.currentTarget.previousElementSibling)===null||u===void 0?void 0:u.remove()}})]})},[i]),I=m.useMemo(function(){if(c)return q(c)?t.jsx("svg",{viewBox:C,children:t.jsx("path",{fill:"currentColor",d:c.toString()})}):t.jsx("i",{className:c});if(b==="text"){var o=r.match(/(?=(\w).* (\w).*)|(?=(\w\w).*)/),l=S(o,4),u=l[1],L=l[2],f=l[3];return t.jsx("svg",{role:"img",children:t.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:".5em",fontWeight:500},children:f??"".concat(u).concat(L)})})}return t.jsx(F,{square:!0,size:64,variant:b,name:r})},[r,b,c]);return t.jsxs("dfn",A(A({role:"presentation",className:P("fabric-avatar",B,"select-none relative overflow-hidden inline-block box-content leading-none not-italic text-center",!x&&"rounded",x&&"rounded-full"),onClick:h,style:$,"data-clickable":!!h,ref:a},E),{},{children:[!O&&D,O&&I]}))};export{J as A};
