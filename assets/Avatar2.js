import{_ as L,r as m,l as S,j as n,m as P,aJ as W,aK as q,n as F}from"./iframe-DpfJK_wQ.js";import{g as N}from"./Tooltip.js";var J=["ref","name","avatar","fallbackIcon","bg","color","size","rounded","variant","className","viewBox","preventDefault","onClick"];function z(o,e){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),r.push.apply(r,a)}return r}function C(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z(Object(r),!0).forEach(function(a){F(o,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(r,a))})}return o}var p={xs:"0.875rem",sm:"1.125rem",md:"1.5rem",lg:"2rem",xl:"2.5rem"},H=function(e){var r=e.ref,a=e.name,s=e.avatar,c=e.fallbackIcon,d=e.bg,f=e.color,x=e.size,l=x===void 0?"":x,j=e.rounded,y=e.variant,b=y===void 0?"beam":y,D=e.className,h=e.viewBox,A=h===void 0?"0 0 24 24":h,B=e.preventDefault,v=e.onClick,E=L(e,J),$=m.useState(!0),w=S($,2),O=w[0],k=w[1],I=m.useMemo(function(){var t={};return d&&(t.backgroundColor=N(d)),f&&(t.color=N(f)),l&&!(l in p)&&(t.fontSize=l),l&&l in p&&(t.fontSize=p[l]),t},[d,f,l]),M=m.useMemo(function(){return k(!s),s&&n.jsxs("div",{className:"contents",children:[n.jsx("div",{className:P("fabric-imgPlaceholder","absolute inset-0 bg-gray animate-pulse")}),n.jsx("img",{src:s,alt:s,className:"align-baseline",onError:function(){return k(!0)},onLoad:function(i){var u;return(u=i.currentTarget.previousElementSibling)===null||u===void 0?void 0:u.remove()}})]})},[s]),T=m.useMemo(function(){if(c)return W(c)?n.jsx("svg",{viewBox:A,className:"p-[0.125em]",children:n.jsx("path",{fill:"currentColor",d:c.toString()})}):n.jsx("i",{className:c});if(b==="text"){var t=a.match(/(?=(\w).* (\w).*)|(?=(\w\w).*)/),i=S(t,4),u=i[1],K=i[2],g=i[3];return n.jsx("svg",{role:"img",children:n.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:".5em",fontWeight:500},children:g??"".concat(u).concat(K)})})}return n.jsx(q,{square:!0,size:64,variant:b,name:a})},[a,b,c]);return n.jsxs("dfn",C(C({role:"presentation",className:P("fabric-avatar",D,"select-none relative overflow-hidden inline-block box-content leading-none not-italic text-center",!j&&"rounded",j&&"rounded-full"),onClick:function(i){B&&i.preventDefault(),v==null||v(i)},style:I,"data-clickable":!!v,ref:r},E),{},{children:[!O&&M,O&&T]}))};export{H as A};
