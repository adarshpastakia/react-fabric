import{_ as W}from"./index2.js";import{_ as q,r as m,l as S,j as n,m as P,aM as F,aN as K}from"./iframe-Ctw5u0Cj.js";import{g as N}from"./Tooltip.js";var R=["ref","name","avatar","fallbackIcon","bg","color","size","rounded","variant","className","viewBox","preventDefault","onClick"];function z(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),t.push.apply(t,r)}return t}function C(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z(Object(t),!0).forEach(function(r){W(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}var p={xs:"0.875rem",sm:"1.125rem",md:"1.5rem",lg:"2rem",xl:"2.5rem"},Q=function(e){var t=e.ref,r=e.name,s=e.avatar,c=e.fallbackIcon,d=e.bg,f=e.color,x=e.size,l=x===void 0?"":x,j=e.rounded,y=e.variant,b=y===void 0?"beam":y,D=e.className,h=e.viewBox,A=h===void 0?"0 0 24 24":h,B=e.preventDefault,v=e.onClick,E=q(e,R),M=m.useState(!0),w=S(M,2),O=w[0],k=w[1],$=m.useMemo(function(){var a={};return d&&(a.backgroundColor=N(d)),f&&(a.color=N(f)),l&&!(l in p)&&(a.fontSize=l),l&&l in p&&(a.fontSize=p[l]),a},[d,f,l]),I=m.useMemo(function(){return k(!s),s&&n.jsxs("div",{className:"contents",children:[n.jsx("div",{className:P("fabric-imgPlaceholder","absolute inset-0 bg-gray animate-pulse")}),n.jsx("img",{src:s,alt:s,className:"align-baseline",onError:function(){return k(!0)},onLoad:function(i){var u;return(u=i.currentTarget.previousElementSibling)===null||u===void 0?void 0:u.remove()}})]})},[s]),T=m.useMemo(function(){if(c)return F(c)?n.jsx("svg",{viewBox:A,children:n.jsx("path",{fill:"currentColor",d:c.toString()})}):n.jsx("i",{className:c});if(b==="text"){var a=r.match(/(?=(\w).* (\w).*)|(?=(\w\w).*)/),i=S(a,4),u=i[1],L=i[2],g=i[3];return n.jsx("svg",{role:"img",children:n.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:".5em",fontWeight:500},children:g??"".concat(u).concat(L)})})}return n.jsx(K,{square:!0,size:64,variant:b,name:r})},[r,b,c]);return n.jsxs("dfn",C(C({role:"presentation",className:P("fabric-avatar",D,"select-none relative overflow-hidden inline-block box-content leading-none not-italic text-center",!j&&"rounded",j&&"rounded-full"),onClick:function(i){B&&i.preventDefault(),v==null||v(i)},style:$,"data-clickable":!!v,ref:t},E),{},{children:[!O&&I,O&&T]}))};export{Q as A};
