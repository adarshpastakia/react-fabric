import{b as f,dU as i,dV as p}from"./ShadowCastClear.glsl.js";class u{constructor(o,a,e,t){this.dataType=o,this.samplingMode=a,this.pixelFormat=e,this.internalFormat=t}}function F(r,o){const{textureFloatLinear:a,colorBufferFloat:e}=r.capabilities,t=e==null?void 0:e.textureFloat,l=e==null?void 0:e.textureHalfFloat,_=e==null?void 0:e.floatBlend,n=r.driverTest.floatBufferBlend.result;if(!t&&!l)throw new f("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(_&&n||l))throw new f("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(n?"":" This device claims support for EXT_float_blend, but does not actually support it."));const h=t&&_&&n,m=l,s=a,d=!!(e!=null&&e.R32F),c=!!(e!=null&&e.R16F);if(h&&s)return s||o.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new u(i.FLOAT,s?9729:9728,d?6403:6408,d?p.R32F:6408);if(m)return new u(i.HALF_FLOAT,9729,c?6403:6408,c?p.R16F:6408);throw new f("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}const w=new u(i.HALF_FLOAT,9728,6408,6408);export{F as a,w as l};
