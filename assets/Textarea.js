import{_ as N}from"./index.js";import{_ as G,r as o,l as C,j as F}from"./iframe-DwvN93Ge.js";import{I as J}from"./InputWrapper.js";import{u as L}from"./eventHandlers.js";var Q=["ref","value","name","invalid","readOnly","disabled","required","placeholder","defaultValue","autoFocus","rows","maxRows","variableRows","expandable","onBlur","onFocus","onChange","onEnterPressed"];function S(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.push.apply(r,a)}return r}function D(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var $=function(e){var r=e.ref,a=e.value,i=e.name,m=e.invalid,d=e.readOnly,c=e.disabled,q=e.required,B=e.placeholder,f=e.defaultValue,T=e.autoFocus,w=e.rows,p=w===void 0?5:w,x=e.maxRows,h=x===void 0?12:x,y=e.variableRows,V=e.expandable,k=e.onBlur,A=e.onFocus,v=e.onChange,O=e.onEnterPressed,I=G(e,Q),K=o.useState(""),g=C(K,2),l=g[0],j=g[1],M=o.useState(p),P=C(M,2),W=P[0],R=P[1],b=o.useDeferredValue(a??f),z=o.useRef(null);o.useEffect(function(){j(b??"")},[b]);var E=o.useCallback(function(t){var u,s=(u=t==null?void 0:t.target.value)!==null&&u!==void 0?u:f;j(s??""),v==null||v(s??null)},[v,f]);o.useEffect(function(){if(y){var t,u=(t=l==null?void 0:l.split(`
`).length)!==null&&t!==void 0?t:1;R(Math.max(p,Math.min(h,u)))}else R(p)},[l,y,p,h]);var H=L(O,{preventDefault:!!O});return F.jsx(J,D(D({showClear:!!l&&!c&&!d,onClear:E,invalid:m,readOnly:d,disabled:c,required:q,wrapperRef:z,textareaExpandable:V,textarea:!0},I),{},{children:F.jsx("textarea",{className:"appearance-none self-stretch bg-transparent py-1 px-2 flex-1 border-none outline-none ring-0 min-h-12 resize-none","aria-invalid":m,"aria-disabled":c,"aria-readonly":d,placeholder:B,disabled:c,readOnly:d,rows:W,"data-testid":i,name:i,ref:r,autoComplete:"off",autoFocus:T,value:l,onBlur:k,onFocus:A,onChange:E,onKeyDown:H})}))};export{$ as T};
