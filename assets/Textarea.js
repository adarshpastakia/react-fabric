import{_ as H}from"./index2.js";import{_ as N,r as s,l as R,j as E}from"./iframe-BTaJxP5y.js";import{I as V}from"./InputWrapper.js";import{u as G}from"./eventHandlers.js";var J=["ref","value","name","invalid","readOnly","disabled","required","placeholder","autoFocus","rows","maxRows","variableRows","expandable","onBlur","onFocus","onChange","onEnterPressed"];function C(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),a.push.apply(a,r)}return a}function F(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?C(Object(a),!0).forEach(function(r){H(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var Y=function(e){var a=e.ref,r=e.value,u=e.name,b=e.invalid,i=e.readOnly,d=e.disabled,S=e.required,D=e.placeholder,q=e.autoFocus,m=e.rows,c=m===void 0?5:m,f=e.maxRows,w=f===void 0?12:f,x=e.variableRows,B=e.expandable,T=e.onBlur,k=e.onFocus,p=e.onChange,h=e.onEnterPressed,A=N(e,J),I=s.useState(""),y=R(I,2),l=y[0],O=y[1],K=s.useState(c),g=R(K,2),M=g[0],j=g[1],v=s.useDeferredValue(r),W=s.useRef(null);s.useEffect(function(){O(v??"")},[v]);var P=s.useCallback(function(t){var o=t==null?void 0:t.target.value;O(o??""),p==null||p(o??null)},[p]);s.useEffect(function(){if(x){var t,o=(t=l==null?void 0:l.split(`
`).length)!==null&&t!==void 0?t:1;j(Math.max(c,Math.min(w,o)))}else j(c)},[l,x,c,w]);var z=G(h,{preventDefault:!!h});return E.jsx(V,F(F({showClear:!!l&&!d&&!i,onClear:P,invalid:b,readOnly:i,disabled:d,required:S,wrapperRef:W,textareaExpandable:B,textarea:!0},A),{},{children:E.jsx("textarea",{className:"appearance-none self-stretch bg-transparent py-1 px-2 flex-1 border-none outline-none ring-0 min-h-20 resize-none","aria-invalid":b,"aria-disabled":d,"aria-readonly":i,placeholder:D,disabled:d,readOnly:i,rows:M,"data-testid":u,name:u,ref:a,autoComplete:"off",autoFocus:q,value:l,onBlur:T,onFocus:k,onChange:P,onKeyDown:z})}))};export{Y as T};
