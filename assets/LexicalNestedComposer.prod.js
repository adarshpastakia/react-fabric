import{r as s,j as D}from"./iframe-6XIGnDH8.js";import{r as b,b as S}from"./LexicalLink.prod.js";const h=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],m=h[Math.floor(Math.random()*h.length)],k=s.createContext({clientID:0,color:m[1],isCollabActive:!1,name:m[0],yjsDocMap:new Map});function y(e,i){return s.useContext(k)}function x(e){const i=e.transform();return i!==null?new Set([i]):new Set}function L({initialEditor:e,children:i,initialNodes:l,initialTheme:v,skipCollabChecks:w}){const u=s.useRef(!1),c=s.useContext(b);c==null&&function(o,...g){const r=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",o);for(const t of g)n.append("v",t);throw r.search=n.toString(),Error(`Minified Lexical error #${o}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(9);const[a,{getTheme:M}]=c,_=s.useMemo(()=>{const o=v||M()||void 0,g=S(c,o);if(o!==void 0&&(e._config.theme=o),e._parentEditor=a,l)for(let r of l){let n=null,t=null;if(typeof r!="function"){const p=r;r=p.replace,n=p.with,t=p.withKlass||null}const d=e._nodes.get(r.getType());e._nodes.set(r.getType(),{exportDOM:d?d.exportDOM:void 0,klass:r,replace:n,replaceWithKlass:t,transforms:x(r)})}else{const r=e._nodes=new Map(a._nodes);for(const[n,t]of r)e._nodes.set(n,{exportDOM:t.exportDOM,klass:t.klass,replace:t.replace,replaceWithKlass:t.replaceWithKlass,transforms:x(t.klass)})}return e._config.namespace=a._config.namespace,e._editable=a._editable,[e,g]},[]),{isCollabActive:E,yjsDocMap:C}=y(),f=w||u.current||C.has(e.getKey());return s.useEffect(()=>{f&&(u.current=!0)},[f]),s.useEffect(()=>a.registerEditableListener(o=>{e.setEditable(o)}),[e,a]),D.jsx(b.Provider,{value:_,children:!E||f?i:null})}export{L as c};
