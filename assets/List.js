import{_ as xe,r as l,j as t,m as I,l as Ze,az as te,aS as Y,aX as un,aN as ee,aQ as Te,aP as me,aO as Fe,bn as mn,c2 as pe,s as le,bl as ne}from"./iframe-BTaJxP5y.js";import{_ as we,C,b as pn,c as fn}from"./index2.js";import{B as je}from"./ButtonGroup2.js";import{I as D,T as gn}from"./Tooltip.js";import{B as J,L as hn,g as yn,b as bn,S as en}from"./Button.js";import{E as ke}from"./EmptyContent.js";import{c as qe,m as Z}from"./isEqual.js";import{M as vn,u as oe,d as xn,m as Ne}from"./memoize-one.esm.js";import{C as Je}from"./Copy.js";import{T as Tn}from"./Text.js";import{u as re}from"./useDebounce.js";import{D as wn,a as jn}from"./Dropdown.js";import{M as fe,a as ge}from"./Menu.js";import"./Google.js";import{D as kn}from"./DateDisplay.js";import{g as qn}from"./getByPath.js";import{D as Nn}from"./Divider.js";import{D as Cn}from"./DropdownTool.js";import"./ColorPicker.js";import{E as On}from"./ErrorIcon.js";import{I as An}from"./Input.js";import{g as nn}from"./dedupe.js";import{d as de}from"./debounce.js";import{H as En}from"./HeadFoot.js";import{S as In}from"./Section.js";import{I as Sn}from"./InputWrapper.js";import{u as Mn}from"./eventHandlers.js";var Pn=["children","className","align","actions","disabled"];function Ke(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Xe(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ke(Object(a),!0).forEach(function(r){we(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}var zn=function(n){var a=n.children,r=n.className,s=n.align,i=n.actions,c=n.disabled,m=xe(n,Pn),u=l.useCallback(function(f){if(f){var b=f.cloneNode(!0);b.className="",b.style.left="-200%",b.style.overflow="hidden",b.style.position="absolute",b.style.whiteSpace="nowrap",document.body.appendChild(b),f.style.setProperty("--width","".concat(b.offsetWidth,"px")),b.remove()}},[]);return t.jsxs("div",Xe(Xe({className:I(r,"fabric-actionLabel","flex overflow-hidden gap-1 items-center cursor-default select-none"),"data-disabled":c},m),{},{children:[t.jsx(je,{ref:u,"data-inner-clickable":!0,className:I("fabric-actions","overflow-hidden flex-content",s==="end"&&"order-2"),children:i}),t.jsx("div",{className:"flex-initial truncate",children:a})]}))},Rn=["ref","label","value","name","checked","invalid","disabled","error","width","icon","iconChecked","required","onChange"];function Ge(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vn(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ge(Object(a),!0).forEach(function(r){we(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}var Ln=function(n){var a=n.ref,r=n.label,s=n.value,i=n.name,c=n.checked,m=n.invalid,u=n.disabled,f=n.error,b=n.width,g=n.icon,O=n.iconChecked;n.required;var k=n.onChange,d=xe(n,Rn),w=l.useState(!1),M=Ze(w,2),T=M[0],N=M[1],h=l.useDeferredValue(!!c),p=l.useMemo(function(){var z;return(z=O??g)!==null&&z!==void 0?z:C.checkboxOn},[g,O]),y=l.useMemo(function(){return g??C.checkboxOff},[g]);l.useEffect(function(){N(h)},[h]);var V=l.useCallback(function(z){var v,o;N((v=z==null?void 0:z.target.checked)!==null&&v!==void 0?v:!1),k==null||k((o=z==null?void 0:z.target.checked)!==null&&o!==void 0?o:!1)},[k,s]);return t.jsxs("label",{className:I(m?"ring-danger-500":"ring-primary-500",u?"opacity-50 cursor-not-allowed":" opacity-85 hover:opacity-100 cursor-pointer","inline-flex gap-1 py-1 items-center relative rounded ring-offset-2 has-[:focus-visible]:ring-1"),style:{width:b},children:[t.jsx("input",Vn({className:I("appearance-none absolute opacity-0 inset-0 bg-transparent border-none outline-none ring-0"),"aria-invalid":m,"aria-disabled":u,disabled:u,"aria-errormessage":f,type:"checkbox",ref:a,size:1,tabIndex:0,name:i,autoComplete:"off",checked:T,onChange:V},d)),t.jsx(D,{className:I("p-0.5",T&&g&&!O&&"bg-primary-500 text-white!"),size:"1.25em",color:m?"danger":"primary",icon:T?p:y}),t.jsx(On,{invalid:m,error:f}),r&&t.jsx("span",{className:"flex-initial leading-tight truncate",children:r})]})},$n=["ref","value","name","invalid","readOnly","disabled","required","searching","placeholder","autoFocus","hideHandle","allowClear","searchOnChange","onBlur","onFocus","onSearch","onChange","onEnterPressed"];function Ue(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ye(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ue(Object(a),!0).forEach(function(r){we(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}var tn=function(n){var a=n.ref,r=n.value,s=n.name,i=n.invalid,c=n.readOnly,m=n.disabled,u=n.required,f=n.searching,b=n.placeholder,g=n.autoFocus,O=n.hideHandle,k=n.allowClear,d=k===void 0?!0:k,w=n.searchOnChange,M=w===void 0?!1:w,T=n.onBlur,N=n.onFocus,h=n.onSearch,p=n.onChange;n.onEnterPressed;var y=xe(n,$n),V=l.useState(""),z=Ze(V,2),v=z[0],o=z[1],q=l.useDeferredValue(r),A=l.useRef(""),L=re(function(){return h==null?void 0:h(A.current)},[h],250),$=Mn(L);l.useEffect(function(){o(q??"")},[q]);var H=l.useCallback(function(S){var x=S==null?void 0:S.target.value;A.current=x??"",o(x??""),p==null||p(x??null),(!S||M)&&L()},[p,M,L]);return t.jsx(Sn,Ye(Ye({showClear:!!v&&!m&&!c,onClear:H,allowClear:d,invalid:i,readOnly:c,disabled:m,required:u,actionButton:t.jsxs(l.Fragment,{children:[f&&t.jsx(D,{className:"p-2",icon:C.spinner,animate:"spin"}),!f&&!O&&t.jsx(J,{tabIndex:-1,variant:"link","aria-label":"search",disabled:!v,icon:C.search,onClick:L})]})},y),{},{children:t.jsx("input",{className:"appearance-none bg-transparent py-1 px-2 flex-1 border-none outline-none ring-0 peer","aria-invalid":i,"aria-disabled":m,"aria-readonly":c,placeholder:b,disabled:m,readOnly:c,size:1,"data-testid":s,name:s,type:"search",ref:a,autoComplete:"off",autoFocus:g,value:v,onBlur:T,onFocus:N,onChange:H,onKeyDown:$})}))};const Hn={noRecords:"لا تسجيلات"},Bn={noItems:"لا توجد عناصر",error:"خطأ في تحميل العناصر",loading:"تحميل العناصر…"},Dn={empty:"لا توجد سجلات متاحة"},_n={empty:"لا توجد خصائص بيانات",true:"نعم",false:"رقم"},Wn={empty:"لا توجد عناصر قائمة"},Fn={empty:"لا توجد رسوم بيانية"},Jn={find:"تجد…",copy:"قيمة النسخ",filter:"منقي…",showShortcuts:"اختصارات لوحة المفاتيح…",collapseAll:"انهيار جميع",expandAll:"توسيع الكل",checkAll:"تحقق من الكل",uncheckAll:"الغاءالكل",addFilter:"أضف عامل تصفية",addFilterNot:"إضافة لا تصفية"},Kn={tree:{noItems:"لا توجد عناصر شجرة متوفرة"}},Xn={label:Hn,tree:Bn,datagrid:Dn,json:_n,checkList:Wn,histogram:Fn,action:Jn,data:Kn},Gn={noRecords:"No Records"},Un={noItems:"No items",error:"Error loading items",loading:"Loading items..."},Yn={empty:"No records available"},Qn={empty:"No data properties",true:"Yes",false:"No"},Zn={empty:"No list items"},et={empty:"No histograms"},nt={find:"Find...",copy:"Copy Value",filter:"Filter...",showShortcuts:"Keyboard shortcuts...",collapseAll:"Collapse All",expandAll:"Expand All",checkAll:"Check All",uncheckAll:"Uncheck All",addFilter:"Add Filter",addFilterNot:"Add not Filter"},tt={tree:{noItems:"No tree items available"}},rt={label:Gn,tree:Un,datagrid:Yn,json:Qn,checkList:Zn,histogram:et,action:nt,data:tt};pn("data",{en:rt,ar:Xn});const at="M20.84 22.73L11.11 13H3V11H9.11L6.11 8H3V6H4.11L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M15 11H14.2L15 11.8V11M21 8V6H9.2L11.2 8H21M3 18H9V16H3V18Z",st=({items:e=[],total:n,color:a="primary-500",sortBy:r="count",emptyTitle:s,emptyMessage:i,onClick:c,...m})=>{const{t:u}=te("data"),f=l.useMemo(()=>n||Math.max(...e.map(g=>g.count)),[n,e]),b=l.useMemo(()=>e.sort(qe(r==="label"?"asc":"desc",r)),[e,r]);return t.jsxs("div",{className:"fabric-histogram from-0% to-100%",...m,style:{"--color":un(a)?a:`var(--color-${a})`},children:[b.length===0&&t.jsx(ke,{icon:t.jsx(D,{icon:at,size:"2.5rem"}),title:s,message:i??u("histogram.empty")}),b==null?void 0:b.map(g=>t.jsxs("div",{role:"none","data-disabled":g.count===0||g.disabled,className:I("relative cursor-pointer flex flex-nowrap items-center select-none overflow-hidden min-h-6 my-px","fabric-histoLabel",((g.total??g.count)===0||g.disabled)&&"pointer-events-none"),"data-testid":g.id,onClick:O=>[c==null?void 0:c(g.id),O.stopPropagation()],children:[t.jsx("div",{className:I("absolute z-0 inset-0 opacity-50 min-w-2 ltr:bg-gradient-to-r rtl:bg-gradient-to-l","fabric-histoBar"),style:{width:`${Math.min(g.count/f,1)*100}%`}}),t.jsx(zn,{className:"flex-1 truncate z-1 text-sm cursor-pointer font-medium",actions:[t.jsx(J,{color:"danger",size:"sm",stopPropagation:!0,icon:C.funnelMinus,"aria-label":"Filter Negative",onClick:()=>c==null?void 0:c(g.id,!0)},"negative"),t.jsx(J,{color:"primary",size:"sm",stopPropagation:!0,icon:C.funnelPlus,"aria-label":"Filter",onClick:()=>c==null?void 0:c(g.id)},"positive")],children:g.label}),t.jsx("span",{className:I("z-1 rounded-full text-xs font-medium px-2 py-1 leading-none","fabric-histoBadge"),children:Y.number(g.count)})]},g.id))]})};st.__docgenInfo={description:`Histogram component displays a bar chart of items with counts.
It allows users to visualize the distribution of counts across different items.
The component supports sorting, custom colors, and click handling for each item.
It also provides an empty state when there are no items to display.

@param {HistogramProps} props - The properties for the Histogram component.
@returns {JSX.Element} - The rendered Histogram component.

@example
\`\`\`jsx
<Histogram
  items={[
    { id: "1", label: "Item 1", count: 10 },
    { id: "2", label: "Item 2", count: 20 },
    { id: "3", label: "Item 3", count: 5, disabled: true },
  ]}
  total={30}
  color="primary-500"
  sortBy="count"
  emptyTitle="No Data Available"
  emptyMessage="Please check back later."
  onClick={(id, negative) => console.log(\`Clicked on \${id}\`, negative ? "Negative" : "Positive")}
/>
\`\`\`

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/docs/data-histogram--docs}`,methods:[],displayName:"Histogram",props:{items:{required:!1,tsType:{name:"Array",elements:[{name:"HistogramItem"}],raw:"HistogramItem[]"},description:"histogram items list",defaultValue:{value:"[]",computed:!1}},total:{required:!1,tsType:{name:"number"},description:"total count"},color:{required:!1,tsType:{name:"union",raw:"ColorType | PaletteType",elements:[{name:"ColorType"},{name:"PaletteType"}]},description:"histogram bar color",defaultValue:{value:'"primary-500"',computed:!1}},sortBy:{required:!1,tsType:{name:"union",raw:'"label" | "count"',elements:[{name:"literal",value:'"label"'},{name:"literal",value:'"count"'}]},description:"sorted list",defaultValue:{value:'"count"',computed:!1}},emptyTitle:{required:!1,tsType:{name:"union",raw:"string | JSX.Element",elements:[{name:"string"},{name:"JSX.Element"}]},description:"title when histo list is empty"},emptyMessage:{required:!1,tsType:{name:"union",raw:"string | JSX.Element",elements:[{name:"string"},{name:"JSX.Element"}]},description:"message when histo list is empty"},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, negative?: true) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"literal",value:"true"},name:"negative"}],return:{name:"void"}}},description:"handle histo click"}},composes:["TestProps"]};const he=(e,n=[],a="")=>{const r=[];return Object.entries(e).forEach(([s,i])=>{if(Te(i)&&me(i[0]))r.push(...he(i,[...n,s],s));else{const c={field:a?`${a}.${s}`:s,value:i,path:[...n,s].join(".")};me(i)&&!ee(i)&&!("_score_"in i)&&(c.children=he(i,[...n,s])),r.push(c)}}),r.flat(99)},rn=({value:e,path:n,field:a,children:r,copy:s,filters:i,labeler:c,formatter:m,propertyScheme:u,showPropertyTree:f,onFilter:b,inline:g,labelWidth:O="30%",level:k=0})=>{const{t:d}=te("data"),[w,M]=l.useState(!0),T=l.useMemo(()=>!!r,[r]),N=l.useMemo(()=>(e==null?void 0:e._label_)??e??"",[e]),h=l.useMemo(()=>{var o,q,A,L,$,H,S;if(r)return null;if(Fe(e))return t.jsx("span",{className:"text-muted",children:"null"});if(ee(e))return t.jsx("span",{className:"text-muted",children:"empty"});let v=N;if(m){const x=m==null?void 0:m(n,N);Fe(x)||(v=x)}return Te(N)&&(v=`[${N.join(", ")}]`),(o=u==null?void 0:u.date)!=null&&o.includes(n),(q=u==null?void 0:u.time)!=null&&q.includes(n)&&(v=Y.date(N,"pp")),(A=u==null?void 0:u.number)!=null&&A.phone(n)&&(v=Y.phone(N)),(L=u==null?void 0:u.bytes)!=null&&L.includes(n)&&(v=Y.bytes(N)),($=u==null?void 0:u.percent)!=null&&$.includes(n)&&(v=Y.percent(N)),(H=u==null?void 0:u.number)!=null&&H.includes(n)&&(v=Y.number(N)),((S=u==null?void 0:u.boolean)!=null&&S.includes(n)||mn(N))&&(v=d(N?"json.true":"json.false")),(v==null?void 0:v.length)>128?v=t.jsx(Tn,{clamp:3,children:v}):v=t.jsx("div",{className:"break-words",children:v}),t.jsxs(l.Fragment,{children:[v,me(e)&&e._score_>0&&t.jsx(vn,{className:"text-xs",value:e._score_})]})},[e,n,m,u,N]),p=l.useMemo(()=>n.replace(/\.\d*\./,"."),[n]),y=l.useMemo(()=>{var v,o;return!ee(e)&&(pe(s)||((v=s==null?void 0:s.includes)==null?void 0:v.call(s,n))||((o=s==null?void 0:s.includes)==null?void 0:o.call(s,p)))},[s,e,n,p]),V=l.useMemo(()=>{var v,o;return pe(i)||((v=i==null?void 0:i.includes)==null?void 0:v.call(i,n))||((o=i==null?void 0:i.includes)==null?void 0:o.call(i,p))},[i,n,p]),z=l.useMemo(()=>t.jsxs("div",{className:I("text-dimmed text-sm px-2 flex-1 group",g?"truncate":"break-words"),children:[!T&&V&&t.jsxs("div",{className:"hidden pe-1 group-hover:inline-block",children:[t.jsx(J,{color:"danger",size:"xs",variant:"link",icon:C.funnelMinus,"aria-label":"Filter Negative",onClick:()=>b==null?void 0:b(p,N,!0)},"negative"),t.jsx(J,{color:"primary",size:"xs",variant:"link",icon:C.funnelPlus,"aria-label":"Filter",onClick:()=>b==null?void 0:b(p,N)},"positive")]}),(c==null?void 0:c(n))??a]}),[a,c,p,N,T,V]);return t.jsxs(l.Fragment,{children:[f&&t.jsxs("div",{className:I("py-2",g&&"flex flex-nowrap items-center"),style:{paddingInlineStart:k*8},children:[t.jsxs("div",{role:"none",className:I("flex overflow-hidden items-center",g&&"flex-content"),style:{flexBasis:O},onClick:()=>T&&M(!w),children:[T&&t.jsx(D,{rtlFlip:!0,icon:w?C.chevronDown:C.chevronRight}),z]}),h&&t.jsxs("div",{className:I("px-2 flex flex-nowrap overflow-hidden",g&&"flex-1"),children:[y&&t.jsx(Je,{size:"xs",text:N}),t.jsx("div",{className:"flex-1",children:h})]})]}),!f&&!r&&t.jsxs("div",{className:I("py-2",g&&"flex flex-nowrap items-center"),children:[t.jsx("div",{role:"none",className:I("flex overflow-hidden items-center",g&&"flex-content"),style:{flexBasis:O},children:z}),t.jsxs("div",{className:I("px-2 flex flex-nowrap overflow-hidden",g&&"flex-1"),children:[y&&t.jsx(Je,{size:"xs",text:e}),t.jsx("div",{className:"flex-1",children:h})]})]}),w&&(r==null?void 0:r.map(v=>t.jsx(rn,{...v,level:k+1,copy:s,inline:g,showPropertyTree:f,propertyScheme:u,filters:i,labelWidth:O,formatter:m,labeler:c,onFilter:b},v.path)))]})},it=({className:e,json:n,copy:a,propertyScheme:r,filters:s,inline:i,labelWidth:c,formatter:m,labeler:u,onFilter:f,emptyMessage:b,showPropertyTree:g=!0,...O})=>{const{t:k}=te("data"),d=l.useMemo(()=>he(n),[n]);return t.jsx("div",{...O,className:I(e,"bg-alternate"),children:ee(n)?t.jsx(ke,{size:"sm",message:b??k("json.empty")}):d.map(w=>t.jsx(rn,{...w,copy:a,inline:i,showPropertyTree:g,propertyScheme:r,filters:s,labelWidth:c,formatter:m,labeler:u,onFilter:f},w.path))})};it.__docgenInfo={description:`JsonViewer component to display JSON data in a structured format.
It supports inline display, property filtering, and custom formatting.
The component can handle nested objects and arrays, displaying them in a tree-like structure.
It also provides options for copying values and filtering properties.

@param {JsonViewProps<T>} props - The properties for the JsonViewer component.
@returns {JSX.Element} The rendered JsonViewer component.

@example
\`\`\`jsx
<JsonViewer
  json={{ name: "John", age: 30, address: { city: "New York", zip: "10001" } }}
  copy={true}
  filters={true}
  propertyScheme={{ date: ["createdAt"], phone: ["contact"] }}
  inline={true}
  labelWidth="25%"
  formatter={(path, value) => (path === "age" ? \`\${value} years\` : value)}
  labeler={(path) => path.replace(/_/g, " ").toUpperCase()}
  onFilter={(path, value, negate) => console.log(\`Filter \${negate ? "negate" : ""} on \${path}:\`, value)}
/>
\`\`\`

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/docs/data-jsonviewer--docs}`,methods:[],displayName:"JsonViewer",props:{json:{required:!0,tsType:{name:"T"},description:"json value"},inline:{required:!1,tsType:{name:"boolean"},description:"display inline"},labelWidth:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"label fixed width when using inline"},showPropertyTree:{required:!1,tsType:{name:"boolean"},description:`display object properties as tree
@default true`,defaultValue:{value:"true",computed:!1}},propertyScheme:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  boolean?: string[];
  date?: string[];
  time?: string[];
  number?: string[];
  bytes?: string[];
  percent?: string[];
  phone?: string[];
}`,signature:{properties:[{key:"boolean",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"date",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"time",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"number",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"bytes",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"percent",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"phone",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]}},description:"properties to format as dates\n(default format applied to property name containing `date` | `time`)"},copy:{required:!1,tsType:{name:"union",raw:"true | string[]",elements:[{name:"literal",value:"true"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"enable value copy"},filters:{required:!1,tsType:{name:"union",raw:"true | string[]",elements:[{name:"literal",value:"true"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"enable filter callbacks"},emptyMessage:{required:!1,tsType:{name:"string"},description:"message for empty json"},onFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"(path: string, value: AnyObject, negate: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"AnyObject"},name:"value"},{type:{name:"boolean"},name:"negate"}],return:{name:"void"}}},description:"on filter callback"},labeler:{required:!1,tsType:{name:"signature",type:"function",raw:"(path: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"path"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:"render function for custom label display"},formatter:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  path?: string,
  value?: AnyObject,
) => string | JSX.Element | undefined`,signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"AnyObject"},name:"value"}],return:{name:"union",raw:"string | JSX.Element | undefined",elements:[{name:"string"},{name:"JSX.Element"},{name:"undefined"}]}}},description:"render function for custom value display"}},composes:["CssProp"]};const an=l.memo(({page:e,ranges:n,totalPages:a,minimal:r,onPageChange:s})=>{const[i,c,m]=n,u=l.useMemo(()=>t.jsxs(l.Fragment,{children:[i==null?void 0:i.map(f=>t.jsx("button",{onClick:()=>s(f),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===f&&"bg-primary-500 text-white pointer-events-none"),children:f+1},f)),c&&t.jsx("span",{className:"leading-none inline-block w-8 text-center text-dimmed",children:"..."}),c==null?void 0:c.map(f=>t.jsx("button",{onClick:()=>s(f),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===f&&"bg-primary-500 text-white pointer-events-none"),children:f+1},f)),m&&t.jsx("span",{className:"leading-none inline-block w-8 text-center text-dimmed",children:"..."}),m==null?void 0:m.map(f=>t.jsx("button",{onClick:()=>s(f),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===f&&"bg-primary-500 text-white pointer-events-none"),children:f+1},f))]}),[i,c,m,e]);return t.jsxs("div",{className:"inline-flex items-center",children:[t.jsx("button",{onClick:()=>s(0),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===0&&"pointer-events-none text-tint-300"),children:t.jsx(D,{icon:C.chevronsLeft,rtlFlip:!0})}),t.jsx("button",{onClick:()=>s(e-1),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===0&&"pointer-events-none text-tint-300"),children:t.jsx(D,{icon:C.chevronLeft,rtlFlip:!0})}),!r&&u,r&&t.jsxs("label",{className:"leading-none inline-block px-1 text-center text-sm select-none fixed-numbers",children:[e+1,"/",a]}),t.jsx("button",{onClick:()=>s(e+1),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e+1>=a&&"pointer-events-none text-tint-300"),children:t.jsx(D,{icon:C.chevronRight,rtlFlip:!0})}),t.jsx("button",{onClick:()=>s(a-1),className:I("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e+1>=a&&"pointer-events-none text-tint-300"),children:t.jsx(D,{icon:C.chevronsRight,rtlFlip:!0})})]})});an.displayName="Pagination";an.__docgenInfo={description:`Pagination component to navigate through pages of data.
It displays buttons for navigating to the first, previous, next, and last pages,
as well as buttons for specific page numbers based on the provided ranges.
The component supports a minimal view that shows the current page and total pages.
It uses memoization to optimize rendering performance.

@param {PaginationProps} props - The properties for the Pagination component.
@returns {JSX.Element} The rendered Pagination component.`,methods:[],displayName:"Pagination",props:{page:{required:!0,tsType:{name:"number"},description:"currrent page number"},totalPages:{required:!0,tsType:{name:"number"},description:"total page count"},ranges:{required:!0,tsType:{name:"Array",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"}],raw:"number[][]"},description:"pagination sections [start, mid, end]"},minimal:{required:!1,tsType:{name:"boolean"},description:"minimal view"},onPageChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:"page change handler"}}};const sn=({columns:e,onClick:n})=>t.jsx("div",{className:"group font-medium w-6 flex flex-nowrap text-start items-center",children:t.jsxs(wn,{placement:"bottom-end",children:[t.jsx(D,{icon:C.insert,className:"p-1 rounded-t rounded-b-none hover:outline"}),t.jsx(fe,{className:"text-sm",onClick:n,children:e.map(a=>t.jsx(ge,{id:String(a.id),"data-dropdown-dismiss":"false",label:`${a.label??String(a.id)}`,icon:a.hidden?"":C.tick},String(a.id)))})]})});sn.__docgenInfo={description:"",methods:[],displayName:"AddColumn",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"TableColumn"}],raw:"TableColumn[]"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""}}};const lt=(e,n,a)=>{var u;const r=n.firstElementChild,s=getComputedStyle(e).direction==="rtl",i=f=>{const b=e.getBoundingClientRect(),g=s?b.left-f.clientX:f.clientX-b.right;r.style.width=`${e.offsetWidth+g}px`},c=()=>{a(r.offsetWidth),n.style.display="none",document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",c)},m=e.getBoundingClientRect();if(e.parentElement!=null){const f=(u=e.closest("[data-ref='tableScroller']"))==null?void 0:u.getBoundingClientRect();s?(r.style.left="unset",r.style.right=`${f.width-m.right}px`):(r.style.right="unset",r.style.left=`${m.left}px`)}r.style.width=`${e.offsetWidth}px`,r.style.minWidth=e.style.minWidth||"48px",r.style.maxWidth=e.style.maxWidth||"75vw",n.style.display="block",document.addEventListener("mousemove",i),document.addEventListener("mouseup",c)},ln=l.createContext({}),on=({children:e})=>{const n=l.useRef(null),[a,r]=l.useState(new Map),s=l.useCallback(i=>{i&&n.current!=null&&lt(i,n.current,c=>{r(new Map(a.set(i.dataset.id??"",c)))})},[a]);return t.jsxs(ln.Provider,{value:{startResize:s,widths:a},children:[e,t.jsx("div",{className:"absolute inset-0 hidden z-20 cursor-col-resize",ref:n,children:t.jsx("div",{className:"absolute inset-y-0 bg-muted opacity-50 border-primary border-e-2"})})]})},Ce=()=>l.useContext(ln);on.__docgenInfo={description:"",methods:[],displayName:"TableProvider"};const Oe="3rem",Ae="64rem",Ee="12rem",ae=({column:e,item:n,index:a})=>{const{widths:r}=Ce(),s=l.useMemo(()=>r.get(e.id.toString())??e.width,[r,e]),i=l.useMemo(()=>{const c=qn(n,e.id.toString());return e.renderer!=null?e.renderer(c,n,a):e.dataType==="boolean"?(e.valueMap??{true:"Yes",false:"no"})[`${pe(c)?"true":"false"}`]:e.valueMap!=null&&e.dataType==="string"&&c in e.valueMap?e.valueMap[c]:["date","time","datetime"].includes(e.dataType??"")?t.jsx(kn,{date:c,format:e.format}):e.dataType==="number"?Y.number(c,e.format):c??""},[n,e]);return t.jsx("div",{className:"overflow-hidden bg-inherit start-0 border-e group/table-col",style:{width:s??Ee,minWidth:e.minWidth??Oe,maxWidth:e.maxWidth??Ae},children:t.jsx("div",{className:I("px-2 py-1",e.className,e.truncate&&"truncate",e.align==="center"&&"text-center",e.align==="end"&&"text-end"),children:i})})};ae.__docgenInfo={description:"",methods:[],displayName:"BodyCell",props:{column:{required:!0,tsType:{name:"TableColumn"},description:""},item:{required:!0,tsType:{name:"KeyValue"},description:""},index:{required:!0,tsType:{name:"number"},description:""}}};const Ie=({state:e,onClick:n})=>t.jsx("div",{className:"group font-medium border-e w-6 flex flex-nowrap text-start py-1",children:t.jsx(D,{icon:e===2?C.checkboxInt:e===1?C.checkboxOn:C.checkboxOff,className:"p-1 text-tint-700 hover:text-primary-600",onClick:a=>[n==null?void 0:n(),a.stopPropagation()]})});Ie.__docgenInfo={description:"",methods:[],displayName:"CheckboxCell",props:{state:{required:!0,tsType:{name:"union",raw:"0 | 1 | 2",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"}]},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const dn=({rowKey:e,index:n,data:a,keyProperty:r,measureElement:s,state:i,hideableColumns:c,wrapperStart:m,wrapperEnd:u,onRowClick:f,checkableRows:b,checked:g,toggleChecked:O,canExpand:k,expanded:d,toggleExpand:w,expandRow:M})=>{var T,N,h;return t.jsxs("div",{ref:s,"data-index":n,className:n%2?"bg-even":"bg-odd",children:[t.jsxs("div",{role:"none","data-row":n,className:I("flex flex-nowrap datatable-row data-[hilight]:outline-1 -outline-offset-1 outline-primary-500 group/table-row",f&&"hover:bg-primary-50 active:bg-primary-100",n%2?"bg-even":"bg-odd"),onClick:()=>b&&r&&!f?O(a[r]):f==null?void 0:f(a),children:[t.jsxs("div",{className:m,children:[!!k&&t.jsx("div",{className:I("group font-medium w-6 flex flex-nowrap text-start py-1",!k(a)&&"pointer-events-none opacity-35"),children:t.jsx(D,{className:"p-1 text-tint-700 hover:text-primary-600",icon:d?C.collapse:C.expand,onClick:p=>[r&&w(a[r]),p.stopPropagation()]})}),b&&r&&t.jsx(Ie,{onClick:()=>O(a[r]),state:g}),(T=i.start)==null?void 0:T.map((p,y)=>t.jsx(ae,{column:p,item:a,index:y},`${String(e)}:${y}`))]}),(N=i.cols)==null?void 0:N.map((p,y)=>t.jsx(ae,{column:p,item:a,index:y},`${String(e)}:${y}`)),t.jsxs("div",{className:u,children:[(h=i.end)==null?void 0:h.map((p,y)=>t.jsx(ae,{column:p,item:a,index:y},`${String(e)}:${y}`)),c&&t.jsx("div",{className:"w-6"})]})]}),d&&M(a)]})};dn.__docgenInfo={description:"",methods:[],displayName:"BodyRow",props:{rowKey:{required:!0,tsType:{name:"Key"},description:""},index:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"KeyValue"},description:""},keyProperty:{required:!1,tsType:{name:"Key"},description:""},measureElement:{required:!0,tsType:{name:"AnyObject"},description:""},state:{required:!0,tsType:{name:"KeyValue",elements:[{name:"Array",elements:[{name:"TableColumn"}],raw:"TableColumn[]"}],raw:"KeyValue<TableColumn[]>"},description:""},hideableColumns:{required:!1,tsType:{name:"boolean"},description:""},wrapperStart:{required:!0,tsType:{name:"string"},description:""},wrapperEnd:{required:!0,tsType:{name:"string"},description:""},checkableRows:{required:!1,tsType:{name:"boolean"},description:""},checked:{required:!0,tsType:{name:"union",raw:"0 | 1",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"}]},description:""},onRowClick:{required:!1,tsType:{name:"AnyObject"},description:""},canExpand:{required:!1,tsType:{name:"AnyObject"},description:""},expandRow:{required:!1,tsType:{name:"AnyObject"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},toggleExpand:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{type:{name:"Key"},name:"key"}],return:{name:"void"}}},description:""},toggleChecked:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{type:{name:"Key"},name:"key"}],return:{name:"void"}}},description:""}}};const se=({id:e,width:n,maxWidth:a,minWidth:r})=>{const{widths:s}=Ce(),i=l.useMemo(()=>s.get(e.toString())??n,[s,e,n]);return t.jsx("div",{className:"overflow-hidden border-e",style:{width:i??Ee,minWidth:r??Oe,maxWidth:a??Ae}},`blank:${e.toString()}`)};se.__docgenInfo={description:"",methods:[],displayName:"EmptyCell",props:{id:{required:!0,tsType:{name:"union",raw:"keyof T | string",elements:[{name:"T"},{name:"string"}]},description:""},field:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},tooltip:{required:!1,tsType:{name:"string"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},description:""},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:""},locked:{required:!1,tsType:{name:"union",raw:'"start" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:""},hidden:{required:!1,tsType:{name:"boolean"},description:""},truncate:{required:!1,tsType:{name:"boolean"},description:""},hideable:{required:!1,tsType:{name:"boolean"},description:""},resizable:{required:!1,tsType:{name:"boolean"},description:""},sortable:{required:!1,tsType:{name:"boolean"},description:""},filterable:{required:!1,tsType:{name:"boolean"},description:""},filter:{required:!1,tsType:{name:"AnyObject"},description:""},filterOptions:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},dataType:{required:!1,tsType:{name:"union",raw:`| "string"
| "number"
| "boolean"
| "datetime"
| "date"
| "time"
| "unknown"`,elements:[{name:"literal",value:'"string"'},{name:"literal",value:'"number"'},{name:"literal",value:'"boolean"'},{name:"literal",value:'"datetime"'},{name:"literal",value:'"date"'},{name:"literal",value:'"time"'},{name:"literal",value:'"unknown"'}]},description:""},format:{required:!1,tsType:{name:"string"},description:""},valueMap:{required:!1,tsType:{name:"KeyValue"},description:""},renderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: AnyObject, data: T, index: number) => Elements<AnyObject>",signature:{arguments:[{type:{name:"AnyObject"},name:"value"},{type:{name:"T"},name:"data"},{type:{name:"number"},name:"index"}],return:{name:"Elements",elements:[{name:"AnyObject"}],raw:"Elements<AnyObject>"}}},description:""}},composes:["CssProp","IconProps","TestProps"]};const ot=(e,n="",a=!0,r)=>{const s=[];return e.forEach(i=>{if(r)return(r==null?void 0:r(i,n))&&s.push(i);if(n&&Te(n)&&n.length>0){if(a&&n.every(c=>Z(i.label??i.toString(),c))||!a&&n.some(c=>Z(i.label??i.toString(),c)))return s.push(i)}else if(n&&le(n)){if(Z(i.label??i.toString(),n))return s.push(i)}else return s.push(i)}),s};function dt(e,n,a){const[r,s]=l.useState(),i=l.useDeferredValue(e??[]),[c,m]=l.useState([]),[u,f]=l.useTransition(),b=typeof n=="boolean"?n:!0,g=typeof n=="function"?n:a,O=l.useCallback((k,d,w)=>f(()=>m(ot(k,d,w,g))),[]);return l.useEffect(()=>{r?O(i,r,b):m(e)},[r,b,i]),{onSearch:s,query:r,filteredList:c,isSearching:u}}const ct=({list:e=ne,filter:n,onFilter:a})=>{const[r,s]=l.useState(new Set(n)),{filteredList:i,query:c,onSearch:m}=dt(e,(u,f)=>Z(u.id??u,f));return t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{children:t.jsx(tn,{autoFocus:!0,value:c,onSearch:m,searchOnChange:!0})}),t.jsxs("div",{className:"flex-1 overflow-auto scroll-thin",children:[i.map((u,f)=>t.jsx("div",{className:"flex gap-x-1 text-xs items-center",children:t.jsx(Ln,{checked:r.has(u.id??u),onChange:b=>{const g=new Set(Array.from(r.values()));b?g.add(u.id??u):g.delete(u.id??u),s(g)},label:t.jsx("span",{className:"truncate",children:u.label??u})})},f)),i.length===0&&t.jsx("span",{className:"text-muted text-xs",children:"No items found"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(jn,{children:t.jsx(J,{size:"xs",onClick:()=>a==null?void 0:a(Array.from(r)),children:"Apply"})})})]})},ye=({type:e,list:n,filter:a,onFilter:r})=>t.jsxs("div",{className:"flex flex-col min-w-[16rem]",children:[n&&t.jsx(ct,{list:n,filter:a,onFilter:r}),!n&&e==="string"&&t.jsx(An,{autoFocus:!0,allowClear:!0,value:a,onEnterPressed:s=>r(s.target.value??"")})]});ye.__docgenInfo={description:"",methods:[],displayName:"ColumnFilters",props:{type:{required:!0,tsType:{name:'TableColumn["dataType"]',raw:'TableColumn["dataType"]'},description:""},onFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: AnyObject) => void",signature:{arguments:[{type:{name:"AnyObject"},name:"value"}],return:{name:"void"}}},description:""},list:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:""},filter:{required:!0,tsType:{name:"AnyObject"},description:""}}};const ie=({id:e,field:n,dataType:a,label:r,icon:s,iconBg:i,iconColor:c,rtlFlip:m,actions:u,locked:f,filter:b,filterable:g,filterOptions:O,tooltip:k,sortable:d,resizable:w,width:M,maxWidth:T,minWidth:N,sort:h,onSort:p,onFilter:y})=>{const{startResize:V,widths:z}=Ce(),v=l.useMemo(()=>z.get(e.toString())??M,[z,M,e]),o=l.useCallback(A=>{d&&(p==null||p({id:e.toString(),order:A??((h==null?void 0:h.id)===e&&h.order==="asc"?"desc":"asc")}))},[p,h,d]),q=l.useMemo(()=>{let A=[];return g&&(a??O)&&A.push(t.jsx(fe,{label:"Filter",icon:b?C.tick:"",trigger:"click",children:t.jsx(ye,{type:a,list:O,filter:b,onFilter:L=>y==null?void 0:y(n??e,L)})},"filters")),d&&A.push(t.jsx(ge,{label:"Sort ascending",icon:C.sortAsc,onClick:()=>o("asc")},"sort-asc"),t.jsx(ge,{label:"Sort descending",icon:C.sortDesc,onClick:()=>o("desc")},"sort-desc")),u&&(A.push(t.jsx(Nn,{},"div")),A.push(...u)),A.length===1&&(A=[t.jsx(ye,{type:a,list:O,filter:b,onFilter:L=>y==null?void 0:y(n??e,L)},"filters")]),A},[d,u,y,o]);return t.jsxs("div",{role:"none","data-id":e,onClick:()=>o(),className:"group/tool font-medium border-e flex flex-nowrap text-start items-center table-header-cell",style:{width:v??Ee,minWidth:N??Oe,maxWidth:T??Ae},children:[t.jsx(gn,{content:k??r,disabled:!(k??r),children:t.jsxs("div",{className:"flex-initial px-2 py-1 text-sm truncate sticky start-0",children:[s&&t.jsx(D,{icon:s,bg:i,color:c,rtlFlip:m}),t.jsx("span",{children:r??" "})]})}),d&&t.jsxs("div",{className:"text-sm text-tint-300",children:[(h==null?void 0:h.id)===e&&(h==null?void 0:h.order)==="desc"&&t.jsx("span",{children:"▼"}),(h==null?void 0:h.id)===e&&(h==null?void 0:h.order)==="asc"&&t.jsx("span",{children:"▲"})]}),t.jsx("div",{className:"flex-1"}),q.length>0&&t.jsx(Cn,{groupHover:!0,placement:"bottom-end",children:t.jsx(fe,{className:"text-sm",children:q})}),g&&!ee(b)&&t.jsx(J,{size:"sm",variant:"link","aria-label":"clear filter",stopPropagation:!0,icon:C.funnelRemove,onClick:()=>y==null?void 0:y(e)}),w&&t.jsx("div",{role:"none",className:"cursor-col-resize border-e bg-transparent border-tint-200 w-[5px] self-stretch",onMouseDown:A=>A.currentTarget.parentElement&&V(A.currentTarget.parentElement)})]})};ie.__docgenInfo={description:"",methods:[],displayName:"HeaderCell",props:{id:{required:!0,tsType:{name:"union",raw:"keyof T | string",elements:[{name:"T"},{name:"string"}]},description:""},field:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},tooltip:{required:!1,tsType:{name:"string"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},description:""},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:""},locked:{required:!1,tsType:{name:"union",raw:'"start" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:""},hidden:{required:!1,tsType:{name:"boolean"},description:""},truncate:{required:!1,tsType:{name:"boolean"},description:""},hideable:{required:!1,tsType:{name:"boolean"},description:""},resizable:{required:!1,tsType:{name:"boolean"},description:""},sortable:{required:!1,tsType:{name:"boolean"},description:""},filterable:{required:!1,tsType:{name:"boolean"},description:""},filter:{required:!1,tsType:{name:"AnyObject"},description:""},filterOptions:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},dataType:{required:!1,tsType:{name:"union",raw:`| "string"
| "number"
| "boolean"
| "datetime"
| "date"
| "time"
| "unknown"`,elements:[{name:"literal",value:'"string"'},{name:"literal",value:'"number"'},{name:"literal",value:'"boolean"'},{name:"literal",value:'"datetime"'},{name:"literal",value:'"date"'},{name:"literal",value:'"time"'},{name:"literal",value:'"unknown"'}]},description:""},format:{required:!1,tsType:{name:"string"},description:""},valueMap:{required:!1,tsType:{name:"KeyValue"},description:""},renderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: AnyObject, data: T, index: number) => Elements<AnyObject>",signature:{arguments:[{type:{name:"AnyObject"},name:"value"},{type:{name:"T"},name:"data"},{type:{name:"number"},name:"index"}],return:{name:"Elements",elements:[{name:"AnyObject"}],raw:"Elements<AnyObject>"}}},description:""}},composes:["CssProp","IconProps","TestProps"]};const ut=e=>{const[n,a]=l.useReducer((r,s)=>{if(s.type==="columns"&&(r.columns=s.columns),s.type==="hide"){const u=r.columns.find(f=>f.id===s.id);u&&r.columns.splice(r.columns.indexOf(u),1,{...u,hidden:u.hidden!==!0})}const{start:i=[],end:c=[],cols:m=[]}=nn(r.columns.filter(u=>u.hidden!==!0),"locked","cols");return{...r,start:i,end:c,cols:m}},{columns:[],start:[],end:[],cols:[]});return l.useEffect(()=>{a({type:"columns",columns:e})},[e]),{state:n,onHide:r=>a({type:"hide",id:r})}},mt=(e,n)=>{var k;const[a,r]=l.useReducer((d,w)=>{var T,N;w.type==="updateState"&&(d.checked=w.checked),w.type==="expand"&&(d.expanded.includes(w.key)?d.expanded.splice(d.expanded.indexOf(w.key),1):d.expanded.push(w.key)),w.type==="check"&&(d.checked.includes(w.key)?d.checked.splice(d.checked.indexOf(w.key),1):d.checked.push(w.key),(T=n.onCheckChanged)==null||T.call(n,d.checked)),w.type==="checkall"&&(d.allChecked!==0?d.checked=[]:n.keyProperty&&(d.checked=d.data.map(h=>h[n.keyProperty])),(N=n.onCheckChanged)==null||N.call(n,d.checked));const M=d.data.filter(h=>d.checked.includes(h[n.keyProperty]));if(w.type==="groupExpand"){const h=d.groups.find(p=>p.key===w.key);h&&(h.open=!h.open,d.groups=d.groups.slice(),d.items=d.groups.map(p=>[p,p.open?d.grouped[p.key]:void 0]).flat(2).filter(Boolean))}return w.type==="reset"&&(d.data=w.data,w.key?(d.grouped=nn(d.data,w.key),d.groups=Object.keys(d.grouped).sort(qe("asc")).map(h=>({__GROUP__:!0,open:!0,key:h,items:d.grouped[h],itemCount:d.grouped[h].length})),d.items=d.groups.map(h=>[h,...d.grouped[h.key]]).flat()):d.items=d.data),{...d,allChecked:M.length===d.data.length?1:d.checked.length?2:0}},{data:e,items:[],grouped:{},groups:[],checked:[],expanded:[],allChecked:0}),s=l.useRef(0),i=l.useMemo(()=>a.items.map((d,w)=>"__GROUP__"in d?w:void 0).filter(Boolean),[a.items]),c=d=>s.current===d,[m,u]=l.useState(!1),f=l.useRef(null),b=oe({count:a.items.length,getScrollElement:()=>f.current,estimateSize:()=>32,rangeExtractor:l.useCallback(d=>(s.current=[...i].reverse().find(M=>d.startIndex>M)??0,u(d.startIndex!==s.current),[...new Set([s.current,...xn(d)])]),[i])}),g=b.getVirtualItems(),O=l.useCallback(d=>a.items[d],[a.items]);return l.useEffect(()=>{r({type:"reset",key:n.groupProperty,data:e})},[e,n.groupProperty]),l.useEffect(()=>{r({type:"updateState",checked:n.checked??[]})},[n.checked]),l.useEffect(()=>{var d,w;if(n.onLoadMore){const M=(d=g[0])==null?void 0:d.index,T=(w=g==null?void 0:g.slice(-1).pop())==null?void 0:w.index,N=M!==void 0&&a.items[M]===null,h=T!==void 0&&T===a.items.length-1&&a.items.length<n.total,p=de(n.onLoadMore);return N?p(M):!n.loading&&h&&p(T+1),()=>p.cancel()}},[n.onLoadMore,g]),{scrollerRef:f,items:g,checkState:a,getData:O,virtualizer:b,hasActiveSticky:m,isActiveSticky:c,top:(k=b.range)==null?void 0:k.startIndex,totalSize:b.getTotalSize,measureElement:b.measureElement,toggleGroupExpand:d=>r({type:"groupExpand",key:d}),toggleExpand:d=>r({type:"expand",key:d}),toggleChecked:d=>r({type:"check",key:d}),toggleAllChecked:()=>r({type:"checkall"})}},pt=({ref:e,data:n,columns:a,keyProperty:r="id",groupProperty:s,checkableRows:i,initialScroll:c,hideableColumns:m,sort:u,loading:f,checked:b,emptyDisplay:g,groupRenderer:O,canExpand:k,children:d,onSort:w,onFilter:M,onScroll:T,onRowClick:N,onCheckedChanged:h,total:p=0,onLoadMore:y})=>{var Re,Ve,Le,$e,He,Be,De;const{t:V}=te("data"),z=re(P=>h==null?void 0:h(P),[]),{state:v,onHide:o}=ut(a),{scrollerRef:q,items:A,top:L,checkState:$,virtualizer:H,hasActiveSticky:S,toggleExpand:x,toggleChecked:j,toggleAllChecked:E,toggleGroupExpand:R,getData:B,totalSize:_,isActiveSticky:Q,measureElement:G}=mt(n,{checked:b,keyProperty:r,groupProperty:s,total:p,loading:f,onLoadMore:y,onCheckChanged:z}),F=l.useRef(null),X=l.useMemo(()=>"bg-inherit sticky start-0 flex flex-nowrap z-1",[]),ce=l.useMemo(()=>"bg-inherit sticky end-0 flex flex-nowrap z-1 border-s -ms-px",[]);return l.useLayoutEffect(()=>{setTimeout(()=>{c&&H.scrollToIndex(c,{align:"start"})},100)},[]),l.useImperativeHandle(e,()=>({scrollTo:P=>{H.scrollToIndex(P,{align:"start"})},hilight(P){var W,K;(K=(W=q.current)==null?void 0:W.querySelector(".hilight"))==null||K.classList.remove("hilight","ring-1"),H.scrollToIndex(Math.floor(P),{align:"start"}),setTimeout(()=>{var _e,We;(We=(_e=q.current)==null?void 0:_e.querySelector(`[data-index="${P}"]`))==null||We.classList.add("hilight","ring-1")},100)},unhilight(){var P,W;(W=(P=q.current)==null?void 0:P.querySelector(".hilight"))==null||W.classList.remove("hilight","ring-1")}}),[]),l.useEffect(()=>{const P=de(W=>{T==null||T(W??0)});return P(L),()=>{P.cancel()}},[L]),t.jsx(on,{children:t.jsxs("div",{className:"grid area-content overflow-auto relative",style:{gridTemplate:'"head" auto "loader" auto "content" 1fr "foot" auto/1fr'},"data-ref":"tableScroller",ref:q,children:[t.jsxs("div",{"data-ref":"tableHeader",className:"bg-base font-medium sticky top-0 h-8 area-head border-b select-none flex flex-nowrap z-3",children:[t.jsxs("div",{className:X,children:[k&&t.jsx("div",{className:"w-6"}),i&&t.jsx(Ie,{state:$.allChecked,onClick:E}),(Re=v.start)==null?void 0:Re.map((P,W)=>t.jsx(ie,{...P,sort:u,onSort:w,onFilter:M},W))]}),(Ve=v.cols)==null?void 0:Ve.map((P,W)=>t.jsx(ie,{...P,sort:u,onSort:w,onFilter:M},W)),t.jsxs("div",{className:ce,children:[(Le=v.end)==null?void 0:Le.map((P,W)=>t.jsx(ie,{...P,sort:u,onSort:w,onFilter:M},W)),m&&t.jsx(sn,{onClick:o,columns:v.columns.filter(P=>P.hideable!==!1)})]})]}),f&&t.jsx(hn,{}),n.length>0&&t.jsxs("div",{className:"area-content flex flex-col flex-nowrap min-h-full",style:{height:_()},ref:F,children:[t.jsx("div",{style:{height:($e=A[S?1:0])==null?void 0:$e.start}}),A.map(({index:P,key:W})=>{const K=B(P);return"__GROUP__"in K?t.jsxs("div",{ref:G,"data-index":P,className:I("px-2 py-1 text-md bg-base border-y border-tint-100 cursor-pointer flex items-center gap-1 z-2",Q(P)&&"sticky top-8"),role:"none",onClick:()=>R(K.key),children:[t.jsx(D,{rtlFlip:!0,icon:K.open?C.chevronDown:C.chevronRight}),(O==null?void 0:O(K))??t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx("span",{children:K.key}),t.jsxs("span",{className:"text-sm",children:["(",K.itemCount,")"]})]})]},W):t.jsx(dn,{rowKey:W.toString(),index:P,checkableRows:i,checked:r&&$.checked.includes(K[r])?1:0,expanded:!!r&&$.expanded.includes(K[r]),data:K,hideableColumns:m,keyProperty:r,measureElement:G,onRowClick:N,state:v,canExpand:k,toggleExpand:x,expandRow:d,toggleChecked:j,wrapperEnd:ce,wrapperStart:X},W)}),t.jsxs("div",{className:"flex-1 flex flex-nowrap",children:[t.jsxs("div",{className:X,children:[k&&t.jsx("div",{className:"w-6"}),i&&t.jsx("div",{className:"w-6"}),(He=v.start)==null?void 0:He.map(P=>t.jsx(se,{...P},String(P.id)))]}),(Be=v.cols)==null?void 0:Be.map(P=>t.jsx(se,{...P},String(P.id))),t.jsxs("div",{className:ce,children:[(De=v.end)==null?void 0:De.map(P=>t.jsx(se,{...P},String(P.id))),m&&t.jsx("div",{className:"w-6"})]})]})]}),!f&&n.length===0&&(g??t.jsx(ke,{size:"sm",className:"bg-dimmed",message:V("datagrid.empty")}))]})})};pt.__docgenInfo={description:`Table component for displaying data in a tabular format with features like sorting, filtering, and virtual scrolling.
It supports expandable rows, checkable rows, and customizable columns.
The component is designed to handle large datasets efficiently by rendering only the visible rows.
It also provides a way to manage column visibility and allows for custom rendering of group headers.
Uses TanStack's \`useVirtual\` for virtualization and React's \`useMemo\` for performance optimization.

@param {TableProps<T>} props - The properties for the Table component.
@returns {JSX.Element} The rendered Table component.

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/story/data-table--table}
@see {@link https://tanstack.com/table/v8/docs/api/virtual}`,methods:[{name:"scrollTo",docblock:null,modifiers:[],params:[{name:"row",optional:!1,type:{name:"number"}}],returns:null},{name:"hilight",docblock:null,modifiers:[],params:[{name:"row",optional:!1,type:null}],returns:null},{name:"unhilight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Table",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"TableColumn",elements:[{name:"T"}],raw:"TableColumn<T>"}],raw:"Array<TableColumn<T>>"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},keyProperty:{required:!1,tsType:{name:"T"},description:"",defaultValue:{value:'"id"',computed:!1}},groupProperty:{required:!1,tsType:{name:"T"},description:""},groupRenderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(key: AnyObject) => ReactElement",signature:{arguments:[{type:{name:"AnyObject"},name:"key"}],return:{name:"ReactElement"}}},description:""},emptyDisplay:{required:!1,tsType:{name:"ReactElement"},description:""},checked:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:"checkable rows"},checkableRows:{required:!1,tsType:{name:"boolean"},description:""},onCheckedChanged:{required:!1,tsType:{name:"signature",type:"function",raw:"(rows: AnyObject[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},name:"rows"}],return:{name:"void"}}},description:""},sort:{required:!1,tsType:{name:"signature",type:"object",raw:'{ id: string; order: "asc" | "desc" }',signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:'"asc" | "desc"',elements:[{name:"literal",value:'"asc"'},{name:"literal",value:'"desc"'}],required:!0}}]}},description:"sorting"},onSort:{required:!1,tsType:{name:"signature",type:"function",raw:'(sort: { id: string; order: "asc" | "desc" }) => void',signature:{arguments:[{type:{name:"signature",type:"object",raw:'{ id: string; order: "asc" | "desc" }',signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:'"asc" | "desc"',elements:[{name:"literal",value:'"asc"'},{name:"literal",value:'"desc"'}],required:!0}}]}},name:"sort"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},hideableColumns:{required:!1,tsType:{name:"boolean"},description:""},onRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: T) => void",signature:{arguments:[{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:""},initialScroll:{required:!1,tsType:{name:"number"},description:""},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(firstItem: number) => void",signature:{arguments:[{type:{name:"number"},name:"firstItem"}],return:{name:"void"}}},description:""},canExpand:{required:!1,tsType:{name:"signature",type:"function",raw:"(record: T) => boolean",signature:{arguments:[{type:{name:"T"},name:"record"}],return:{name:"boolean"}}},description:""},children:{required:!1,tsType:{name:"signature",type:"function",raw:"(record: T) => Elements<AnyObject>",signature:{arguments:[{type:{name:"T"},name:"record"}],return:{name:"Elements",elements:[{name:"AnyObject"}],raw:"Elements<AnyObject>"}}},description:""},onFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: keyof T | string, value?: AnyObject) => void",signature:{arguments:[{type:{name:"union",raw:"keyof T | string",elements:[{name:"T"},{name:"string"}]},name:"id"},{type:{name:"AnyObject"},name:"value"}],return:{name:"void"}}},description:""},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"(lastIndex?: number) => void",signature:{arguments:[{type:{name:"number"},name:"lastIndex"}],return:{name:"void"}}},description:""}},composes:["RefProp"]};const cn=({node:e,noLines:n,expanders:a,checkable:r,selectable:s,defaultLeafIcon:i,defaultNodeIcon:c,onToggle:m,onClick:u,onSelect:f,onChecked:b,children:g,leafClassName:O,nodeClassName:k})=>{const{t:d}=te("data"),w=l.useMemo(()=>yn(e.badge),[e.badge]),M=l.useMemo(()=>e.lines.slice(1).map((p,y)=>t.jsx("div",{className:I("flex-initial self-stretch flex items-center w-6 relative",!n&&p>0&&"before:absolute before:top-0 before:start-[7px] before:bg-tint-200 before:min-h-[50%] before:w-[2px] before:scale-x-[.625]",!n&&p!==2&&"before:h-full"),children:t.jsxs("svg",{viewBox:"0 0 24 24",className:"fill-tint-200 rtl:-scale-x-100",children:[p===0&&t.jsx("path",{d:""}),!n&&p===1&&t.jsx("path",{d:"M7.45 26.1v-28.2h1.1v28.2h-1.1z"}),!n&&p===2&&t.jsx("path",{d:"M14.989 12.389l0.161-0.389-0.161-0.389-0.389-0.161h-6.050v-13.55h-1.1v14.1l0.161 0.389 0.389 0.161h6.6z"}),!n&&p===3&&t.jsx("path",{d:"M8.55 12.55h6.050l0.389-0.161 0.161-0.389-0.161-0.389-0.389-0.161h-6.050v-13.55h-1.1v28.2h1.1z"})]})},y)),[n,e.lines]),T=l.useMemo(()=>e.icon?e.icon:e.leaf?i:c,[i,c,e.icon]),N=l.useMemo(()=>r===!0||r==="leafOnly"&&e.leaf,[e.leaf,r]),h=l.useMemo(()=>!e.disabled&&(s===!0||s==="leafOnly"&&e.leaf),[e.leaf,e.disabled,s]);return t.jsxs("div",{role:"treeitem","aria-selected":e.selected,className:I("flex flex-nowrap items-center",e.className,e.leaf?O:k),"data-testid":e["data-testid"],"data-test-value":e["data-test-value"],children:[M,e.loading&&t.jsx("div",{className:"flex-initial w-6",children:t.jsx(D,{icon:C.spinner,className:"animate-spin text-muted"})}),!e.leaf&&!e.childFiltered&&!e.loading&&t.jsx("div",{className:"flex-initial w-6",children:t.jsx(D,{rtlFlip:!0,onClick:()=>!e.leaf&&m(e.id),icon:e.open?a[1]:a[0],className:"text-tint-600 hover:text-primary-600"})}),N&&t.jsx("div",{className:"flex-initial w-6",children:t.jsx(D,{onClick:()=>!e.disabled&&b(e.id),icon:e.checked===2?C.checkboxInt:e.checked===1?C.checkboxOn:C.checkboxOff,className:I(e.disabled?"text-muted":"text-primary-500 hover:text-primary-600")})}),!e.empty&&t.jsxs("div",{role:"none",className:I("group/tool data-[selected]:bg-primary-100 flex flex-nowrap flex-1 overflow-hidden select-none",e.childSelected&&"font-medium",e.disabled&&"text-muted opacity-65",!e.disabled&&(h||u)&&"hover:bg-primary-50 cursor-pointer"),"data-selected":e.selected,onClick:e.disabled?void 0:()=>{u==null||u(e.id,e.data),h?f(e.id):N?b(e.id):m(e.id)},children:[T&&t.jsxs("div",{className:"flex-content max-w-6 me-1 self-center leading-none",children:[l.isValidElement(T)&&T,le(T)&&t.jsx(D,{icon:T,bg:e.iconBg,color:e.iconColor,rtlFlip:e.rtlFlip})]}),e.childSelected&&!e.open&&t.jsx("span",{className:" flex-content text-primary-500",children:"•"}),t.jsx("div",{role:"none",className:"flex-1 truncate",children:g}),!ee(e.badge)&&t.jsx(bn,{...w,className:I("me-1 self-center flex-content bg-opacity-50",w.className)})]}),e.empty&&t.jsx("div",{className:"text-muted text-sm select-none",children:d("tree.noItems")})]})};cn.__docgenInfo={description:"",methods:[],displayName:"TreeNode",props:{node:{required:!0,tsType:{name:"InternalNode"},description:""},expanders:{required:!0,tsType:{name:"tuple",raw:"[string, string]",elements:[{name:"string"},{name:"string"}]},description:""},defaultNodeIcon:{required:!1,tsType:{name:"string"},description:""},defaultLeafIcon:{required:!1,tsType:{name:"string"},description:""},noLines:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:""},checkable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:""},leafClassName:{required:!1,tsType:{name:"string"},description:""},nodeClassName:{required:!1,tsType:{name:"string"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onChecked:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, node: any) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"any"},name:"node"}],return:{name:"void"}}},description:""}},composes:["ChildProp"]};const ft="M12.984 9v6h3l-3.984 3.984-3.984-3.984h3v-6h-3l3.984-3.984 3.984 3.984h-3zM3.984 2.016h16.031v1.969h-16.031v-1.969zM3.984 20.016h16.031v1.969h-16.031v-1.969z",gt="M3.984 11.016h16.031v1.969h-16.031v-1.969zM15.984 5.016l-3.984 3.984-3.984-3.984h3v-4.031h1.969v4.031h3zM8.016 18.984l3.984-3.984 3.984 3.984h-3v4.031h-1.969v-4.031h-3z",ht=(e,n)=>!!e.leaf!=!!n.leaf?e.leaf?1:-1:qe()(e.label,n.label),Se=(e=[])=>e.map(n=>[n,...Se(n.children)]).flat(99).filter(Boolean),yt=(e=[])=>{const n=e.map(i=>i.checked),a=n.includes(0),r=n.includes(2),s=n.includes(1);return a&&s||r?2:s?1:0},be=(e,{sorter:n=ht,defaultExpanded:a=[]},r={level:0,parent:void 0})=>{const s=[];return n!==!1&&(e=e.sort(n)),e.forEach(i=>{var c;s.push({open:a.includes(i.id)&&!!((c=i.children)!=null&&c.length),level:r.level,parent:r.parent,checked:0,loaded:!1,loading:!1,filtered:!1,lines:[],...i,leaf:!!i.leaf,children:i.children&&be(i.children,{sorter:n,defaultExpanded:a},{level:r.level+1,parent:i.id})})}),s},ve=(e,n=new Map)=>(e.forEach(a=>{if(n.has(a.id))throw new Error(`Node with id [${a.id}] already exists, please make sure all ids are unique`);n.set(a.id,a),a.children&&ve(a.children,n)}),n),U=(e,n=[])=>{const a=[],r=e.filter(s=>!s.filtered);return r.forEach((s,i)=>{var c;s.lines=[...n,i===r.length-1?2:3],a.push(s),(s.open||s.childFiltered)&&s.children&&a.push(...U(s.children.filter(m=>!m.filtered),[...n,i===r.length-1?0:1])),s.open&&((c=s.children)==null?void 0:c.length)===0&&a.push({empty:!0,leaf:!0,lines:[...n,i===r.length-1?0:1,2]})}),a},ue=(e,n,a)=>{const r=e.get(n);if(r){r.selected=a;let s=r.parent;for(;s;){const i=e.get(s);i&&(i.childSelected=a),a&&i&&(i.open=!0),s=i==null?void 0:i.parent}}},Qe=(e,n)=>{const a=e.get(n);if(a){a.checked=a.checked===1?0:1,a.children&&Se(a.children).forEach(s=>s.checked=a.checked);let r=a.parent;for(;r;){const s=e.get(r);s&&(s.checked=yt(s.children)),r=s==null?void 0:s.parent}}},bt=(e,n,a)=>{e.forEach(r=>{if(n){if(r.parentFiltered)return;if(r.filtered=!(a?a(r.data,n):le(r.queryable)?Z(r.queryable,n):le(r.label)&&Z(r.label,n)),!r.filtered){let s=r.parent;for(;s;){const i=e.get(s);i&&(i.filtered=!1),i&&(i.childFiltered=!0),s=i==null?void 0:i.parent}r.children&&Se(r.children).forEach(i=>{i.parentFiltered=!0,i.filtered=!1})}}else r.filtered=!1,r.childFiltered=void 0,r.parentFiltered=void 0})},vt=Ne(e=>e),xt=({items:e=ne,checked:n=ne,selected:a,sorter:r,matcher:s,onLoad:i,onQuery:c,onSelect:m,onChecked:u,defaultExpanded:f,onExpandToggle:b})=>{const g=l.useRef({onSelect:m,onChecked:u}),O=l.useRef(f??ne),k=vt(e),d=l.useCallback(o=>{const q=o.filter(A=>A.open).map(A=>A.id);setTimeout(()=>b==null?void 0:b(q),100)},[b]),w=l.useCallback(o=>{var q,A;o.open&&!o.leaf&&!((q=o.children)!=null&&q.length)?(o.loading=!0,Promise.resolve(i==null?void 0:i(o.id)).then((L=ne)=>{o.children=be(L,{sorter:r,defaultExpanded:f},{level:o.level+1,parent:o.id})}).finally(()=>{var L;o.loading=!1,T({type:"loaded"}),((L=O.current)==null?void 0:L.length)>0&&T({type:"expand",id:O.current.shift()})})):(T({type:"loaded"}),((A=O.current)==null?void 0:A.length)>0&&T({type:"expand",id:O.current.shift()}))},[i]),[M,T]=l.useReducer((o,q)=>{var A,L,$,H,S;if(q.type==="load")return o.items=be(q.items,{sorter:r,defaultExpanded:f}),o.itemMap=ve(o.items),o.tree=U(o.items),{...o};if(q.type==="toggleExpand"){const x=o.itemMap.get(q.id);if(x&&!x.leaf)return x&&(x.open=!x.open),w(x),{...o}}if(q.type==="loaded")return o.itemMap=ve(o.items),d(Array.from(o.itemMap.values())),o.tree=U(o.items),o.selected&&ue(o.itemMap,o.selected,!0),{...o};if(q.type==="expand"){const x=o.itemMap.get(q.id);if(x&&!x.leaf){x.open=!0;let j=x.parent;for(;j;){const E=o.itemMap.get(j);E&&(E.open=!0),j=E==null?void 0:E.parent}return w(x),{...o}}}if(q.type==="expandAll")return o.itemMap.forEach(x=>{var j;!x.leaf&&((j=x.children)!=null&&j.length)&&(x.open=!0)}),d(Array.from(o.itemMap.values())),o.tree=U(o.items),{...o};if(q.type==="collapseAll")return o.itemMap.forEach(x=>{!x.leaf&&(x.open=!1)}),d([]),o.tree=U(o.items),{...o};if(q.type==="filter")if(c)c(q.query??"");else return bt(o.itemMap,q.query,s),o.tree=U(o.items),{...o};if(q.type==="select")return o.selected&&ue(o.itemMap,o.selected),ue(o.itemMap,q.id,!0),o.tree=U(o.items),($=(L=g.current).onSelect)==null||$.call(L,q.id,(A=o.itemMap.get(q.id))==null?void 0:A.data),{...o,selected:q.id};if(q.type==="toggleCheck"){Qe(o.itemMap,q.id);const x=[[],[]];return Array.from(o.itemMap.values()).filter(j=>j.checked===1).forEach(j=>x[j.leaf?0:1].push(j.id)),(S=(H=g.current).onChecked)==null||S.call(H,x[0],x[1]),{...o}}return q.type==="checked"?(q.id.forEach(x=>Qe(o.itemMap,x)),{...o,checked:q.id}):o},{itemMap:new Map,items:[],tree:[],checked:[]});l.useEffect(()=>{g.current={onSelect:m,onChecked:u}},[m,u]),l.useEffect(()=>{var o;T({type:"load",items:k}),k.length&&((o=O.current)==null?void 0:o.length)>0&&T({type:"expand",id:O.current.shift()})},[k]),l.useEffect(()=>{a&&T({type:"select",id:a})},[a]),l.useEffect(()=>{n&&T({type:"checked",id:n})},[n]);const N=l.useCallback(o=>{T({type:"toggleExpand",id:o})},[]),h=l.useCallback(o=>{T({type:"toggleCheck",id:o})},[]),p=l.useCallback(o=>{T({type:"select",id:o})},[]),y=l.useCallback(o=>{T({type:"expand",id:o})},[]),V=l.useCallback(()=>{T({type:"expandAll"})},[]),z=l.useCallback(()=>{T({type:"collapseAll"})},[]),v=re(o=>{T({type:"filter",query:o})},[],300);return{tree:M.tree,toggleExpand:N,expandAll:V,collapseAll:z,toggleCheck:h,select:p,expand:y,onFilter:v}},Tt=({ref:e,items:n,selected:a,checked:r,checkable:s,noLines:i,renderer:c,searchable:m,selectable:u,matcher:f,filterPlaceholder:b,defaultLeafIcon:g,defaultNodeIcon:O,expander:k="box",onChecked:d,onLoad:w,onQuery:M,onSelect:T,onClick:N,sorter:h,makeLabel:p,makeIcon:y,defaultExpanded:V,onExpandToggle:z,leafClassName:v,nodeClassName:o,...q})=>{var G;const{tree:A,toggleExpand:L,toggleCheck:$,expandAll:H,collapseAll:S,select:x,expand:j,onFilter:E}=xt({items:n,checked:r,selected:a,matcher:f,sorter:h,onLoad:w,onQuery:M,onSelect:T,onChecked:d,defaultExpanded:V,onExpandToggle:z}),R=l.useRef(null),B=oe({count:A.length,getScrollElement:()=>R.current,estimateSize:()=>24}),_=B.getVirtualItems(),Q=l.useMemo(()=>k==="caret"?[C.caretRight,C.caretDown]:k==="chevron"?[C.chevronRight,C.chevronDown]:k==="folder"?[C.folderClosed,C.folderOpen]:[C.expand,C.collapse],[k]);return l.useImperativeHandle(e,()=>({open:F=>j(F),select:F=>x(F)}),[]),t.jsxs(In,{children:[t.jsxs(En,{flex:!0,className:"items-center p-px justify-end overflow-hidden border-b",children:[m&&t.jsx(tn,{onSearch:E,allowClear:!0,placeholder:b,noBorder:!0,decorateStart:t.jsx(D,{icon:C.filter,className:"p-1"})}),t.jsxs(je,{variant:"link",className:"m-0",children:[t.jsx(J,{size:"sm","aria-label":"expand all",icon:ft,onClick:H}),t.jsx(J,{size:"sm","aria-label":"collapse all",icon:gt,onClick:S})]})]}),t.jsx("div",{ref:R,role:"tree",className:"area-content overflow-auto p-1",...q,children:t.jsxs("div",{style:{height:B.getTotalSize()},children:[t.jsx("div",{style:{height:(G=_[0])==null?void 0:G.start}}),_.map(({index:F,key:X})=>t.jsx("div",{"data-index":F,ref:B.measureElement,children:t.jsx(cn,{node:A[F],noLines:i,expanders:Q,checkable:s,selectable:u,defaultLeafIcon:g,defaultNodeIcon:(y==null?void 0:y(A[F].data))??O,onToggle:L,onChecked:$,onSelect:x,onClick:N,leafClassName:v,nodeClassName:o,children:(A[F].data&&(c==null?void 0:c(A[F].data)))??(p==null?void 0:p(A[F].data))??A[F].label})},X))]})})]})};Tt.__docgenInfo={description:`TreePanel component renders a virtualized tree structure with support for
selection, expansion, and filtering. It allows for custom rendering of tree
nodes and supports checkable nodes.

@param {TreePanelProps<T>} props - The properties for the TreePanel component.
@returns {JSX.Element} The rendered TreePanel component.
@template T - The type of items in the tree, extending KeyValue.

@example
\`\`\`jsx
<TreePanel
  items={items}
  selected={selectedItem}
  checked={checkedItems}
  checkable={true}
  renderer={(item) => <span>{item.name}</span>}
  searchable={true}
  selectable={true}
  matcher={(item, query) => item.name.toLowerCase().includes(query.toLowerCase())}
  filterPlaceholder="Search..."
  defaultLeafIcon={<Icon icon={CoreIcons.file} />}
  defaultNodeIcon={<Icon icon={CoreIcons.folder} />}
  expander="caret"
  onChecked={(checkedItems) => console.log(checkedItems)}
  onLoad={(id) => console.log(\`Load children for \${id}\`)}
  onQuery={(query) => console.log(\`Query: \${query}\`)}
  onSelect={(selectedItem) => console.log(selectedItem)}
  onClick={(item) => console.log(\`Clicked on \${item.id}\`)}
  sorter={(a, b) => a.label.localeCompare(b.label)}
  makeLabel={(item) => item.name}
  makeIcon={(item) => item.icon ? <Icon icon={item.icon} /> : null}
  defaultExpanded={["root"]}
  onExpandToggle={(id, expanded) => console.log(\`Toggle expand for \${id}: \${expanded}\`)}
  leafClassName="leaf-node"
  nodeClassName="tree-node"
/>
\`\`\`

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/docs/data-treepanel--docs}`,methods:[{name:"open",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:{name:"string"}}],returns:null},{name:"select",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:{name:"string"}}],returns:null}],displayName:"TreePanel",props:{items:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:`TreeBaseNode<T> &
(
  | { leaf: true; children?: never }
  | {
      leaf?: boolean;
      children?: Array<TreeNodeType<T>>;
      open?: boolean;
      iconOpen?: string;
    }
)`,elements:[{name:"TreeBaseNode",elements:[{name:"T"}],raw:"TreeBaseNode<T>"},{name:"unknown"}]}],raw:"Array<TreeNodeType<T>>"},description:""},searchable:{required:!1,tsType:{name:"boolean"},description:"make tree searchable"},filterPlaceholder:{required:!1,tsType:{name:"string"},description:"filter input placeholder"},selectable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:"enable select"},checkable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:"enable checkable"},selected:{required:!1,tsType:{name:"string"},description:"selected item id"},checked:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"checked items"},defaultNodeIcon:{required:!1,tsType:{name:"string"},description:"default node icon"},defaultLeafIcon:{required:!1,tsType:{name:"string"},description:"default leaf icon"},noLines:{required:!1,tsType:{name:"boolean"},description:"hide level indicator lines"},expander:{required:!1,tsType:{name:"union",raw:'"box" | "caret" | "chevron" | "folder"',elements:[{name:"literal",value:'"box"'},{name:"literal",value:'"caret"'},{name:"literal",value:'"chevron"'},{name:"literal",value:'"folder"'}]},description:"expander icons",defaultValue:{value:'"box"',computed:!1}},onLoad:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  id: string,
) =>
  | Promise<Array<TreeNodeType<T>> | undefined>
  | Array<TreeNodeType<T>>
  | undefined`,signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"union",raw:`| Promise<Array<TreeNodeType<T>> | undefined>
| Array<TreeNodeType<T>>
| undefined`,elements:[{name:"Promise",elements:[{name:"union",raw:"Array<TreeNodeType<T>> | undefined",elements:[{name:"Array",elements:[{name:"intersection",raw:`TreeBaseNode<T> &
(
  | { leaf: true; children?: never }
  | {
      leaf?: boolean;
      children?: Array<TreeNodeType<T>>;
      open?: boolean;
      iconOpen?: string;
    }
)`,elements:[{name:"TreeBaseNode",elements:[{name:"T"}],raw:"TreeBaseNode<T>"},{name:"unknown"}]}],raw:"Array<TreeNodeType<T>>"},{name:"undefined"}]}],raw:"Promise<Array<TreeNodeType<T>> | undefined>"},{name:"Array",elements:[{name:"intersection",raw:`TreeBaseNode<T> &
(
  | { leaf: true; children?: never }
  | {
      leaf?: boolean;
      children?: Array<TreeNodeType<T>>;
      open?: boolean;
      iconOpen?: string;
    }
)`,elements:[{name:"TreeBaseNode",elements:[{name:"T"}],raw:"TreeBaseNode<T>"},{name:"unknown"}]}],raw:"Array<TreeNodeType<T>>"},{name:"undefined"}]}}},description:"callback for lazy loading tree items"},onQuery:{required:!1,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:"callback to load tree using search query"},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, data: T) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:"callback on click of tree node"},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, data: T) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:"callback on selection of tree node"},onChecked:{required:!1,tsType:{name:"signature",type:"function",raw:"(leafs: string[], nodes: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"leafs"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"nodes"}],return:{name:"void"}}},description:"callback on change of checked list"},renderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: T) => JSX.Element",signature:{arguments:[{type:{name:"T"},name:"data"}],return:{name:"JSX.Element"}}},description:"item label renderer"},matcher:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: T, query: string) => boolean",signature:{arguments:[{type:{name:"T"},name:"data"},{type:{name:"string"},name:"query"}],return:{name:"boolean"}}},description:"item filter matcher"},sorter:{required:!1,tsType:{name:"union",raw:"false | ((a: T, b: T) => number)",elements:[{name:"literal",value:"false"},{name:"unknown"}]},description:""},makeLabel:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T) => string",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"string"}}},description:""},makeIcon:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T) => string",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"string"}}},description:""},defaultExpanded:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onExpandToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"id"}],return:{name:"void"}}},description:""},leafClassName:{required:!1,tsType:{name:"string"},description:""},nodeClassName:{required:!1,tsType:{name:"string"},description:""}},composes:["TestProps","RefProp"]};const Me=({vertical:e=!0,scrollActive:n,onStart:a,onEnd:r,onPrevious:s,onNext:i})=>t.jsxs(je,{vertical:e,variant:"link",className:"outline",children:[t.jsx(J,{rtlFlip:!0,size:"sm",variant:"link","aria-label":"scroll to top",icon:e?C.chevronsUp:C.chevronsLeft,disabled:(n&2)===0,onClick:a}),t.jsx(J,{rtlFlip:!0,size:"sm",variant:"link","aria-label":"scroll up",icon:e?C.chevronUp:C.chevronLeft,disabled:(n&2)===0,onClick:s}),t.jsx(J,{rtlFlip:!0,size:"sm",variant:"link","aria-label":"scroll down",icon:e?C.chevronDown:C.chevronRight,disabled:n%2===0,onClick:i}),t.jsx(J,{rtlFlip:!0,size:"sm",variant:"link","aria-label":"scroll to bottom",icon:e?C.chevronsDown:C.chevronsRight,disabled:n%2===0,onClick:r})]});Me.__docgenInfo={description:"",methods:[],displayName:"Scroller",props:{scrollActive:{required:!0,tsType:{name:"number"},description:""},vertical:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onStart:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEnd:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onNext:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const wt=Ne(e=>e),Pe=({items:e,children:n,columns:a,fullWidth:r,maxWidth:s,minWidth:i,total:c=0,padding:m="md",defaultHeight:u=48,defaultWidth:f=48,hideScroller:b,initialScroll:g,loading:O,onLoadMore:k,onScroll:d,galleryRef:w,...M})=>{var x;const T=l.useDeferredValue(e.length),N=l.useMemo(()=>k?8:0,[k]),h=wt(e.map((j,E)=>({index:E,item:j,isLast:E+1===e.length}))),p=l.useRef(null),[y,V]=l.useState(1),z=l.useMemo(()=>new Array(y).fill(0).map((j,E)=>E),[y]);fn(()=>{if(p.current){const j=p.current,E=()=>{var _;const B=parseInt(getComputedStyle((_=j.firstElementChild)==null?void 0:_.firstElementChild).padding??8);V(a??Math.max(1,Math.floor((((j==null?void 0:j.offsetWidth)??800)-32-(isNaN(B)?8:B)*2)/f)))},R=new ResizeObserver(E);return E(),R.observe(j),()=>{R.unobserve(j),R.disconnect()}}},[p.current,a,f],"virtualGallery recalculate view count");const v=oe({count:Math.ceil(T/y),getScrollElement:()=>p.current,estimateSize:()=>u,overscan:2}),o=v.getVirtualItems(),q=l.useRef(0);l.useEffect(()=>{var j;q.current=((j=o[2])==null?void 0:j.index)??0,p.current&&o[0]&&p.current.scrollTop<o[0].size&&(q.current=0)},[o]);const A=l.useCallback(()=>{const{scrollTop:j=0,scrollHeight:E=0,offsetHeight:R=0}=p.current??{};return E===R?0:j===0?1:j>=E-R-N*2?2:3},[]),[L,$]=l.useState(0),H=re(j=>d==null?void 0:d(q.current*j),[d]),S=l.useCallback(()=>{$(A()),H(y)},[y,k]);return l.useEffect(()=>{$(A())},[T,A]),l.useEffect(()=>{var j,E;if(k){const R=(j=o[0])==null?void 0:j.index,B=(E=o==null?void 0:o.slice(-1).pop())==null?void 0:E.index,_=R*y,Q=(B??0)*y+y,G=R!==void 0&&e[_]===null,F=B!==void 0&&Q>=T-1&&T<c,X=de(k);return G?X(_):!O&&F&&X(Q+1),()=>X.cancel()}},[k,o]),l.useLayoutEffect(()=>{setTimeout(()=>{g&&v.scrollToIndex(Math.floor(g/y),{align:"start"})},100)},[y]),l.useImperativeHandle(w,()=>({scrollToItem(j){v.scrollToIndex(Math.floor(j/y),{align:"auto"})},hilight(j){var E,R;(R=(E=p.current)==null?void 0:E.querySelector(".hilight"))==null||R.classList.remove("hilight","ring-1"),v.scrollToIndex(Math.floor(j/y),{align:"auto"}),setTimeout(()=>{var B,_;(_=(B=p.current)==null?void 0:B.querySelector(`[data-index="${j}"]`))==null||_.classList.add("hilight","ring-1")},100)},unhilight(){var j,E;(E=(j=p.current)==null?void 0:j.querySelector(".hilight"))==null||E.classList.remove("hilight","ring-1")}}),[v,y]),t.jsx("div",{ref:p,onScroll:S,className:I("area-content bg-base overflow-auto"),...M,children:t.jsxs("div",{className:I("flex flex-nowrap justify-center gap-2 min-h-full"),children:[t.jsx("div",{className:I("box-content",r&&"flex-1",m==="sm"&&"p-1",m==="md"&&"p-2",m==="lg"&&"p-4"),style:{minWidth:i,maxWidth:s},children:t.jsxs("div",{style:{height:v.getTotalSize()+N},children:[t.jsx("div",{style:{height:(x=o[0])==null?void 0:x.start}}),o.map(({key:j,index:E})=>t.jsx("div",{className:"flex","data-index":E,ref:v.measureElement,children:z.map(R=>t.jsx("div",{"data-index":E*y+R,className:I("grid rounded-capped"),children:h[E*y+R]&&n(h[E*y+R])},`${j}:${R}`))},j)),k&&t.jsx("div",{className:"h-16",children:O&&t.jsx(en,{})})]})}),!b&&t.jsx("div",{className:I("self-end sticky bottom-2"),children:t.jsx(Me,{vertical:!0,scrollActive:L,onStart:()=>v.scrollToIndex(0),onPrevious:()=>p.current&&v.scrollBy(-p.current.offsetHeight),onNext:()=>p.current&&v.scrollBy(p.current.offsetHeight),onEnd:()=>v.scrollToIndex(T-1)})})]})})};Pe.displayName="VirtualGallery";const jt=l.memo,Zt=jt(Pe);Pe.__docgenInfo={description:"",methods:[{name:"scrollToItem",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"hilight",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"unhilight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VirtualGallery",props:{children:{required:!0,tsType:{name:"signature",type:"function",raw:`(props: {
  item: T;
  index: number;
  isLast: boolean;
}) => ReactElement`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  item: T;
  index: number;
  isLast: boolean;
}`,signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"index",value:{name:"number",required:!0}},{key:"isLast",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactElement"}}},description:""},galleryRef:{required:!1,tsType:{name:"Ref",elements:[{name:"union",raw:"VirtualGalleryRef | undefined",elements:[{name:"VirtualGalleryRef"},{name:"undefined"}]}],raw:"Ref<VirtualGalleryRef | undefined>"},description:""},columns:{required:!1,tsType:{name:"number"},description:"fixed columns"},defaultHeight:{required:!1,tsType:{name:"number"},description:"default item height",defaultValue:{value:"48",computed:!1}},defaultWidth:{required:!1,tsType:{name:"number"},description:"default item width",defaultValue:{value:"48",computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"full width list"},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},padding:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg" | "none"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'},{name:"literal",value:'"none"'}]},description:"padding",defaultValue:{value:'"md"',computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"data list"},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"loading state"},initialScroll:{required:!1,tsType:{name:"number"},description:""},hideScroller:{required:!1,tsType:{name:"boolean"},description:"hide scroll buttons"},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"(lastIndex?: number) => void",signature:{arguments:[{type:{name:"number"},name:"lastIndex"}],return:{name:"void"}}},description:"load more callback"},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(top: number) => void",signature:{arguments:[{type:{name:"number"},name:"top"}],return:{name:"void"}}},description:"scroll handler"}},composes:["TestProps"]};const kt=Ne(e=>e),ze=({items:e,total:n=0,children:a,fullWidth:r,maxWidth:s,minWidth:i,padding:c="md",orientation:m="vertical",defaultHeight:u=48,defaultWidth:f=48,hideScroller:b,initialScroll:g,loading:O,onLoadMore:k,onScroll:d,listRef:w,...M})=>{var $,H;const T=l.useDeferredValue(e.length),N=l.useMemo(()=>k?8:0,[k]),h=kt(e.map((S,x)=>({index:x,item:S,isLast:x+1===e.length}))),p=l.useRef(null),y=oe({count:T,overscan:2,horizontal:m==="horizontal",getScrollElement:()=>p.current,estimateSize:()=>m==="horizontal"?f:u}),V=y.getVirtualItems(),z=l.useRef(0);l.useEffect(()=>{var S;z.current=((S=V[2])==null?void 0:S.index)??0,p.current&&V[0]&&p.current.scrollTop<V[0].size&&(z.current=0)},[V]);const v=l.useCallback(()=>{const{scrollTop:S=0,scrollLeft:x=0,scrollWidth:j=0,scrollHeight:E=0,offsetWidth:R=0,offsetHeight:B=0}=p.current??{};if(m==="vertical"){if(E===B)return 0;if(S===0)return 1;if(S>=E-B-N*2)return 2}if(m==="horizontal"){if(j===R)return 0;if(Math.abs(x)===0)return 1;if(Math.abs(x)>=j-R-N*2)return 2}return 3},[m]),[o,q]=l.useState(0),A=re(()=>d==null?void 0:d(z.current),[d]),L=l.useCallback(()=>{q(v()),A()},[m,k]);return l.useEffect(()=>{q(v())},[h,v]),l.useEffect(()=>{var S,x;if(k){const j=(S=V[0])==null?void 0:S.index,E=(x=V==null?void 0:V.slice(-1).pop())==null?void 0:x.index,R=j!==void 0&&e[j]===null,B=E!==void 0&&E===T-1&&T<n,_=de(k);return R?_(j):!O&&B&&_(E+1),()=>_.cancel()}},[k,V]),l.useLayoutEffect(()=>{setTimeout(()=>{g&&y.scrollToIndex(g,{align:"start"})},100)},[]),l.useImperativeHandle(w,()=>({scrollToItem(S){y.scrollToIndex(S,{align:"auto"})},hilight(S){var x,j;(j=(x=p.current)==null?void 0:x.querySelector(".hilight"))==null||j.classList.remove("hilight","ring-1"),y.scrollToIndex(Math.floor(S),{align:"auto"}),setTimeout(()=>{var E,R;(R=(E=p.current)==null?void 0:E.querySelector(`[data-index="${S}"]`))==null||R.classList.add("hilight","ring-1")},100)},unhilight(){var S,x;(x=(S=p.current)==null?void 0:S.querySelector(".hilight"))==null||x.classList.remove("hilight","ring-1")}}),[y]),t.jsx("div",{ref:p,onScroll:L,className:I("area-content bg-base overflow-auto"),...M,children:t.jsxs("div",{className:I("flex flex-nowrap gap-2 justify-center min-h-full min-w-full",m==="horizontal"&&"flex-col"),children:[t.jsxs("div",{className:I("box-content inline-flex flex-nowrap",m==="vertical"&&"flex-col",m==="horizontal"&&"flex-row",r&&"flex-1",c==="sm"&&"p-1",c==="md"&&"p-2",c==="lg"&&"p-4"),style:{minWidth:i,maxWidth:s},children:[t.jsxs("div",{style:m==="vertical"?{height:y.getTotalSize()+N}:{width:y.getTotalSize()+N},children:[t.jsx("div",{style:m==="vertical"?{height:($=V[0])==null?void 0:$.start}:{width:(H=V[0])==null?void 0:H.start,display:"inline-block"}}),V.map(({key:S,index:x})=>t.jsx("div",{"data-index":x,ref:y.measureElement,className:I("rounded-capped",m==="horizontal"?"inline-grid":"grid"),children:a(h[x])},S))]}),O&&t.jsx("div",{className:m==="horizontal"?"min-w-16":"",children:t.jsx(en,{})})]}),!b&&t.jsx("div",{className:I(m==="vertical"&&"self-end sticky bottom-2",m==="horizontal"&&"self-end sticky end-2"),children:t.jsx(Me,{vertical:m==="vertical",scrollActive:o,onStart:()=>y.scrollToIndex(0),onPrevious:()=>p.current&&y.scrollBy(-(m==="vertical"?p.current.offsetHeight:p.current.offsetWidth)),onNext:()=>p.current&&y.scrollBy(m==="vertical"?p.current.offsetHeight:p.current.offsetWidth),onEnd:()=>y.scrollToIndex(T-1)})})]})})};ze.displayName="VirtualList";const qt=l.memo,er=qt(ze);ze.__docgenInfo={description:"",methods:[{name:"scrollToItem",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"hilight",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"unhilight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VirtualList",props:{children:{required:!0,tsType:{name:"signature",type:"function",raw:`(props: {
  item: T;
  index: number;
  isLast: boolean;
}) => ReactElement`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  item: T;
  index: number;
  isLast: boolean;
}`,signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"index",value:{name:"number",required:!0}},{key:"isLast",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactElement"}}},description:""},listRef:{required:!1,tsType:{name:"Ref",elements:[{name:"union",raw:"VirtualListRef | undefined",elements:[{name:"VirtualListRef"},{name:"undefined"}]}],raw:"Ref<VirtualListRef | undefined>"},description:""},defaultHeight:{required:!1,tsType:{name:"number"},description:"default item height",defaultValue:{value:"48",computed:!1}},defaultWidth:{required:!1,tsType:{name:"number"},description:"default item width",defaultValue:{value:"48",computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"full width list"},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},padding:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg" | "none"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'},{name:"literal",value:'"none"'}]},description:"padding",defaultValue:{value:'"md"',computed:!1}},orientation:{required:!1,tsType:{name:"union",raw:'"vertical" | "horizontal"',elements:[{name:"literal",value:'"vertical"'},{name:"literal",value:'"horizontal"'}]},description:"list orientation",defaultValue:{value:'"vertical"',computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"data list"},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},initialScroll:{required:!1,tsType:{name:"number"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"loading state"},hideScroller:{required:!1,tsType:{name:"boolean"},description:"hide scroll buttons"},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"(lastIndex?: number) => void",signature:{arguments:[{type:{name:"number"},name:"lastIndex"}],return:{name:"void"}}},description:"load more callback"},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(top: number) => void",signature:{arguments:[{type:{name:"number"},name:"top"}],return:{name:"void"}}},description:"scroll handler"}},composes:["TestProps"]};export{st as H,it as J,tn as S,Tt as T,Zt as V,er as a,pt as b,dt as u};
