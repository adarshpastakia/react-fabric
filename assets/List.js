import{_ as Ye,r as l,j as n,m as O,n as Ze,l as cn,ax as se,aP as Q,aU as un,aL as ee,aN as ie,Z as ce,aM as De,bb as mn,bW as ue,u as me,b9 as ae}from"./iframe-DpfJK_wQ.js";import{b as pn,c as fn}from"./index.js";import{B as ke}from"./ButtonGroup2.js";import{I as D,T as gn,a as Qe}from"./Tooltip.js";import{B as F,L as hn,g as yn,b as bn,S as pe}from"./Button.js";import{E as qe}from"./EmptyContent.js";import{c as Ne,m as re}from"./isEqual.js";import{M as xn,u as fe,d as vn,m as Ce}from"./memoize-one.esm.js";import{C as Je}from"./Copy.js";import{T as Tn}from"./Text.js";import{u as Y}from"./useDebounce.js";import{D as wn,a as jn}from"./Dropdown.js";import{M as be,a as xe}from"./Menu.js";import"./Google.js";import{D as kn}from"./DateDisplay.js";import{g as qn}from"./getByPath.js";import{D as Nn}from"./Divider.js";import{D as Cn}from"./DropdownTool.js";import"./ColorPicker.js";import{C as En}from"./Checkbox.js";import{I as An}from"./Input.js";import{g as en}from"./dedupe.js";import{d as ge}from"./debounce.js";import{H as In}from"./HeadFoot.js";import{S as On}from"./Section.js";import{I as Sn}from"./InputWrapper.js";import{u as Mn}from"./eventHandlers.js";var Pn=["children","className","align","actions","disabled"];function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ke(Object(a),!0).forEach(function(r){Ze(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}var zn=function(t){var a=t.children,r=t.className,i=t.align,s=t.actions,c=t.disabled,u=Ye(t,Pn),m=l.useCallback(function(g){if(g){var v=g.cloneNode(!0);v.className="",v.style.left="-200%",v.style.overflow="hidden",v.style.position="absolute",v.style.whiteSpace="nowrap",document.body.appendChild(v),g.style.setProperty("--width","".concat(v.offsetWidth,"px")),v.remove()}},[]);return n.jsxs("div",Fe(Fe({className:O(r,"fabric-actionLabel","flex overflow-hidden gap-1 items-center cursor-default select-none"),"data-disabled":c},u),{},{children:[n.jsx(ke,{ref:m,"data-inner-clickable":!0,className:O("fabric-actions","overflow-hidden flex-content",i==="end"&&"order-2"),children:s}),n.jsx("div",{className:"flex-initial truncate",children:a})]}))},Ln=["ref","value","name","invalid","readOnly","disabled","required","searching","placeholder","defaultValue","autoFocus","hideHandle","allowClear","searchOnChange","onBlur","onFocus","onSearch","onChange","onEnterPressed"];function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Xe(Object(a),!0).forEach(function(r){Ze(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}var nn=function(t){var a=t.ref,r=t.value,i=t.name,s=t.invalid,c=t.readOnly,u=t.disabled,m=t.required,g=t.searching,v=t.placeholder,h=t.defaultValue,P=t.autoFocus,A=t.hideHandle,d=t.allowClear,T=d===void 0?!0:d,q=t.searchOnChange,N=q===void 0?!1:q,j=t.onBlur,k=t.onFocus,p=t.onSearch,x=t.onChange;t.onEnterPressed;var C=Ye(t,Ln),_=l.useState(""),y=cn(_,2),S=y[0],H=y[1],V=l.useDeferredValue(r??h),J=l.useRef(""),R=Y(function(){return p==null?void 0:p(J.current)},[p],250),$=Mn(R);l.useEffect(function(){H(V??"")},[V]);var o=l.useCallback(function(f){var I,b=(I=f==null?void 0:f.target.value)!==null&&I!==void 0?I:h;J.current=b??"",H(b??""),x==null||x(b??null),(!f||N)&&R()},[x,N,R,h]);return n.jsx(Sn,Ge(Ge({showClear:!!S&&!u&&!c,onClear:o,allowClear:T,invalid:s,readOnly:c,disabled:u,required:m,actionButton:n.jsxs(l.Fragment,{children:[g&&n.jsx(D,{className:"p-2",icon:"icon-[svg-spinners--eclipse]"}),!g&&!A&&n.jsx(F,{tabIndex:-1,variant:"link","aria-label":"search",disabled:!S,icon:"icon-[mdi--magnify]",onClick:R})]})},C),{},{children:n.jsx("input",{className:"appearance-none bg-transparent py-1 px-2 flex-1 border-none outline-none ring-0 peer","aria-invalid":s,"aria-disabled":u,"aria-readonly":c,placeholder:v,disabled:u,readOnly:c,size:1,"data-testid":i,name:i,type:"search",ref:a,autoComplete:"off",autoFocus:P,value:S,onBlur:j,onFocus:k,onChange:o,onKeyDown:$})}))};const Vn={noRecords:"لا تسجيلات"},Rn={noItems:"لا توجد عناصر",error:"خطأ في تحميل العناصر",loading:"تحميل العناصر…"},Hn={empty:"لا توجد سجلات متاحة"},_n={empty:"لا توجد خصائص بيانات",true:"نعم",false:"رقم"},$n={empty:"لا توجد عناصر قائمة"},Bn={empty:"لا توجد رسوم بيانية"},Wn={find:"تجد…",copy:"قيمة النسخ",filter:"منقي…",showShortcuts:"اختصارات لوحة المفاتيح…",collapseAll:"انهيار جميع",expandAll:"توسيع الكل",checkAll:"تحقق من الكل",uncheckAll:"الغاءالكل",addFilter:"أضف عامل تصفية",addFilterNot:"إضافة لا تصفية"},Dn={tree:{noItems:"لا توجد عناصر شجرة متوفرة"}},Jn={label:Vn,tree:Rn,datagrid:Hn,json:_n,checkList:$n,histogram:Bn,action:Wn,data:Dn},Kn={noRecords:"No Records"},Fn={noItems:"No items",error:"Error loading items",loading:"Loading items..."},Xn={empty:"No records available"},Gn={empty:"No data properties",true:"Yes",false:"No"},Un={empty:"No list items"},Yn={empty:"No histograms"},Zn={find:"Find...",copy:"Copy Value",filter:"Filter...",showShortcuts:"Keyboard shortcuts...",collapseAll:"Collapse All",expandAll:"Expand All",checkAll:"Check All",uncheckAll:"Uncheck All",addFilter:"Add Filter",addFilterNot:"Add not Filter"},Qn={tree:{noItems:"No tree items available"}},et={label:Kn,tree:Fn,datagrid:Xn,json:Gn,checkList:Un,histogram:Yn,action:Zn,data:Qn};pn("data",{en:et,ar:Jn});const nt="M20.84 22.73L11.11 13H3V11H9.11L6.11 8H3V6H4.11L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M15 11H14.2L15 11.8V11M21 8V6H9.2L11.2 8H21M3 18H9V16H3V18Z",tt=({items:e=[],total:t,color:a="primary-500",sortBy:r="count",emptyTitle:i,emptyMessage:s,onClick:c,...u})=>{const{t:m}=se("data"),g=l.useMemo(()=>t||Math.max(...e.map(h=>h.count)),[t,e]),v=l.useMemo(()=>e.sort(Ne(r==="label"?"asc":"desc",r)),[e,r]);return n.jsxs("div",{className:"fabric-histogram from-0% to-100%",...u,style:{"--color":un(a)?a:`var(--color-${a})`},children:[v.length===0&&n.jsx(qe,{icon:n.jsx(D,{icon:nt,size:"2.5rem"}),title:i,message:s??m("histogram.empty")}),v==null?void 0:v.map(h=>n.jsxs("div",{role:"none","data-disabled":h.count===0||h.disabled,className:O("relative cursor-pointer flex flex-nowrap items-center select-none overflow-hidden min-h-6 my-px","fabric-histoLabel",((h.total??h.count)===0||h.disabled)&&"pointer-events-none"),"data-testid":h.id,onClick:P=>[c==null?void 0:c(h.id),P.stopPropagation()],children:[n.jsx("div",{className:O("absolute z-0 inset-0 opacity-50 min-w-2 ltr:bg-linear-to-r rtl:bg-linear-to-l","fabric-histoBar"),style:{width:`${Math.min(h.count/g,1)*100}%`}}),n.jsx(zn,{className:"flex-1 truncate z-1 text-sm cursor-pointer font-medium",actions:[n.jsx(F,{color:"danger",size:"sm",stopPropagation:!0,icon:"icon-[mdi--filter-minus]","aria-label":"Filter Negative",onClick:()=>c==null?void 0:c(h.id,!0)},"negative"),n.jsx(F,{color:"primary",size:"sm",stopPropagation:!0,icon:"icon-[mdi--filter-plus]","aria-label":"Filter",onClick:()=>c==null?void 0:c(h.id)},"positive")],children:h.label}),n.jsx("span",{className:O("z-1 rounded-full text-xs font-medium px-2 py-1 leading-none","fabric-histoBadge"),children:Q.number(h.count)})]},h.id))]})};tt.__docgenInfo={description:`Histogram component displays a bar chart of items with counts.
It allows users to visualize the distribution of counts across different items.
The component supports sorting, custom colors, and click handling for each item.
It also provides an empty state when there are no items to display.

@param {HistogramProps} props - The properties for the Histogram component.
@returns {JSX.Element} - The rendered Histogram component.

@example
\`\`\`jsx
<Histogram
  items={[
    { id: "1", label: "Item 1", count: 10 },
    { id: "2", label: "Item 2", count: 20 },
    { id: "3", label: "Item 3", count: 5, disabled: true },
  ]}
  total={30}
  color="primary-500"
  sortBy="count"
  emptyTitle="No Data Available"
  emptyMessage="Please check back later."
  onClick={(id, negative) => console.log(\`Clicked on \${id}\`, negative ? "Negative" : "Positive")}
/>
\`\`\`

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/docs/data-histogram--docs}`,methods:[],displayName:"Histogram",props:{items:{required:!1,tsType:{name:"Array",elements:[{name:"HistogramItem"}],raw:"HistogramItem[]"},description:"histogram items list",defaultValue:{value:"[]",computed:!1}},total:{required:!1,tsType:{name:"number"},description:"total count"},color:{required:!1,tsType:{name:"union",raw:"ColorType | PaletteType",elements:[{name:"ColorType"},{name:"PaletteType"}]},description:"histogram bar color",defaultValue:{value:'"primary-500"',computed:!1}},sortBy:{required:!1,tsType:{name:"union",raw:'"label" | "count"',elements:[{name:"literal",value:'"label"'},{name:"literal",value:'"count"'}]},description:"sorted list",defaultValue:{value:'"count"',computed:!1}},emptyTitle:{required:!1,tsType:{name:"union",raw:"string | JSX.Element",elements:[{name:"string"},{name:"JSX.Element"}]},description:"title when histo list is empty"},emptyMessage:{required:!1,tsType:{name:"union",raw:"string | JSX.Element",elements:[{name:"string"},{name:"JSX.Element"}]},description:"message when histo list is empty"},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, negative?: true) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"literal",value:"true"},name:"negative"}],return:{name:"void"}}},description:"handle histo click"}},composes:["TestProps"]};const ve=(e,t=[],a="")=>{const r=[];return Object.entries(e).forEach(([i,s])=>{if(ie(s)&&ce(s[0]))r.push(...ve(s,[...t,i],i));else{const c={field:a?`${a}.${i}`:i,value:s,path:[...t,i].join(".")};ce(s)&&!ee(s)&&!("_score_"in s)&&(c.children=ve(s,[...t,i])),r.push(c)}}),r.flat(99)},tn=({value:e,path:t,field:a,children:r,copy:i,filters:s,labeler:c,formatter:u,propertyScheme:m,showPropertyTree:g,onFilter:v,inline:h,labelWidth:P="30%",level:A=0})=>{const{t:d}=se("data"),[T,q]=l.useState(!0),N=l.useMemo(()=>!!r,[r]),j=l.useMemo(()=>(e==null?void 0:e._label_)??e??"",[e]),k=l.useMemo(()=>{var S,H,V,J,R,$,o;if(r)return null;if(De(e))return n.jsx("span",{className:"text-muted",children:"null"});if(ee(e))return n.jsx("span",{className:"text-muted",children:"empty"});let y=j;if(u){const f=u==null?void 0:u(t,j);De(f)||(y=f)}return ie(j)&&(y=`[${j.join(", ")}]`),(S=m==null?void 0:m.date)!=null&&S.includes(t),(H=m==null?void 0:m.time)!=null&&H.includes(t)&&(y=Q.date(j,"pp")),(V=m==null?void 0:m.number)!=null&&V.phone(t)&&(y=Q.phone(j)),(J=m==null?void 0:m.bytes)!=null&&J.includes(t)&&(y=Q.bytes(j)),(R=m==null?void 0:m.percent)!=null&&R.includes(t)&&(y=Q.percent(j)),($=m==null?void 0:m.number)!=null&&$.includes(t)&&(y=Q.number(j)),((o=m==null?void 0:m.boolean)!=null&&o.includes(t)||mn(j))&&(y=d(j?"json.true":"json.false")),(y==null?void 0:y.length)>128?y=n.jsx(Tn,{clamp:3,children:y}):y=n.jsx("div",{className:"break-words",children:y}),n.jsxs(l.Fragment,{children:[y,ce(e)&&e._score_>0&&n.jsx(xn,{className:"text-xs",value:e._score_})]})},[e,t,u,m,j]),p=l.useMemo(()=>t.replace(/\.\d*\./,"."),[t]),x=l.useMemo(()=>{var y,S;return!ee(e)&&(ue(i)||((y=i==null?void 0:i.includes)==null?void 0:y.call(i,t))||((S=i==null?void 0:i.includes)==null?void 0:S.call(i,p)))},[i,e,t,p]),C=l.useMemo(()=>{var y,S;return ue(s)||((y=s==null?void 0:s.includes)==null?void 0:y.call(s,t))||((S=s==null?void 0:s.includes)==null?void 0:S.call(s,p))},[s,t,p]),_=l.useMemo(()=>n.jsxs("div",{className:O("text-dimmed text-sm px-2 flex-1 group",h?"truncate":"break-words"),children:[!N&&C&&n.jsxs("div",{className:"hidden pe-1 group-hover:inline-block",children:[n.jsx(F,{color:"danger",size:"xs",variant:"link",icon:"icon-[mdi--filter-minus]","aria-label":"Filter Negative",onClick:()=>v==null?void 0:v(p,j,!0)},"negative"),n.jsx(F,{color:"primary",size:"xs",variant:"link",icon:"icon-[mdi--filter-plus]","aria-label":"Filter",onClick:()=>v==null?void 0:v(p,j)},"positive")]}),(c==null?void 0:c(t))??a]}),[a,c,p,j,N,C]);return n.jsxs(l.Fragment,{children:[g&&n.jsxs("div",{className:O("py-2",h&&"flex flex-nowrap items-center"),style:{paddingInlineStart:A*8},children:[n.jsxs("div",{role:"none",className:O("flex overflow-hidden items-center",h&&"flex-content"),style:{flexBasis:P},onClick:()=>N&&q(!T),children:[N&&n.jsx(D,{rtlFlip:!0,icon:T?"icon-[mdi--chevron-down]":"icon-[mdi--chevron-right]"}),_]}),k&&n.jsxs("div",{className:O("px-2 flex flex-nowrap overflow-hidden",h&&"flex-1"),children:[x&&n.jsx(Je,{size:"xs",text:j}),n.jsx("div",{className:"flex-1",children:k})]})]}),!g&&!r&&n.jsxs("div",{className:O("py-2",h&&"flex flex-nowrap items-center"),children:[n.jsx("div",{role:"none",className:O("flex overflow-hidden items-center",h&&"flex-content"),style:{flexBasis:P},children:_}),n.jsxs("div",{className:O("px-2 flex flex-nowrap overflow-hidden",h&&"flex-1"),children:[x&&n.jsx(Je,{size:"xs",text:e}),n.jsx("div",{className:"flex-1",children:k})]})]}),T&&(r==null?void 0:r.map(y=>n.jsx(tn,{...y,level:A+1,copy:i,inline:h,showPropertyTree:g,propertyScheme:m,filters:s,labelWidth:P,formatter:u,labeler:c,onFilter:v},y.path)))]})},rt=({className:e,json:t,copy:a,propertyScheme:r,filters:i,inline:s,labelWidth:c,formatter:u,labeler:m,onFilter:g,emptyMessage:v,showPropertyTree:h=!0,...P})=>{const{t:A}=se("data"),d=l.useMemo(()=>ve(t),[t]);return n.jsx("div",{...P,className:O(e,"bg-alternate"),children:ee(t)?n.jsx(qe,{size:"sm",message:v??A("json.empty")}):d.map(T=>n.jsx(tn,{...T,copy:a,inline:s,showPropertyTree:h,propertyScheme:r,filters:i,labelWidth:c,formatter:u,labeler:m,onFilter:g},T.path))})};rt.__docgenInfo={description:`JsonViewer component to display JSON data in a structured format.
It supports inline display, property filtering, and custom formatting.
The component can handle nested objects and arrays, displaying them in a tree-like structure.
It also provides options for copying values and filtering properties.

@param {JsonViewProps<T>} props - The properties for the JsonViewer component.
@returns {JSX.Element} The rendered JsonViewer component.

@example
\`\`\`jsx
<JsonViewer
  json={{ name: "John", age: 30, address: { city: "New York", zip: "10001" } }}
  copy={true}
  filters={true}
  propertyScheme={{ date: ["createdAt"], phone: ["contact"] }}
  inline={true}
  labelWidth="25%"
  formatter={(path, value) => (path === "age" ? \`\${value} years\` : value)}
  labeler={(path) => path.replace(/_/g, " ").toUpperCase()}
  onFilter={(path, value, negate) => console.log(\`Filter \${negate ? "negate" : ""} on \${path}:\`, value)}
/>
\`\`\`

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/docs/data-jsonviewer--docs}`,methods:[],displayName:"JsonViewer",props:{json:{required:!0,tsType:{name:"T"},description:"json value"},inline:{required:!1,tsType:{name:"boolean"},description:"display inline"},labelWidth:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"label fixed width when using inline"},showPropertyTree:{required:!1,tsType:{name:"boolean"},description:`display object properties as tree
@default true`,defaultValue:{value:"true",computed:!1}},propertyScheme:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  boolean?: string[];
  date?: string[];
  time?: string[];
  number?: string[];
  bytes?: string[];
  percent?: string[];
  phone?: string[];
}`,signature:{properties:[{key:"boolean",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"date",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"time",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"number",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"bytes",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"percent",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"phone",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]}},description:"properties to format as dates\n(default format applied to property name containing `date` | `time`)"},copy:{required:!1,tsType:{name:"union",raw:"true | string[]",elements:[{name:"literal",value:"true"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"enable value copy"},filters:{required:!1,tsType:{name:"union",raw:"true | string[]",elements:[{name:"literal",value:"true"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"enable filter callbacks"},emptyMessage:{required:!1,tsType:{name:"string"},description:"message for empty json"},onFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"(path: string, value: AnyObject, negate: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"AnyObject"},name:"value"},{type:{name:"boolean"},name:"negate"}],return:{name:"void"}}},description:"on filter callback"},labeler:{required:!1,tsType:{name:"signature",type:"function",raw:"(path: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"path"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:"render function for custom label display"},formatter:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  path?: string,
  value?: AnyObject,
) => string | JSX.Element | undefined`,signature:{arguments:[{type:{name:"string"},name:"path"},{type:{name:"AnyObject"},name:"value"}],return:{name:"union",raw:"string | JSX.Element | undefined",elements:[{name:"string"},{name:"JSX.Element"},{name:"undefined"}]}}},description:"render function for custom value display"}},composes:["CssProp"]};const rn=l.memo(({page:e,ranges:t,totalPages:a,minimal:r,onPageChange:i})=>{const[s,c,u]=t,m=l.useMemo(()=>n.jsxs(l.Fragment,{children:[s==null?void 0:s.map(g=>n.jsx("button",{onClick:()=>i(g),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===g&&"bg-primary-500 text-white pointer-events-none"),children:g+1},g)),c&&n.jsx("span",{className:"leading-none inline-block w-8 text-center text-dimmed",children:"..."}),c==null?void 0:c.map(g=>n.jsx("button",{onClick:()=>i(g),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===g&&"bg-primary-500 text-white pointer-events-none"),children:g+1},g)),u&&n.jsx("span",{className:"leading-none inline-block w-8 text-center text-dimmed",children:"..."}),u==null?void 0:u.map(g=>n.jsx("button",{onClick:()=>i(g),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===g&&"bg-primary-500 text-white pointer-events-none"),children:g+1},g))]}),[s,c,u,e]);return n.jsxs("div",{className:"inline-flex items-center",children:[n.jsx("button",{onClick:()=>i(0),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===0&&"pointer-events-none text-tint-300"),children:n.jsx(D,{icon:"icon-[mdi--chevron-double-left]",rtlFlip:!0})}),n.jsx("button",{onClick:()=>i(e-1),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e===0&&"pointer-events-none text-tint-300"),children:n.jsx(D,{icon:"icon-[mdi--chevron-left]",rtlFlip:!0})}),!r&&m,r&&n.jsxs("label",{className:"leading-none inline-block px-1 text-center text-sm select-none fixed-numbers",children:[e+1,"/",a]}),n.jsx("button",{onClick:()=>i(e+1),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e+1>=a&&"pointer-events-none text-tint-300"),children:n.jsx(D,{icon:"icon-[mdi--chevron-right]",rtlFlip:!0})}),n.jsx("button",{onClick:()=>i(a-1),className:O("leading-none text-sm hover:bg-primary-200 w-8 h-6 rounded-full",e+1>=a&&"pointer-events-none text-tint-300"),children:n.jsx(D,{icon:"icon-[mdi--chevron-double-right]",rtlFlip:!0})})]})});rn.displayName="Pagination";rn.__docgenInfo={description:`Pagination component to navigate through pages of data.
It displays buttons for navigating to the first, previous, next, and last pages,
as well as buttons for specific page numbers based on the provided ranges.
The component supports a minimal view that shows the current page and total pages.
It uses memoization to optimize rendering performance.

@param {PaginationProps} props - The properties for the Pagination component.
@returns {JSX.Element} The rendered Pagination component.`,methods:[],displayName:"Pagination",props:{page:{required:!0,tsType:{name:"number"},description:"currrent page number"},totalPages:{required:!0,tsType:{name:"number"},description:"total page count"},ranges:{required:!0,tsType:{name:"Array",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"}],raw:"number[][]"},description:"pagination sections [start, mid, end]"},minimal:{required:!1,tsType:{name:"boolean"},description:"minimal view"},onPageChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:"page change handler"}}};const an=({columns:e,onClick:t})=>n.jsx("div",{className:"group font-medium w-6 flex flex-nowrap text-start items-center",children:n.jsxs(wn,{placement:"bottom-end",children:[n.jsx(D,{icon:"icon-[mdi--plus-circle-outline]",className:"p-1 rounded-t rounded-b-none hover:outline"}),n.jsx(be,{className:"text-sm",onClick:t,children:e.map(a=>n.jsx(xe,{id:String(a.id),"data-dropdown-dismiss":"false",label:`${a.label??String(a.id)}`,icon:a.hidden?"":"icon-[mdi--check]"},String(a.id)))})]})});an.__docgenInfo={description:"",methods:[],displayName:"AddColumn",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"TableColumn"}],raw:"TableColumn[]"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""}}};const at=(e,t,a)=>{var m;const r=t.firstElementChild,i=getComputedStyle(e).direction==="rtl",s=g=>{const v=e.getBoundingClientRect(),h=i?v.left-g.clientX:g.clientX-v.right;r.style.width=`${e.offsetWidth+h}px`},c=()=>{a(r.offsetWidth),t.style.display="none",document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)},u=e.getBoundingClientRect();if(e.parentElement!=null){const g=(m=e.closest("[data-ref='tableScroller']"))==null?void 0:m.getBoundingClientRect();i?(r.style.left="unset",r.style.right=`${g.width-u.right}px`):(r.style.right="unset",r.style.left=`${u.left}px`)}r.style.width=`${e.offsetWidth}px`,r.style.minWidth=e.style.minWidth||"48px",r.style.maxWidth=e.style.maxWidth||"75vw",t.style.display="block",document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)},sn=l.createContext({}),ln=({children:e})=>{const t=l.useRef(null),[a,r]=l.useState(new Map),i=l.useCallback(s=>{s&&t.current!=null&&at(s,t.current,c=>{r(new Map(a.set(s.dataset.id??"",c)))})},[a]);return n.jsxs(sn.Provider,{value:{startResize:i,widths:a},children:[e,n.jsx("div",{className:"absolute inset-0 hidden z-20 cursor-col-resize",ref:t,children:n.jsx("div",{className:"absolute inset-y-0 bg-muted opacity-50 border-primary border-e-2"})})]})},Ee=()=>l.useContext(sn);ln.__docgenInfo={description:"",methods:[],displayName:"TableProvider"};const Ae="3rem",Ie="64rem",Oe="12rem",le=({column:e,item:t,index:a})=>{const{widths:r}=Ee(),i=l.useMemo(()=>r.get(e.id.toString())??e.width,[r,e]),s=l.useMemo(()=>{const c=qn(t,e.id.toString());return e.renderer!=null?e.renderer(c,t,a):e.dataType==="boolean"?(e.valueMap??{true:"Yes",false:"No"})[`${ue(c)?"true":"false"}`]:e.valueMap!=null&&["number","string"].includes(e.dataType??"string")&&c in e.valueMap?e.valueMap[c]:["date","time","datetime"].includes(e.dataType??"")?n.jsx(kn,{date:c,format:e.format}):e.dataType==="number"?Q.number(c,e.format):ce(c)?JSON.stringify(c):ie(c)?c.join(", "):c??""},[t,e]);return n.jsx("div",{className:"overflow-hidden bg-inherit start-0 border-e group/table-col",style:{width:i??Oe,minWidth:e.minWidth??Ae,maxWidth:e.maxWidth??Ie},children:n.jsx("div",{className:O("px-2 py-1",e.className,e.truncate&&"truncate",e.align==="center"&&"text-center",e.align==="end"&&"text-end"),children:s})})};le.__docgenInfo={description:"",methods:[],displayName:"BodyCell",props:{column:{required:!0,tsType:{name:"TableColumn"},description:""},item:{required:!0,tsType:{name:"KeyValue"},description:""},index:{required:!0,tsType:{name:"number"},description:""}}};const Se=({state:e,onClick:t})=>n.jsx("div",{className:"group font-medium border-e w-6 flex flex-nowrap text-start py-1",children:n.jsx(D,{icon:e===2?"icon-[mdi--checkbox-intermediate]":e===1?"icon-[mdi--checkbox-marked]":"icon-[mdi--checkbox-blank-outline]",className:"p-1 text-tint-700 hover:text-primary-600",onClick:a=>[t==null?void 0:t(),a.stopPropagation()]})});Se.__docgenInfo={description:"",methods:[],displayName:"CheckboxCell",props:{state:{required:!0,tsType:{name:"union",raw:"0 | 1 | 2",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"}]},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const on=({rowKey:e,index:t,data:a,keyProperty:r,measureElement:i,state:s,hideableColumns:c,wrapperStart:u,wrapperEnd:m,onRowClick:g,checkableRows:v,checked:h,toggleChecked:P,canExpand:A,expanded:d,toggleExpand:T,expandRow:q})=>{var N,j,k;return n.jsxs("div",{ref:i,"data-index":t,className:t%2?"bg-even":"bg-odd",children:[n.jsxs("div",{role:"none","data-row":t,className:O("flex flex-nowrap datatable-row data-hilight:outline-1 -outline-offset-1 outline-primary-500 group/table-row",g&&"hover:bg-primary-50 active:bg-primary-100",t%2?"bg-even":"bg-odd"),onClick:()=>v&&r&&!g?P(a[r]):g==null?void 0:g(a),children:[n.jsxs("div",{className:u,children:[!!A&&n.jsx("div",{className:O("group font-medium w-6 flex flex-nowrap text-start py-1",!A(a)&&"pointer-events-none opacity-35"),children:n.jsx(D,{className:"p-1 text-tint-700 hover:text-primary-600",icon:d?"icon-[mdi--minus-box]":"icon-[mdi--plus-box]",onClick:p=>[r&&T(a[r]),p.stopPropagation()]})}),v&&r&&n.jsx(Se,{onClick:()=>P(a[r]),state:h}),(N=s.start)==null?void 0:N.map((p,x)=>n.jsx(le,{column:p,item:a,index:x},`${String(e)}:${x}`))]}),(j=s.cols)==null?void 0:j.map((p,x)=>n.jsx(le,{column:p,item:a,index:x},`${String(e)}:${x}`)),n.jsxs("div",{className:m,children:[(k=s.end)==null?void 0:k.map((p,x)=>n.jsx(le,{column:p,item:a,index:x},`${String(e)}:${x}`)),c&&n.jsx("div",{className:"w-6"})]})]}),d&&q(a)]})};on.__docgenInfo={description:"",methods:[],displayName:"BodyRow",props:{rowKey:{required:!0,tsType:{name:"Key"},description:""},index:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"KeyValue"},description:""},keyProperty:{required:!1,tsType:{name:"Key"},description:""},measureElement:{required:!0,tsType:{name:"AnyObject"},description:""},state:{required:!0,tsType:{name:"KeyValue",elements:[{name:"Array",elements:[{name:"TableColumn"}],raw:"TableColumn[]"}],raw:"KeyValue<TableColumn[]>"},description:""},hideableColumns:{required:!1,tsType:{name:"boolean"},description:""},wrapperStart:{required:!0,tsType:{name:"string"},description:""},wrapperEnd:{required:!0,tsType:{name:"string"},description:""},checkableRows:{required:!1,tsType:{name:"boolean"},description:""},checked:{required:!0,tsType:{name:"union",raw:"0 | 1",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"}]},description:""},onRowClick:{required:!1,tsType:{name:"AnyObject"},description:""},canExpand:{required:!1,tsType:{name:"AnyObject"},description:""},expandRow:{required:!1,tsType:{name:"AnyObject"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},toggleExpand:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{type:{name:"Key"},name:"key"}],return:{name:"void"}}},description:""},toggleChecked:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{type:{name:"Key"},name:"key"}],return:{name:"void"}}},description:""}}};const oe=({id:e,width:t,maxWidth:a,minWidth:r})=>{const{widths:i}=Ee(),s=l.useMemo(()=>i.get(e.toString())??t,[i,e,t]);return n.jsx("div",{className:"overflow-hidden border-e",style:{width:s??Oe,minWidth:r??Ae,maxWidth:a??Ie}},`blank:${e.toString()}`)};oe.__docgenInfo={description:"",methods:[],displayName:"EmptyCell",props:{id:{required:!0,tsType:{name:"NestedKeys",elements:[{name:"T"}],raw:"NestedKeys<T>"},description:""},field:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},tooltip:{required:!1,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"IconProps"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},description:""},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:""},locked:{required:!1,tsType:{name:"union",raw:'"start" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:""},hidden:{required:!1,tsType:{name:"boolean"},description:""},truncate:{required:!1,tsType:{name:"boolean"},description:""},hideable:{required:!1,tsType:{name:"boolean"},description:""},resizable:{required:!1,tsType:{name:"boolean"},description:""},sortable:{required:!1,tsType:{name:"boolean"},description:""},filterable:{required:!1,tsType:{name:"boolean"},description:""},filter:{required:!1,tsType:{name:"AnyObject"},description:""},filterOptions:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},dataType:{required:!1,tsType:{name:"union",raw:`| "string"
| "number"
| "boolean"
| "datetime"
| "date"
| "time"
| "unknown"`,elements:[{name:"literal",value:'"string"'},{name:"literal",value:'"number"'},{name:"literal",value:'"boolean"'},{name:"literal",value:'"datetime"'},{name:"literal",value:'"date"'},{name:"literal",value:'"time"'},{name:"literal",value:'"unknown"'}]},description:""},format:{required:!1,tsType:{name:"string"},description:""},valueMap:{required:!1,tsType:{name:"KeyValue"},description:""},renderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: AnyObject, data: T, index: number) => Elements<AnyObject>",signature:{arguments:[{type:{name:"AnyObject"},name:"value"},{type:{name:"T"},name:"data"},{type:{name:"number"},name:"index"}],return:{name:"Elements",elements:[{name:"AnyObject"}],raw:"Elements<AnyObject>"}}},description:""}},composes:["CssProp","TestProps"]};const st=(e,t="",a=!0,r)=>{const i=[];return e.forEach(s=>{if(r)return(r==null?void 0:r(s,t))&&i.push(s);if(t&&ie(t)&&t.length>0){if(a&&t.every(c=>re(s.label??s.toString(),c))||!a&&t.some(c=>re(s.label??s.toString(),c)))return i.push(s)}else if(t&&me(t)){if(re(s.label??s.toString(),t))return i.push(s)}else return i.push(s)}),i};function it(e,t,a){const[r,i]=l.useState(),s=l.useDeferredValue(e??[]),[c,u]=l.useState([]),[m,g]=l.useTransition(),v=typeof t=="boolean"?t:!0,h=typeof t=="function"?t:a,P=l.useCallback((A,d,T)=>g(()=>u(st(A,d,T,h))),[]);return l.useEffect(()=>{r?P(s,r,v):u(e)},[r,v,s]),{onSearch:i,query:r,filteredList:c,isSearching:m}}const lt=({list:e=ae,filter:t,onFilter:a})=>{const[r,i]=l.useState(new Set(t)),{filteredList:s,query:c,onSearch:u}=it(e,(m,g)=>re(m.id??m,g));return n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx(nn,{autoFocus:!0,value:c,onSearch:u,searchOnChange:!0})}),n.jsxs("div",{className:"flex-1 overflow-auto scroll-thin",children:[s.map((m,g)=>n.jsx("div",{className:"flex gap-x-1 text-xs items-center",children:n.jsx(En,{checked:r.has(m.id??m),onChange:v=>{const h=new Set(Array.from(r.values()));v?h.add(m.id??m):h.delete(m.id??m),i(h)},label:n.jsx("span",{className:"truncate",children:m.label??m})})},g)),s.length===0&&n.jsx("span",{className:"text-muted text-xs",children:"No items found"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(jn,{children:n.jsx(F,{size:"xs",onClick:()=>a==null?void 0:a(Array.from(r)),children:"Apply"})})})]})},Te=({type:e,list:t,filter:a,onFilter:r})=>n.jsxs("div",{className:"flex flex-col min-w-[16rem]",children:[t&&n.jsx(lt,{list:t,filter:a,onFilter:r}),!t&&e==="string"&&n.jsx(An,{autoFocus:!0,allowClear:!0,value:a,onEnterPressed:i=>r(i.target.value??"")})]});Te.__docgenInfo={description:"",methods:[],displayName:"ColumnFilters",props:{type:{required:!0,tsType:{name:'TableColumn["dataType"]',raw:'TableColumn["dataType"]'},description:""},onFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: AnyObject) => void",signature:{arguments:[{type:{name:"AnyObject"},name:"value"}],return:{name:"void"}}},description:""},list:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:""},filter:{required:!0,tsType:{name:"AnyObject"},description:""}}};const de=({id:e,field:t,dataType:a,label:r,icon:i,actions:s,locked:c,filter:u,filterable:m,filterOptions:g,tooltip:v,sortable:h,resizable:P,width:A,maxWidth:d,minWidth:T,sort:q,onSort:N,onFilter:j})=>{const{startResize:k,widths:p}=Ee(),x=l.useMemo(()=>p.get(e.toString())??A,[p,A,e]),C=l.useCallback(y=>{h&&(N==null||N({id:e.toString(),order:y??((q==null?void 0:q.id)===e&&q.order==="asc"?"desc":"asc")}))},[N,q,h]),_=l.useMemo(()=>{let y=[];return m&&(a??g)&&y.push(n.jsx(be,{label:"Filter",icon:u?"icon-[mdi--check]":"",trigger:"click",children:n.jsx(Te,{type:a,list:g,filter:u,onFilter:S=>j==null?void 0:j(t??e,S)})},"filters")),h&&y.push(n.jsx(xe,{label:"Sort ascending",icon:"icon-[mdi--sort-ascending]",onClick:()=>C("asc")},"sort-asc"),n.jsx(xe,{label:"Sort descending",icon:"icon-[mdi--sort-descending]",onClick:()=>C("desc")},"sort-desc")),s&&(y.push(n.jsx(Nn,{},"div")),y.push(...s)),y.length===1&&(y=[n.jsx(Te,{type:a,list:g,filter:u,onFilter:S=>j==null?void 0:j(t??e,S)},"filters")]),y},[h,s,j,C]);return n.jsxs("div",{role:"none","data-id":e,onClick:()=>C(),className:"group/tool font-medium border-e flex flex-nowrap text-start items-center table-header-cell",style:{width:x??Oe,minWidth:T??Ae,maxWidth:d??Ie},children:[n.jsx(gn,{content:v??r,disabled:!(v??r),children:n.jsxs("div",{className:"flex-initial px-2 py-1 text-sm truncate sticky start-0",children:[i&&n.jsx(D,{...Qe(i)}),n.jsx("span",{children:r??" "})]})}),h&&n.jsxs("div",{className:"text-sm text-tint-300",children:[(q==null?void 0:q.id)===e&&(q==null?void 0:q.order)==="desc"&&n.jsx("span",{children:"▼"}),(q==null?void 0:q.id)===e&&(q==null?void 0:q.order)==="asc"&&n.jsx("span",{children:"▲"})]}),n.jsx("div",{className:"flex-1"}),_.length>0&&n.jsx(Cn,{groupHover:!0,placement:"bottom-end",children:n.jsx(be,{className:"text-sm",children:_})}),m&&!ee(u)&&n.jsx(F,{size:"sm",variant:"link","aria-label":"clear filter",stopPropagation:!0,icon:"icon-[mdi--filter-remove]",onClick:()=>j==null?void 0:j(e)}),P&&n.jsx("div",{role:"none",className:"cursor-col-resize border-e bg-transparent border-tint-200 w-[5px] self-stretch",onMouseDown:y=>y.currentTarget.parentElement&&k(y.currentTarget.parentElement)})]})};de.__docgenInfo={description:"",methods:[],displayName:"HeaderCell",props:{id:{required:!0,tsType:{name:"NestedKeys",elements:[{name:"T"}],raw:"NestedKeys<T>"},description:""},field:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},tooltip:{required:!1,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"IconProps"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},description:""},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:""},locked:{required:!1,tsType:{name:"union",raw:'"start" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:""},hidden:{required:!1,tsType:{name:"boolean"},description:""},truncate:{required:!1,tsType:{name:"boolean"},description:""},hideable:{required:!1,tsType:{name:"boolean"},description:""},resizable:{required:!1,tsType:{name:"boolean"},description:""},sortable:{required:!1,tsType:{name:"boolean"},description:""},filterable:{required:!1,tsType:{name:"boolean"},description:""},filter:{required:!1,tsType:{name:"AnyObject"},description:""},filterOptions:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},dataType:{required:!1,tsType:{name:"union",raw:`| "string"
| "number"
| "boolean"
| "datetime"
| "date"
| "time"
| "unknown"`,elements:[{name:"literal",value:'"string"'},{name:"literal",value:'"number"'},{name:"literal",value:'"boolean"'},{name:"literal",value:'"datetime"'},{name:"literal",value:'"date"'},{name:"literal",value:'"time"'},{name:"literal",value:'"unknown"'}]},description:""},format:{required:!1,tsType:{name:"string"},description:""},valueMap:{required:!1,tsType:{name:"KeyValue"},description:""},renderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: AnyObject, data: T, index: number) => Elements<AnyObject>",signature:{arguments:[{type:{name:"AnyObject"},name:"value"},{type:{name:"T"},name:"data"},{type:{name:"number"},name:"index"}],return:{name:"Elements",elements:[{name:"AnyObject"}],raw:"Elements<AnyObject>"}}},description:""}},composes:["CssProp","TestProps"]};const ot=e=>{const[t,a]=l.useReducer((r,i)=>{if(i.type==="columns"&&(r.columns=i.columns),i.type==="hide"){const m=r.columns.find(g=>g.id===i.id);m&&r.columns.splice(r.columns.indexOf(m),1,{...m,hidden:m.hidden!==!0})}const{start:s=[],end:c=[],cols:u=[]}=en(r.columns.filter(m=>m.hidden!==!0),"locked","cols");return{...r,start:s,end:c,cols:u}},{columns:[],start:[],end:[],cols:[]});return l.useEffect(()=>{a({type:"columns",columns:e})},[e]),{state:t,onHide:r=>a({type:"hide",id:r})}},dt=(e,t)=>{var A;const[a,r]=l.useReducer((d,T)=>{var N,j;T.type==="updateState"&&(d.checked=T.checked),T.type==="expand"&&(d.expanded.includes(T.key)?d.expanded.splice(d.expanded.indexOf(T.key),1):d.expanded.push(T.key)),T.type==="check"&&(d.checked.includes(T.key)?d.checked.splice(d.checked.indexOf(T.key),1):d.checked.push(T.key),(N=t.onCheckChanged)==null||N.call(t,d.checked)),T.type==="checkall"&&(d.allChecked!==0?d.checked=[]:t.keyProperty&&(d.checked=d.data.map(k=>k[t.keyProperty])),(j=t.onCheckChanged)==null||j.call(t,d.checked));const q=d.data.filter(k=>d.checked.includes(k[t.keyProperty]));if(T.type==="groupExpand"){const k=d.groups.find(p=>p.key===T.key);k&&(k.open=!k.open,d.groups=d.groups.slice(),d.items=d.groups.map(p=>[p,p.open?d.grouped[p.key]:void 0]).flat(2).filter(Boolean))}return T.type==="reset"&&(d.data=T.data,T.key?(d.grouped=en(d.data,T.key),d.groups=Object.keys(d.grouped).sort(Ne("asc")).map(k=>({__GROUP__:!0,open:!0,key:k,items:d.grouped[k],itemCount:d.grouped[k].length})),d.items=d.groups.map(k=>[k,...d.grouped[k.key]]).flat()):d.items=d.data),{...d,allChecked:q.length===d.data.length?1:d.checked.length?2:0}},{data:e,items:[],grouped:{},groups:[],checked:[],expanded:[],allChecked:0}),i=l.useRef(0),s=l.useMemo(()=>a.items.map((d,T)=>"__GROUP__"in d?T:void 0).filter(Boolean),[a.items]),c=d=>i.current===d,[u,m]=l.useState(!1),g=l.useRef(null),v=fe({count:a.items.length,getScrollElement:()=>g.current,estimateSize:()=>32,rangeExtractor:l.useCallback(d=>(i.current=[...s].reverse().find(q=>d.startIndex>q)??0,m(d.startIndex!==i.current),[...new Set([i.current,...vn(d)])]),[s])}),h=v.getVirtualItems(),P=l.useCallback(d=>a.items[d],[a.items]);return l.useEffect(()=>{r({type:"reset",key:t.groupProperty,data:e})},[e,t.groupProperty]),l.useEffect(()=>{r({type:"updateState",checked:t.checked??[]})},[t.checked]),l.useEffect(()=>{var d,T;if(t.onLoadMore){const q=(d=h[0])==null?void 0:d.index,N=(T=h==null?void 0:h.slice(-1).pop())==null?void 0:T.index,j=q!==void 0&&a.items[q]===null,k=N!==void 0&&N===a.items.length-1&&a.items.length<t.total,p=ge(t.onLoadMore);return j?p(q):!t.loading&&k&&p(N+1),()=>p.cancel()}},[t.onLoadMore,h]),{scrollerRef:g,items:h,checkState:a,getData:P,virtualizer:v,hasActiveSticky:u,isActiveSticky:c,top:(A=v.range)==null?void 0:A.startIndex,totalSize:v.getTotalSize,measureElement:v.measureElement,toggleGroupExpand:d=>r({type:"groupExpand",key:d}),toggleExpand:d=>r({type:"expand",key:d}),toggleChecked:d=>r({type:"check",key:d}),toggleAllChecked:()=>r({type:"checkall"})}},ct=({ref:e,data:t,columns:a,keyProperty:r="id",groupProperty:i,checkableRows:s,initialScroll:c,hideableColumns:u,sort:m,loading:g,checked:v,emptyDisplay:h,groupRenderer:P,canExpand:A,children:d,onSort:T,onFilter:q,onScroll:N,onRowClick:j,onCheckedChanged:k,total:p=0,onLoadMore:x})=>{var B,te,Ve,Re,He,_e,$e;const{t:C}=se("data"),_=Y(z=>k==null?void 0:k(z),[]),{state:y,onHide:S}=ot(a),{scrollerRef:H,items:V,top:J,checkState:R,virtualizer:$,hasActiveSticky:o,toggleExpand:f,toggleChecked:I,toggleAllChecked:b,toggleGroupExpand:E,getData:L,totalSize:w,isActiveSticky:M,measureElement:K}=dt(t,{checked:v,keyProperty:r,groupProperty:i,total:p,loading:g,onLoadMore:x,onCheckChanged:_}),ne=l.useRef(null),Z=l.useMemo(()=>"bg-inherit sticky start-0 flex flex-nowrap z-1",[]),G=l.useMemo(()=>"bg-inherit sticky end-0 flex flex-nowrap z-1 border-s -ms-px",[]);return l.useLayoutEffect(()=>{setTimeout(()=>{c&&$.scrollToIndex(c,{align:"start"})},100)},[]),l.useImperativeHandle(e,()=>({scrollTo:z=>{$.scrollToIndex(z,{align:"start"})},hilight(z){var W,X;(X=(W=H.current)==null?void 0:W.querySelector(".hilight"))==null||X.classList.remove("hilight","ring-1"),$.scrollToIndex(Math.floor(z),{align:"start"}),setTimeout(()=>{var Be,We;(We=(Be=H.current)==null?void 0:Be.querySelector(`[data-index="${z}"]`))==null||We.classList.add("hilight","ring-1")},100)},unhilight(){var z,W;(W=(z=H.current)==null?void 0:z.querySelector(".hilight"))==null||W.classList.remove("hilight","ring-1")}}),[]),l.useEffect(()=>{const z=ge(W=>{N==null||N(W??0)});return z(J),()=>{z.cancel()}},[J]),n.jsx(ln,{children:n.jsxs("div",{className:"grid area-content overflow-auto relative",style:{gridTemplate:'"head" auto "loader" auto "content" 1fr "foot" auto/1fr'},"data-ref":"tableScroller",ref:H,children:[n.jsxs("div",{"data-ref":"tableHeader",className:"bg-base font-medium sticky top-0 h-8 area-head border-b select-none flex flex-nowrap z-3",children:[n.jsxs("div",{className:Z,children:[A&&n.jsx("div",{className:"w-6"}),s&&n.jsx(Se,{state:R.allChecked,onClick:b}),(B=y.start)==null?void 0:B.map((z,W)=>n.jsx(de,{...z,sort:m,onSort:T,onFilter:q},W))]}),(te=y.cols)==null?void 0:te.map((z,W)=>n.jsx(de,{...z,sort:m,onSort:T,onFilter:q},W)),n.jsxs("div",{className:G,children:[(Ve=y.end)==null?void 0:Ve.map((z,W)=>n.jsx(de,{...z,sort:m,onSort:T,onFilter:q},W)),u&&n.jsx(an,{onClick:S,columns:y.columns.filter(z=>z.hideable!==!1)})]})]}),g&&n.jsx(hn,{}),t.length>0&&n.jsxs("div",{className:"area-content flex flex-col flex-nowrap min-h-full",style:{height:w()},ref:ne,children:[n.jsx("div",{style:{height:(Re=V[o?1:0])==null?void 0:Re.start}}),V.map(({index:z,key:W})=>{const X=L(z);return"__GROUP__"in X?n.jsx("div",{ref:K,"data-index":z,className:O("text-md bg-base border-y border-tint-100 border-t-0 cursor-pointer flex items-center justify-start gap-1 z-2",M(z)&&"sticky top-8"),role:"none",onClick:()=>E(X.key),children:n.jsxs("div",{className:O("px-2 py-1 flex items-center gap-1 z-2 sticky start-0"),children:[n.jsx(D,{rtlFlip:!0,icon:X.open?"icon-[mdi--chevron-down]":"icon-[mdi--chevron-right]"}),(P==null?void 0:P(X))??n.jsxs("div",{className:"flex gap-1 items-center",children:[n.jsx("span",{children:X.key}),n.jsxs("span",{className:"text-sm",children:["(",X.itemCount,")"]})]})]})},W):n.jsx(on,{rowKey:W.toString(),index:z,checkableRows:s,checked:r&&R.checked.includes(X[r])?1:0,expanded:!!r&&R.expanded.includes(X[r]),data:X,hideableColumns:u,keyProperty:r,measureElement:K,onRowClick:j,state:y,canExpand:A,toggleExpand:f,expandRow:d,toggleChecked:I,wrapperEnd:G,wrapperStart:Z},W)}),n.jsxs("div",{className:"flex-1 flex flex-nowrap",children:[n.jsxs("div",{className:Z,children:[A&&n.jsx("div",{className:"w-6"}),s&&n.jsx("div",{className:"w-6"}),(He=y.start)==null?void 0:He.map(z=>n.jsx(oe,{...z},String(z.id)))]}),(_e=y.cols)==null?void 0:_e.map(z=>n.jsx(oe,{...z},String(z.id))),n.jsxs("div",{className:G,children:[($e=y.end)==null?void 0:$e.map(z=>n.jsx(oe,{...z},String(z.id))),u&&n.jsx("div",{className:"w-6"})]})]})]}),!g&&t.length===0&&(h??n.jsx(qe,{size:"sm",className:"bg-dimmed",message:C("datagrid.empty")}))]})})};ct.__docgenInfo={description:`Table component for displaying data in a tabular format with features like sorting, filtering, and virtual scrolling.
It supports expandable rows, checkable rows, and customizable columns.
The component is designed to handle large datasets efficiently by rendering only the visible rows.
It also provides a way to manage column visibility and allows for custom rendering of group headers.
Uses TanStack's \`useVirtual\` for virtualization and React's \`useMemo\` for performance optimization.

@param {TableProps<T>} props - The properties for the Table component.
@returns {JSX.Element} The rendered Table component.

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/story/data-table--table}
@see {@link https://tanstack.com/table/v8/docs/api/virtual}`,methods:[{name:"scrollTo",docblock:null,modifiers:[],params:[{name:"row",optional:!1,type:{name:"number"}}],returns:null},{name:"hilight",docblock:null,modifiers:[],params:[{name:"row",optional:!1,type:null}],returns:null},{name:"unhilight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Table",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"TableColumn",elements:[{name:"T"}],raw:"TableColumn<T>"}],raw:"Array<TableColumn<T>>"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},keyProperty:{required:!1,tsType:{name:"NestedKeys",elements:[{name:"T"}],raw:"NestedKeys<T>"},description:"",defaultValue:{value:'"id"',computed:!1}},groupProperty:{required:!1,tsType:{name:"NestedKeys",elements:[{name:"T"}],raw:"NestedKeys<T>"},description:""},groupRenderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(key: AnyObject) => ReactElement",signature:{arguments:[{type:{name:"AnyObject"},name:"key"}],return:{name:"ReactElement"}}},description:""},emptyDisplay:{required:!1,tsType:{name:"ReactElement"},description:""},checked:{required:!1,tsType:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},description:"checkable rows"},checkableRows:{required:!1,tsType:{name:"boolean"},description:""},onCheckedChanged:{required:!1,tsType:{name:"signature",type:"function",raw:"(rows: AnyObject[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"AnyObject"}],raw:"AnyObject[]"},name:"rows"}],return:{name:"void"}}},description:""},sort:{required:!1,tsType:{name:"signature",type:"object",raw:'{ id: string; order: "asc" | "desc" }',signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:'"asc" | "desc"',elements:[{name:"literal",value:'"asc"'},{name:"literal",value:'"desc"'}],required:!0}}]}},description:"sorting"},onSort:{required:!1,tsType:{name:"signature",type:"function",raw:'(sort: { id: string; order: "asc" | "desc" }) => void',signature:{arguments:[{type:{name:"signature",type:"object",raw:'{ id: string; order: "asc" | "desc" }',signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"order",value:{name:"union",raw:'"asc" | "desc"',elements:[{name:"literal",value:'"asc"'},{name:"literal",value:'"desc"'}],required:!0}}]}},name:"sort"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},hideableColumns:{required:!1,tsType:{name:"boolean"},description:""},onRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: T) => void",signature:{arguments:[{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:""},initialScroll:{required:!1,tsType:{name:"number"},description:""},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(firstItem: number) => void",signature:{arguments:[{type:{name:"number"},name:"firstItem"}],return:{name:"void"}}},description:""},canExpand:{required:!1,tsType:{name:"signature",type:"function",raw:"(record: T) => boolean",signature:{arguments:[{type:{name:"T"},name:"record"}],return:{name:"boolean"}}},description:""},children:{required:!1,tsType:{name:"signature",type:"function",raw:"(record: T) => Elements<AnyObject>",signature:{arguments:[{type:{name:"T"},name:"record"}],return:{name:"Elements",elements:[{name:"AnyObject"}],raw:"Elements<AnyObject>"}}},description:""},onFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: NestedKeys<T> | string, value?: AnyObject) => void",signature:{arguments:[{type:{name:"union",raw:"NestedKeys<T> | string",elements:[{name:"NestedKeys",elements:[{name:"T"}],raw:"NestedKeys<T>"},{name:"string"}]},name:"id"},{type:{name:"AnyObject"},name:"value"}],return:{name:"void"}}},description:""},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"(lastIndex?: number) => void",signature:{arguments:[{type:{name:"number"},name:"lastIndex"}],return:{name:"void"}}},description:""}},composes:["RefProp"]};const dn=({node:e,noLines:t,expanders:a,checkable:r,selectable:i,defaultLeafIcon:s,defaultNodeIcon:c,onToggle:u,onClick:m,onSelect:g,onChecked:v,children:h,leafClassName:P,nodeClassName:A})=>{const{t:d}=se("data"),T=l.useMemo(()=>yn(e.badge),[e.badge]),q=l.useMemo(()=>e.lines.slice(1).map((p,x)=>n.jsx("div",{className:O("flex-initial self-stretch flex items-center w-6 relative",!t&&p>0&&"before:absolute before:top-0 before:start-[7px] before:bg-tint-200 before:min-h-[50%] before:w-0.5 before:scale-x-[.625]",!t&&p!==2&&"before:h-full"),children:n.jsxs("svg",{viewBox:"0 0 24 24",className:"fill-tint-200 rtl:-scale-x-100",children:[p===0&&n.jsx("path",{d:""}),!t&&p===1&&n.jsx("path",{d:"M7.45 26.1v-28.2h1.1v28.2h-1.1z"}),!t&&p===2&&n.jsx("path",{d:"M14.989 12.389l0.161-0.389-0.161-0.389-0.389-0.161h-6.050v-13.55h-1.1v14.1l0.161 0.389 0.389 0.161h6.6z"}),!t&&p===3&&n.jsx("path",{d:"M8.55 12.55h6.050l0.389-0.161 0.161-0.389-0.161-0.389-0.389-0.161h-6.050v-13.55h-1.1v28.2h1.1z"})]})},x)),[t,e.lines]),N=l.useMemo(()=>e.icon?e.icon:{icon:e.leaf?s:c},[s,c,e.icon]),j=l.useMemo(()=>ue(r)||r==="leafOnly"&&e.leaf,[e.leaf,r]),k=l.useMemo(()=>!e.disabled&&(i===!0||i==="leafOnly"&&e.leaf),[e.leaf,e.disabled,i]);return n.jsxs("div",{role:"treeitem","aria-selected":e.selected,className:O("flex flex-nowrap items-center"),"data-testid":e["data-testid"],"data-test-value":e["data-test-value"],"data-id":e.id,children:[q,e.loading&&n.jsx("div",{className:"flex-initial w-6",children:n.jsx(D,{icon:"icon-[svg-spinners--eclipse]",className:"text-muted"})}),!e.leaf&&!e.childFiltered&&!e.loading&&n.jsx("div",{className:"flex-initial w-6",children:n.jsx(D,{rtlFlip:!0,onClick:()=>!e.leaf&&u(e.id),icon:e.open?a[1]:a[0],className:"text-tint-600 hover:text-primary-600"})}),j&&n.jsx("div",{className:"flex-initial w-6",children:n.jsx(D,{onClick:()=>!e.disabled&&v(e.id),icon:e.checked===2?"icon-[mdi--checkbox-intermediate]":e.checked===1?"icon-[mdi--checkbox-marked]":"icon-[mdi--checkbox-blank-outline]",className:O(e.disabled?"text-muted":"text-primary-500 hover:text-primary-600")})}),!e.empty&&n.jsxs("div",{role:"none",className:O("group/tool data-selected:bg-primary-100 flex flex-nowrap flex-1 overflow-hidden select-none",e.childSelected&&"font-medium",e.disabled&&"text-muted opacity-65",e.className,e.leaf?P:A,!e.disabled&&(k||m)&&"hover:bg-primary-50 cursor-pointer"),"data-selected":e.selected,onClick:e.disabled?void 0:p=>{m==null||m(e.id,e.data),k?g(e.id,p.shiftKey):j?v(e.id):u(e.id)},children:[N&&n.jsxs("div",{className:"flex-content max-w-6 me-1 self-center leading-none",children:[l.isValidElement(N)&&N,me(N)&&n.jsx(D,{...Qe(N)})]}),e.childSelected&&!e.open&&n.jsx("span",{className:" flex-content text-primary-500",children:"•"}),n.jsx("div",{role:"none",className:"flex-1 truncate",children:h}),!ee(e.badge)&&n.jsx(bn,{...T,className:O("me-1 self-center flex-content bg-opacity-50",T.className)})]}),e.empty&&n.jsx("div",{className:"text-muted text-sm select-none",children:d("tree.noItems")})]})};dn.__docgenInfo={description:"",methods:[],displayName:"TreeNode",props:{node:{required:!0,tsType:{name:"InternalNode"},description:""},expanders:{required:!0,tsType:{name:"tuple",raw:"[string, string]",elements:[{name:"string"},{name:"string"}]},description:""},defaultNodeIcon:{required:!1,tsType:{name:"Elements",elements:[{name:"JSX.Element"}],raw:"Elements<JSX.Element>"},description:""},defaultLeafIcon:{required:!1,tsType:{name:"Elements",elements:[{name:"JSX.Element"}],raw:"Elements<JSX.Element>"},description:""},noLines:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:""},checkable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:""},leafClassName:{required:!1,tsType:{name:"string"},description:""},nodeClassName:{required:!1,tsType:{name:"string"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string, shiftKey?: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"boolean"},name:"shiftKey"}],return:{name:"void"}}},description:""},onChecked:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, node: any) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"any"},name:"node"}],return:{name:"void"}}},description:""}},composes:["ChildProp"]};const ut=(e,t)=>!!e.leaf!=!!t.leaf?e.leaf?1:-1:Ne()(e.label,t.label),Me=(e=[])=>e.map(t=>[t,...Me(t.children)]).flat(99).filter(Boolean),mt=(e=[])=>{const t=e.map(s=>s.checked),a=t.includes(0),r=t.includes(2),i=t.includes(1);return a&&i||r?2:i?1:0},we=(e,{sorter:t=ut,defaultExpanded:a=[]},r={level:0,parent:void 0})=>{const i=[];return t!==!1&&(e=e.sort(t)),e.forEach(s=>{var c;i.push({open:a.includes(s.id)&&!!((c=s.children)!=null&&c.length),level:r.level,parent:r.parent,checked:0,loaded:!1,loading:!1,filtered:!1,lines:[],...s,leaf:!!s.leaf,children:s.children&&we(s.children,{sorter:t,defaultExpanded:a},{level:r.level+1,parent:s.id})})}),i},je=(e,t=new Map)=>(e.forEach(a=>{if(t.has(a.id))throw new Error(`Node with id [${a.id}] already exists, please make sure all ids are unique`);t.set(a.id,a),a.children&&je(a.children,t)}),t),U=(e,t=[])=>{const a=[],r=e.filter(i=>!i.filtered);return r.forEach((i,s)=>{var c;i.lines=[...t,s===r.length-1?2:3],a.push(i),(i.open||i.childFiltered)&&i.children&&a.push(...U(i.children.filter(u=>!u.filtered),[...t,s===r.length-1?0:1])),i.open&&((c=i.children)==null?void 0:c.length)===0&&a.push({empty:!0,leaf:!0,lines:[...t,s===r.length-1?0:1,2]})}),a},Ue=(e,t)=>{const a=e.get(t??"");if(a){a.selected=!0;let r=a.parent;for(;r;){const i=e.get(r);i&&(i.childSelected=!0),r=i==null?void 0:i.parent}}},he=({nodes:e,multiple:t,selected:a})=>{e.forEach(r=>{r.selected=void 0,r.childSelected=void 0}),t&&ie(a)?a==null||a.forEach(r=>Ue(e,r)):Ue(e,a)},ye=(e,t,a)=>{const r=e.get(t);if(r){r.checked=a??r.checked===0?1:0,r.children&&Me(r.children).forEach(s=>s.checked=r.checked);let i=r.parent;for(;i;){const s=e.get(i);s&&(s.checked=mt(s.children)),i=s==null?void 0:s.parent}}},pt=(e,t,a)=>{e.forEach(r=>{if(t){if(r.parentFiltered)return;if(r.filtered=!(a?a(r.data,t):me(r.queryable)?re(r.queryable,t):me(r.label)&&re(r.label,t)),!r.filtered){let i=r.parent;for(;i;){const s=e.get(i);s&&(s.filtered=!1),s&&(s.childFiltered=!0),i=s==null?void 0:s.parent}r.children&&Me(r.children).forEach(s=>{s.parentFiltered=!0,s.filtered=!1})}}else r.filtered=!1,r.childFiltered=void 0,r.parentFiltered=void 0})},ft=Ce(e=>e),gt=({items:e=ae,checked:t=ae,selected:a,multiple:r,sorter:i,matcher:s,onLoad:c,onQuery:u,onSelect:m,onChecked:g,defaultExpanded:v,onExpandToggle:h})=>{const P=l.useEffectEvent(m??(()=>{})),A=l.useEffectEvent(g??(()=>{})),d=l.useRef([...v??ae]),T=ft(e),q=l.useCallback(o=>{const f=o.filter(I=>I.open).map(I=>I.id);setTimeout(()=>h==null?void 0:h(f),100)},[h]),N=l.useCallback(o=>{var f,I;o.open&&!o.leaf&&!((f=o.children)!=null&&f.length)?(o.loading=!0,setTimeout(()=>{Promise.resolve(c==null?void 0:c(o.id)).then((b=ae)=>{o.children=we(b,{sorter:i,defaultExpanded:v},{level:o.level+1,parent:o.id})}).finally(()=>{var b;o.loading=!1,C({type:"loaded"}),((b=d.current)==null?void 0:b.length)>0&&C({type:"expand",id:d.current.shift()})})},100)):(C({type:"loaded"}),((I=d.current)==null?void 0:I.length)>0&&C({type:"expand",id:d.current.shift()}))},[c]),j=Y((o,f)=>{P(o,f)},[]),k=Y((o,f,I)=>{A(o,f,I)},[]),p=Y(o=>{u==null||u(o)},[u]),[x,C]=l.useReducer((o,f)=>{var I,b,E,L;if(f.type==="load")return o.items=we(f.items,{sorter:i,defaultExpanded:v}),o.itemMap=je(o.items),o.tree=U(o.items),o.selected=void 0,o.checked=void 0,o.query="",{...o};if(f.type==="toggleExpand"){const w=o.itemMap.get(f.id);if(w&&!w.leaf)return w&&(w.open=!w.open),N(w),{...o}}if(f.type==="loaded")return o.itemMap=je(o.items),q(Array.from(o.itemMap.values())),o.tree=U(o.items),o.selected=a,he({nodes:o.itemMap,multiple:r,selected:a}),(I=o.checked)==null||I.forEach(w=>ye(o.itemMap,w,1)),{...o};if(f.type==="expand"){const w=o.itemMap.get(f.id);if(w&&!w.leaf){w.open=!0;let M=w.parent;for(;M;){const K=o.itemMap.get(M);K&&(K.open=!0),M=K==null?void 0:K.parent}return N(w),{...o}}}if(f.type==="expandAll")return o.itemMap.forEach(w=>{var M;!w.leaf&&((M=w.children)!=null&&M.length)&&(w.open=!0)}),q(Array.from(o.itemMap.values())),o.tree=U(o.items),{...o};if(f.type==="collapseAll")return o.itemMap.forEach(w=>{!w.leaf&&(w.open=!1)}),q([]),o.tree=U(o.items),{...o};if(f.type==="filter")return u?ee(f.query)||p(f.query):(pt(o.itemMap,f.query,s),o.tree=U(o.items)),{...o,query:f.query};if(f.type==="toggleSelect"){if(r){const w=(b=o.selected)==null?void 0:b.includes(f.id);f.shiftKey&&w?o.selected=((E=o.selected)==null?void 0:E.filter(M=>M!==f.id))??[]:f.shiftKey&&!w?o.selected=[...o.selected??[],f.id]:o.selected=[f.id]}else o.selected=f.id;return he({nodes:o.itemMap,selected:o.selected,multiple:r}),o.tree=U(o.items),j(o.selected,(L=o.itemMap.get(f.id))==null?void 0:L.data),{...o}}if(f.type==="select")return o.selected=f.id,he({nodes:o.itemMap,multiple:r,selected:f.id}),o.tree=U(o.items),{...o};if(f.type==="toggleCheck"){ye(o.itemMap,f.id);const w=[[],[],[]];return Array.from(o.itemMap.values()).filter(M=>M.checked!==0).forEach(M=>w[M.leaf?0:M.checked].push(M.id)),k(w[0],w[1],w[2]),{...o,checked:w[0]}}return f.type==="checked"?(o.itemMap.forEach(w=>w.checked=0),f.id.forEach(w=>ye(o.itemMap,w,1)),{...o,checked:f.id}):o},{itemMap:new Map,items:[],tree:[],checked:[],query:""});l.useEffect(()=>{var o;C({type:"load",items:T}),T.length&&((o=d.current)==null?void 0:o.length)>0&&C({type:"expand",id:d.current.shift()}),a&&C({type:"select",id:a}),t&&C({type:"checked",id:t})},[T]),l.useEffect(()=>{a&&C({type:"select",id:a})},[a]),l.useEffect(()=>{t&&C({type:"checked",id:t})},[t]);const _=l.useCallback(o=>{C({type:"toggleExpand",id:o})},[]),y=l.useCallback(o=>{C({type:"toggleCheck",id:o})},[]),S=l.useCallback((o,f=!1)=>{C({type:"toggleSelect",id:o,shiftKey:f})},[]),H=l.useCallback(o=>{C({type:"expand",id:o})},[]),V=l.useCallback(o=>{o.length>0&&(d.current=[...o],C({type:"expand",id:d.current.shift()}))},[]),J=l.useCallback(()=>{C({type:"expandAll"})},[]),R=l.useCallback(()=>{C({type:"collapseAll"})},[]),$=Y(o=>{C({type:"filter",query:o})},[],300);return{tree:x.tree,query:x.query,selected:x.selected,toggleExpand:_,expandAll:J,collapseAll:R,toggleCheck:y,expandAndLoad:V,select:S,expand:H,onFilter:$}},ht=({ref:e,items:t,selected:a,checked:r,checkable:i,noLines:s,searchable:c,selectable:u,multiple:m,matcher:g,filterPlaceholder:v,defaultLeafIcon:h,defaultNodeIcon:P,expander:A="box",onChecked:d,onLoad:T,onQuery:q,onSelect:N,onClick:j,sorter:k,makeLabel:p,makeIcon:x,defaultExpanded:C,onExpandToggle:_,leafClassName:y,nodeClassName:S,...H})=>{var G;const{tree:V,query:J,selected:R,toggleExpand:$,toggleCheck:o,expandAll:f,collapseAll:I,expandAndLoad:b,select:E,expand:L,onFilter:w}=gt({items:t,checked:r,selected:a,multiple:m,matcher:g,sorter:k,onLoad:T,onQuery:q,onSelect:N,onChecked:d,defaultExpanded:C,onExpandToggle:_}),M=l.useRef(null),K=fe({count:V.length,getScrollElement:()=>M.current,estimateSize:()=>24}),ne=K.getVirtualItems(),Z=l.useMemo(()=>A==="caret"?["icon-[mdi--menu-right]","icon-[mdi--menu-down]"]:A==="chevron"?["icon-[mdi--chevron-right]","icon-[mdi--chevron-down]"]:A==="folder"?["icon-[mdi--folder-outline]","icon-[mdi--folder-open-outline]"]:["icon-[mdi--plus-box-outline]","icon-[mdi--minus-box-outline]"],[A]);return l.useImperativeHandle(e,()=>({open:B=>L(B),openAndLoad:B=>b(B),select:B=>E(B)}),[]),l.useEffect(()=>{const B=V.findIndex(te=>te.id===R);K.scrollToIndex(B,{align:"auto"})},[R]),n.jsxs(On,{children:[n.jsxs(In,{flex:!0,className:"items-center p-px justify-end overflow-hidden border-b",children:[c&&n.jsx(nn,{value:J,onSearch:w,allowClear:!0,placeholder:v,noBorder:!0,decorateStart:n.jsx(D,{icon:"icon-[mdi--filter-variant]",className:"p-1"})}),n.jsxs(ke,{variant:"link",className:"m-0",children:[n.jsx(F,{size:"sm","aria-label":"expand all",icon:"icon-[mdi--arrow-expand-vertical]",onClick:f}),n.jsx(F,{size:"sm","aria-label":"collapse all",icon:"icon-[mdi--arrow-collapse-vertical]",onClick:I})]})]}),n.jsx("div",{ref:M,role:"tree",className:"area-content overflow-auto p-1",...H,children:n.jsxs("div",{style:{height:K.getTotalSize()},children:[n.jsx("div",{style:{height:(G=ne[0])==null?void 0:G.start}}),ne.map(({index:B,key:te})=>n.jsx("div",{"data-index":B,ref:K.measureElement,children:n.jsx(dn,{node:V[B],noLines:s,expanders:Z,checkable:i,selectable:u,defaultLeafIcon:h,defaultNodeIcon:(x==null?void 0:x(V[B].data))??P,onToggle:$,onChecked:o,onSelect:E,onClick:j,leafClassName:y,nodeClassName:S,children:(V[B].data&&(p==null?void 0:p(V[B].data)))??V[B].label})},te))]})})]})};ht.__docgenInfo={description:`TreePanel component renders a virtualized tree structure with support for
selection, expansion, and filtering. It allows for custom rendering of tree
nodes and supports checkable nodes.

@param {TreePanelProps<T>} props - The properties for the TreePanel component.
@returns {JSX.Element} The rendered TreePanel component.
@template T - The type of items in the tree, extending KeyValue.

@example
\`\`\`jsx
<TreePanel
  items={items}
  selected={selectedItem}
  checked={checkedItems}
  checkable={true}
  renderer={(item) => <span>{item.name}</span>}
  searchable={true}
  selectable={true}
  matcher={(item, query) => item.name.toLowerCase().includes(query.toLowerCase())}
  filterPlaceholder="Search..."
  defaultLeafIcon={<Icon icon="icon-[mdi--file]" />}
  defaultNodeIcon={<Icon icon="icon-[mdi--folder]" />}
  expander="caret"
  onChecked={(checkedItems) => console.log(checkedItems)}
  onLoad={(id) => console.log(\`Load children for \${id}\`)}
  onQuery={(query) => console.log(\`Query: \${query}\`)}
  onSelect={(selectedItem) => console.log(selectedItem)}
  onClick={(item) => console.log(\`Clicked on \${item.id}\`)}
  sorter={(a, b) => a.label.localeCompare(b.label)}
  makeLabel={(item) => item.name}
  makeIcon={(item) => item.icon ? <Icon icon={item.icon} /> : null}
  defaultExpanded={["root"]}
  onExpandToggle={(id, expanded) => console.log(\`Toggle expand for \${id}: \${expanded}\`)}
  leafClassName="leaf-node"
  nodeClassName="tree-node"
/>
\`\`\`

@see {@link https://adarshpastakia.github.io/react-fabric/?path=/docs/data-treepanel--docs}`,methods:[{name:"open",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:{name:"string"}}],returns:null},{name:"openAndLoad",docblock:null,modifiers:[],params:[{name:"list",optional:!1,type:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}],returns:null},{name:"select",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:{name:"string"}}],returns:null}],displayName:"TreePanel",props:{items:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:`TreeBaseNode<T> &
(
  | { leaf: true; children?: never }
  | {
      leaf?: boolean;
      children?: Array<TreeNodeType<T>>;
      open?: boolean;
      iconOpen?: string;
    }
)`,elements:[{name:"TreeBaseNode",elements:[{name:"T"}],raw:"TreeBaseNode<T>"},{name:"unknown"}]}],raw:"Array<TreeNodeType<T>>"},description:""},searchable:{required:!1,tsType:{name:"boolean"},description:"make tree searchable"},filterPlaceholder:{required:!1,tsType:{name:"string"},description:"filter input placeholder"},selectable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:"enable select"},multiple:{required:!1,tsType:{name:"boolean"},description:"enable multi select"},checkable:{required:!1,tsType:{name:"union",raw:'true | "leafOnly"',elements:[{name:"literal",value:"true"},{name:"literal",value:'"leafOnly"'}]},description:"enable checkable"},checked:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"checked items"},defaultNodeIcon:{required:!1,tsType:{name:"string"},description:"default node icon"},defaultLeafIcon:{required:!1,tsType:{name:"string"},description:"default leaf icon"},noLines:{required:!1,tsType:{name:"boolean"},description:"hide level indicator lines"},expander:{required:!1,tsType:{name:"union",raw:'"box" | "caret" | "chevron" | "folder"',elements:[{name:"literal",value:'"box"'},{name:"literal",value:'"caret"'},{name:"literal",value:'"chevron"'},{name:"literal",value:'"folder"'}]},description:"expander icons",defaultValue:{value:'"box"',computed:!1}},onLoad:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  id: string,
) =>
  | Promise<Array<TreeNodeType<T>> | undefined>
  | Array<TreeNodeType<T>>
  | undefined`,signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"union",raw:`| Promise<Array<TreeNodeType<T>> | undefined>
| Array<TreeNodeType<T>>
| undefined`,elements:[{name:"Promise",elements:[{name:"union",raw:"Array<TreeNodeType<T>> | undefined",elements:[{name:"Array",elements:[{name:"intersection",raw:`TreeBaseNode<T> &
(
  | { leaf: true; children?: never }
  | {
      leaf?: boolean;
      children?: Array<TreeNodeType<T>>;
      open?: boolean;
      iconOpen?: string;
    }
)`,elements:[{name:"TreeBaseNode",elements:[{name:"T"}],raw:"TreeBaseNode<T>"},{name:"unknown"}]}],raw:"Array<TreeNodeType<T>>"},{name:"undefined"}]}],raw:"Promise<Array<TreeNodeType<T>> | undefined>"},{name:"Array",elements:[{name:"intersection",raw:`TreeBaseNode<T> &
(
  | { leaf: true; children?: never }
  | {
      leaf?: boolean;
      children?: Array<TreeNodeType<T>>;
      open?: boolean;
      iconOpen?: string;
    }
)`,elements:[{name:"TreeBaseNode",elements:[{name:"T"}],raw:"TreeBaseNode<T>"},{name:"unknown"}]}],raw:"Array<TreeNodeType<T>>"},{name:"undefined"}]}}},description:"callback for lazy loading tree items"},onQuery:{required:!1,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:"callback to load tree using search query"},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, data: T) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"T"},name:"data"}],return:{name:"void"}}},description:"callback on click of tree node"},onChecked:{required:!1,tsType:{name:"signature",type:"function",raw:"(leafs: string[], nodes: string[], partials: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"leafs"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"nodes"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"partials"}],return:{name:"void"}}},description:`callback on change of checked list
@param leafs - list of checked leaf nodes
@param nodes - list of checked nodes
@param partials - list of partially checked nodes`},matcher:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: T, query: string) => boolean",signature:{arguments:[{type:{name:"T"},name:"data"},{type:{name:"string"},name:"query"}],return:{name:"boolean"}}},description:"item filter matcher"},sorter:{required:!1,tsType:{name:"union",raw:"false | ((a: T, b: T) => number)",elements:[{name:"literal",value:"false"},{name:"unknown"}]},description:""},makeLabel:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T) => Elements<JSX.Element>",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"Elements",elements:[{name:"JSX.Element"}],raw:"Elements<JSX.Element>"}}},description:""},makeIcon:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: T) => Elements<JSX.Element>",signature:{arguments:[{type:{name:"T"},name:"node"}],return:{name:"Elements",elements:[{name:"JSX.Element"}],raw:"Elements<JSX.Element>"}}},description:""},defaultExpanded:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onExpandToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"id"}],return:{name:"void"}}},description:""},leafClassName:{required:!1,tsType:{name:"string"},description:""},nodeClassName:{required:!1,tsType:{name:"string"},description:""}},composes:["TestProps","RefProp"]};const Pe=({vertical:e=!0,scrollActive:t,onStart:a,onEnd:r,onPrevious:i,onNext:s})=>n.jsxs(ke,{vertical:e,variant:"link",className:"outline",children:[n.jsx(F,{size:"sm",variant:"link","aria-label":"scroll to top",icon:{icon:e?"icon-[mdi--chevron-double-up]":"icon-[mdi--chevron-double-left]",rtlFlip:!0},disabled:(t&2)===0,onClick:a}),n.jsx(F,{size:"sm",variant:"link","aria-label":"scroll up",icon:{icon:e?"icon-[mdi--chevron-up]":"icon-[mdi--chevron-left]",rtlFlip:!0},disabled:(t&2)===0,onClick:i}),n.jsx(F,{size:"sm",variant:"link","aria-label":"scroll down",icon:{icon:e?"icon-[mdi--chevron-down]":"icon-[mdi--chevron-right]",rtlFlip:!0},disabled:t%2===0,onClick:s}),n.jsx(F,{size:"sm",variant:"link","aria-label":"scroll to bottom",icon:{icon:e?"icon-[mdi--chevron-double-down]":"icon-[mdi--chevron-double-right]",rtlFlip:!0},disabled:t%2===0,onClick:r})]});Pe.__docgenInfo={description:"",methods:[],displayName:"Scroller",props:{scrollActive:{required:!0,tsType:{name:"number"},description:""},vertical:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onStart:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEnd:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onNext:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const yt=Ce(e=>e),ze=({items:e,children:t,columns:a,fullWidth:r,maxWidth:i,minWidth:s,total:c=0,padding:u="md",defaultHeight:m=48,defaultWidth:g=48,hideScroller:v,initialScroll:h,loading:P,onLoadMore:A,onScroll:d,galleryRef:T,...q})=>{var I;const N=l.useDeferredValue(e.length),j=l.useMemo(()=>A?8:0,[A]),k=yt(e.map((b,E)=>({index:E,item:b,isLast:E+1===e.length}))),p=l.useRef(null),[x,C]=l.useState(1),_=l.useMemo(()=>new Array(x).fill(0).map((b,E)=>E),[x]);fn(()=>{if(p.current){const b=p.current,E=()=>{var M;const w=parseInt(getComputedStyle((M=b.firstElementChild)==null?void 0:M.firstElementChild).padding??8);C(a??Math.max(1,Math.floor((((b==null?void 0:b.offsetWidth)??800)-32-(isNaN(w)?8:w)*2)/g)))},L=new ResizeObserver(E);return E(),L.observe(b),()=>{L.unobserve(b),L.disconnect()}}},[p.current,a,g],"virtualGallery recalculate view count");const y=fe({count:Math.ceil(N/x),getScrollElement:()=>p.current,estimateSize:()=>m,overscan:0}),S=y.getVirtualItems(),H=l.useRef(0);l.useEffect(()=>{var b;H.current=((b=S[0])==null?void 0:b.index)??0,p.current&&S[0]&&p.current.scrollTop<S[0].size&&(H.current=0)},[S]);const V=l.useCallback(()=>{const{scrollTop:b=0,scrollHeight:E=0,offsetHeight:L=0}=p.current??{};return E===L?0:b===0?1:b>=E-L-j*2?2:3},[]),[J,R]=l.useState(0),$=Y(b=>d==null?void 0:d(H.current*b),[d]),o=l.useCallback(()=>{R(V()),$(x)},[x,A]);l.useEffect(()=>{R(V())},[N,V]),l.useEffect(()=>{var b,E;if(A){const L=(b=S[0])==null?void 0:b.index,w=(E=S==null?void 0:S.slice(-1).pop())==null?void 0:E.index,M=L*x,K=(w??0)*x+x,ne=L!==void 0&&e[M]===null,Z=w!==void 0&&K>=N-1&&N<c,G=ge(A);return ne?G(M):!P&&Z&&G(K+1),()=>G.cancel()}},[A,S]);const f=l.useRef(!1);return l.useLayoutEffect(()=>{!f.current&&k.length>0&&(f.current=!0,h&&setTimeout(()=>{y.scrollToIndex(Math.floor(h/x),{align:"start"})},200))},[x,h,k]),l.useImperativeHandle(T,()=>({scrollToItem(b){y.scrollToIndex(Math.floor(b/x),{align:"auto"})},hilight(b){var E,L;(L=(E=p.current)==null?void 0:E.querySelector(".hilight"))==null||L.classList.remove("hilight","ring-1"),y.scrollToIndex(Math.floor(b/x),{align:"auto"}),setTimeout(()=>{var w,M;(M=(w=p.current)==null?void 0:w.querySelector(`[data-index="${b}"]`))==null||M.classList.add("hilight","ring-1")},100)},unhilight(){var b,E;(E=(b=p.current)==null?void 0:b.querySelector(".hilight"))==null||E.classList.remove("hilight","ring-1")}}),[y,x]),n.jsx("div",{ref:p,onScroll:o,className:O("area-content bg-base overflow-auto"),...q,children:n.jsxs("div",{className:O("flex flex-nowrap justify-center gap-2 min-h-full"),children:[n.jsx("div",{className:O("box-content",r&&"flex-1",u==="sm"&&"p-1",u==="md"&&"p-2",u==="lg"&&"p-4"),style:{minWidth:s,maxWidth:i},children:n.jsxs("div",{style:{height:y.getTotalSize()+j},children:[n.jsx("div",{style:{height:(I=S[0])==null?void 0:I.start}}),S.map(({key:b,index:E})=>n.jsx("div",{className:"flex","data-index":E,ref:y.measureElement,children:_.map(L=>{var w,M;return n.jsx("div",{"data-index":E*x+L,className:O("grid rounded-capped"),style:{minWidth:g,minHeight:m},children:(w=k[E*x+L])!=null&&w.item?t(k[E*x+L]):((M=k[E*x+L])==null?void 0:M.item)===null&&n.jsx(pe,{className:"p-2"})},`${b}:${L}`)})},b)),P&&n.jsx("div",{children:n.jsx(pe,{})})]})}),!v&&n.jsx("div",{className:O("self-end sticky bottom-2"),children:n.jsx(Pe,{vertical:!0,scrollActive:J,onStart:()=>y.scrollToIndex(0),onPrevious:()=>p.current&&y.scrollBy(-p.current.offsetHeight),onNext:()=>p.current&&y.scrollBy(p.current.offsetHeight),onEnd:()=>y.scrollToIndex(N-1)})})]})})};ze.displayName="VirtualGallery";const bt=l.memo,Xt=bt(ze);ze.__docgenInfo={description:"",methods:[{name:"scrollToItem",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"hilight",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"unhilight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VirtualGallery",props:{children:{required:!0,tsType:{name:"signature",type:"function",raw:`(props: {
  item: T;
  index: number;
  isLast: boolean;
}) => ReactElement`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  item: T;
  index: number;
  isLast: boolean;
}`,signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"index",value:{name:"number",required:!0}},{key:"isLast",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactElement"}}},description:""},galleryRef:{required:!1,tsType:{name:"Ref",elements:[{name:"union",raw:"VirtualGalleryRef | undefined",elements:[{name:"VirtualGalleryRef"},{name:"undefined"}]}],raw:"Ref<VirtualGalleryRef | undefined>"},description:""},columns:{required:!1,tsType:{name:"number"},description:"fixed columns"},defaultHeight:{required:!1,tsType:{name:"number"},description:"default item height",defaultValue:{value:"48",computed:!1}},defaultWidth:{required:!1,tsType:{name:"number"},description:"default item width",defaultValue:{value:"48",computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"full width list"},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},padding:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg" | "none"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'},{name:"literal",value:'"none"'}]},description:"padding",defaultValue:{value:'"md"',computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"data list"},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"loading state"},initialScroll:{required:!1,tsType:{name:"number"},description:""},hideScroller:{required:!1,tsType:{name:"boolean"},description:"hide scroll buttons"},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"(lastIndex?: number) => void",signature:{arguments:[{type:{name:"number"},name:"lastIndex"}],return:{name:"void"}}},description:"load more callback"},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(top: number) => void",signature:{arguments:[{type:{name:"number"},name:"top"}],return:{name:"void"}}},description:"scroll handler"}},composes:["TestProps"]};const xt=Ce(e=>e),Le=({items:e,total:t=0,children:a,fullWidth:r,maxWidth:i,minWidth:s,padding:c="md",orientation:u="vertical",defaultHeight:m=48,defaultWidth:g=48,hideScroller:v,initialScroll:h,loading:P,onLoadMore:A,onScroll:d,listRef:T,...q})=>{var $,o;const N=l.useDeferredValue(e.length),j=l.useMemo(()=>A?8:0,[A]),k=xt(e.map((f,I)=>({index:I,item:f,isLast:I+1===e.length}))),p=l.useRef(null),x=fe({count:N,overscan:0,horizontal:u==="horizontal",getScrollElement:()=>p.current,estimateSize:()=>u==="horizontal"?g:m}),C=x.getVirtualItems(),_=l.useRef(0);l.useEffect(()=>{var f;_.current=((f=C[0])==null?void 0:f.index)??0,p.current&&C[0]&&p.current.scrollTop<C[0].size&&(_.current=0)},[C]);const y=l.useCallback(()=>{const{scrollTop:f=0,scrollLeft:I=0,scrollWidth:b=0,scrollHeight:E=0,offsetWidth:L=0,offsetHeight:w=0}=p.current??{};if(u==="vertical"){if(E===w)return 0;if(f===0)return 1;if(f>=E-w-j*2)return 2}if(u==="horizontal"){if(b===L)return 0;if(Math.abs(I)===0)return 1;if(Math.abs(I)>=b-L-j*2)return 2}return 3},[u]),[S,H]=l.useState(0),V=Y(()=>d==null?void 0:d(_.current),[d]),J=l.useCallback(()=>{H(y()),V()},[u,A]);l.useEffect(()=>{H(y())},[k,y]),l.useEffect(()=>{var f,I;if(A){const b=(f=C[0])==null?void 0:f.index,E=(I=C==null?void 0:C.slice(-1).pop())==null?void 0:I.index,L=b!==void 0&&e[b]===null,w=E!==void 0&&E===N-1&&N<t,M=ge(A);return L?M(b):!P&&w&&M(E+1),()=>M.cancel()}},[A,C]);const R=l.useRef(!1);return l.useLayoutEffect(()=>{!R.current&&k.length>0&&(R.current=!0,h&&setTimeout(()=>{x.scrollToIndex(Math.floor(h),{align:"start"})},200))},[k,h]),l.useImperativeHandle(T,()=>({scrollToItem(f){x.scrollToIndex(f,{align:"auto"})},hilight(f){var I,b;(b=(I=p.current)==null?void 0:I.querySelector(".hilight"))==null||b.classList.remove("hilight","ring-1"),x.scrollToIndex(Math.floor(f),{align:"auto"}),setTimeout(()=>{var E,L;(L=(E=p.current)==null?void 0:E.querySelector(`[data-index="${f}"]`))==null||L.classList.add("hilight","ring-1")},100)},unhilight(){var f,I;(I=(f=p.current)==null?void 0:f.querySelector(".hilight"))==null||I.classList.remove("hilight","ring-1")}}),[x]),n.jsx("div",{ref:p,onScroll:J,className:O("area-content bg-base overflow-auto"),...q,children:n.jsxs("div",{className:O("flex flex-nowrap gap-2 justify-center min-h-full min-w-full",u==="horizontal"&&"flex-col"),children:[n.jsxs("div",{className:O("box-content inline-flex flex-nowrap",u==="vertical"&&"flex-col",u==="horizontal"&&"flex-row",r&&"flex-1",c==="sm"&&"p-1",c==="md"&&"p-2",c==="lg"&&"p-4"),style:{minWidth:s,maxWidth:i},children:[n.jsxs("div",{style:u==="vertical"?{height:x.getTotalSize()+j}:{width:x.getTotalSize()+j},children:[n.jsx("div",{style:u==="vertical"?{height:($=C[0])==null?void 0:$.start}:{width:(o=C[0])==null?void 0:o.start,display:"inline-block"}}),C.map(({key:f,index:I})=>{var b,E;return n.jsx("div",{"data-index":I,ref:x.measureElement,className:O("rounded-capped",u==="horizontal"?"inline-grid":"grid"),style:{minWidth:g,minHeight:m},children:(b=k[I])!=null&&b.item?a(k[I]):((E=k[I])==null?void 0:E.item)===null&&n.jsx(pe,{className:"p-2"})},f)})]}),P&&n.jsx("div",{className:u==="horizontal"?"min-w-16":"",children:n.jsx(pe,{})})]}),!v&&n.jsx("div",{className:O(u==="vertical"&&"self-end sticky bottom-2",u==="horizontal"&&"self-end sticky end-2"),children:n.jsx(Pe,{vertical:u==="vertical",scrollActive:S,onStart:()=>x.scrollToIndex(0),onPrevious:()=>p.current&&x.scrollBy(-(u==="vertical"?p.current.offsetHeight:p.current.offsetWidth)),onNext:()=>p.current&&x.scrollBy(u==="vertical"?p.current.offsetHeight:p.current.offsetWidth),onEnd:()=>x.scrollToIndex(N-1)})})]})})};Le.displayName="VirtualList";const vt=l.memo,Gt=vt(Le);Le.__docgenInfo={description:"",methods:[{name:"scrollToItem",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"hilight",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"unhilight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"VirtualList",props:{children:{required:!0,tsType:{name:"signature",type:"function",raw:`(props: {
  item: T;
  index: number;
  isLast: boolean;
}) => ReactElement`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  item: T;
  index: number;
  isLast: boolean;
}`,signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"index",value:{name:"number",required:!0}},{key:"isLast",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactElement"}}},description:""},listRef:{required:!1,tsType:{name:"Ref",elements:[{name:"union",raw:"VirtualListRef | undefined",elements:[{name:"VirtualListRef"},{name:"undefined"}]}],raw:"Ref<VirtualListRef | undefined>"},description:""},defaultHeight:{required:!1,tsType:{name:"number"},description:"default item height",defaultValue:{value:"48",computed:!1}},defaultWidth:{required:!1,tsType:{name:"number"},description:"default item width",defaultValue:{value:"48",computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"full width list"},maxWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},minWidth:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},padding:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg" | "none"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'},{name:"literal",value:'"none"'}]},description:"padding",defaultValue:{value:'"md"',computed:!1}},orientation:{required:!1,tsType:{name:"union",raw:'"vertical" | "horizontal"',elements:[{name:"literal",value:'"vertical"'},{name:"literal",value:'"horizontal"'}]},description:"list orientation",defaultValue:{value:'"vertical"',computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"data list"},total:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},initialScroll:{required:!1,tsType:{name:"number"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"loading state"},hideScroller:{required:!1,tsType:{name:"boolean"},description:"hide scroll buttons"},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"(lastIndex?: number) => void",signature:{arguments:[{type:{name:"number"},name:"lastIndex"}],return:{name:"void"}}},description:"load more callback"},onScroll:{required:!1,tsType:{name:"signature",type:"function",raw:"(top: number) => void",signature:{arguments:[{type:{name:"number"},name:"top"}],return:{name:"void"}}},description:"scroll handler"}},composes:["TestProps"]};export{tt as H,rt as J,nn as S,ht as T,Xt as V,Gt as a,ct as b,it as u};
