import{b6 as h,bD as d,cf as p,eG as l,eH as y,eI as m,b_ as v,eJ as F,E as o,F as n,V as x}from"./ShadowCastClear.glsl.js";import{l as E}from"./projectBoundingSphere.js";const S=p();let r=class extends h{constructor(e){super(e),this.events=new d}forEach(e){this.forAllFeatures(a=>(e(a),1))}forEachBounds(e,a){for(const s of e)a(this.getFeatureExtent(s,S))}forEachInBounds(e,a){this.forAllFeatures(s=>{const c=this.getFeatureExtent(l(s),$);return y(e,m(c,w))&&a(l(s)),1},s=>{if(E(s,this.sourceSpatialReference,t,this.viewSpatialReference),t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3])return 1;const c=Math.max(e[0],Math.min(t[0],e[2])),f=Math.max(e[1],Math.min(t[1],e[3])),u=t[0]-c,i=t[1]-f;return u*u+i*i<=t[3]*t[3]?1:2})}};o([n({constructOnly:!0})],r.prototype,"featureAdapter",void 0),o([n({constructOnly:!0})],r.prototype,"forAllFeatures",void 0),o([n({constructOnly:!0})],r.prototype,"getFeatureExtent",void 0),o([n({constructOnly:!0})],r.prototype,"sourceSpatialReference",void 0),o([n({constructOnly:!0})],r.prototype,"viewSpatialReference",void 0),r=o([x("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],r);const t=F(0,0,0,0),$=p(),w=v();export{r as l};
