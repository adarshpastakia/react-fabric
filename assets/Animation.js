import{P as T}from"./Percent.js";import{D as Y,i as m,h as P,b as U,j as A,e as G,l as W}from"./Disposer.js";function Z(e,t,r,n){function s(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function a(d){try{c(n.next(d))}catch(f){u(f)}}function l(d){try{c(n.throw(d))}catch(f){u(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function $(e){if(document.readyState!=="loading")e();else{const t=()=>{document.readyState!=="loading"&&(document.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}}function K(e){e.parentNode&&e.parentNode.removeChild(e)}function L(e,t,r,n){return e.addEventListener(t,r,n||!1),new Y(()=>{e.removeEventListener(t,r,n||!1)})}function V(e){return L(window,"resize",t=>{e()})}function b(e){switch(e){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function q(e){return e.pointerId||0}function J(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let e=document.createElement("button");e.style.position="fixed",e.style.top="0px",e.style.left="-10000px",document.body.appendChild(e),e.focus(),e.blur(),document.body.removeChild(e)}}function Q(e){e&&e.focus()}function X(e){if(b("pointerevents"))return e;if(b("touchevents"))switch(e){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(b("mouseevents"))switch(e){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return e}function ee(e){if(typeof Touch<"u"&&e instanceof Touch)return!0;if(typeof PointerEvent<"u"&&e instanceof PointerEvent&&e.pointerType!=null)switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(e.type!=null&&e.type.match(/^mouse/))return!1;return!0}function te(e,t,r){e.style[t]=r}function re(e,t){return e.style[t]}function ne(e){if(e.composedPath){const t=e.composedPath();return t.length===0?null:t[0]}else return e.target}function _(e,t){let r=t;for(;;){if(e===r)return!0;if(r.parentNode===null){if(r.host==null)return!1;r=r.host}else r=r.parentNode}}function se(e,t){return e.target&&_(t.root.dom,e.target)}function ie(e,t){t?e.style.pointerEvents="auto":e.style.pointerEvents="none"}function ue(e){if(e.key!==void 0)return e.key;switch(e.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+e.keyCode}function oe(e){let t=e;for(;;){if(t.parentNode===null)return t.host!=null?t:null;t=t.parentNode}}let S;function ae(e,t,r=""){const n=document.createElement("style");return n.type="text/css",r!=""&&n.setAttribute("nonce",r),n.textContent=t,e===null?document.head.appendChild(n):e.appendChild(n),n}function ce(e,t=""){if(e===null){if(S==null){const r=document.createElement("style");r.type="text/css",t!=""&&r.setAttribute("nonce",t),document.head.appendChild(r),S=r.sheet}return S}else{const r=document.createElement("style");return r.type="text/css",t!=""&&r.setAttribute("nonce",t),e.appendChild(r),r.sheet}}function C(e,t){const r=e.cssRules.length;return e.insertRule(t+"{}",r),e.cssRules[r]}class le extends P{constructor(t,r,n,s=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=ce(t,s);try{this._rule=C(this._root,r)}catch{this._rule=C(this._root,":not(*)")}U(n,(i,u)=>{this.setStyle(i,u)})}set selector(t){this._rule.selectorText=t}get selector(){return this._rule.selectorText}_dispose(){const t=A(this._root.cssRules,this._rule);if(t===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(t)}_setVendorPrefixName(t,r){const n=this._rule.style;n.setProperty("-webkit-"+t,r,""),n.setProperty("-moz-"+t,r,""),n.setProperty("-ms-"+t,r,""),n.setProperty("-o-"+t,r,""),n.setProperty(t,r,"")}setStyle(t,r){t==="transition"?this._setVendorPrefixName(t,r):this._rule.style.setProperty(t,r,"")}}class fe extends P{constructor(t,r,n=""){super(),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._element=ae(t,r,n)}_dispose(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)}}function he(e,t){if(e)if(e.classList){const r=t.split(" ");G(r,n=>{e.classList.add(n)})}else{let r=e.getAttribute("class");r?e.setAttribute("class",r.split(" ").filter(n=>n!==t).join(" ")+" "+t):e.setAttribute("class",t)}}function de(e,t){if(e)if(e.classList)e.classList.remove(t);else{let r=e.getAttribute("class");r&&e.setAttribute("class",r.split(" ").filter(n=>n!==t).join(" "))}}function R(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function pe(){return R()?1:void 0}function ge(e,t){return m(e)?e:e!=null&&m(e.value)&&m(t)?t*e.value:0}function me(e){let t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function y(e,t=0,r="0"){return typeof e!="string"&&(e=e.toString()),t>e.length?Array(t-e.length+1).join(r)+e:e}function k(e){return e.replace(/^[\s]*/,"")}function O(e){return e.replace(/[\s]*$/,"")}function x(e){return k(O(e))}function be(e,t,r=!1,n="..."){if(e.length>t){let s=t-1;for(;s>=0&&e.charAt(s).match(/\w/);)s--;return s>=0&&r==!1?e.substring(0,s+1)+"...":e.substring(0,t)+n}else return e}function ye(e){if(typeof e>"u")return"string";e=e.toLowerCase().replace(/^\[[^\]]*\]/,""),e=e.replace(/\[[^\]]+\]/,""),e=e.trim();let t=e.match(/\/(date|number|duration)$/);return t?t[1]:e==="number"?"number":e==="date"?"date":e==="duration"?"duration":e.match(/[#0]/)?"number":e.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function we(e){return e.replace(/\/(date|number|duration)$/i,"")}function H(e){return e&&e.replace(/<[^>]*>/g,"")}function Se(e){return e&&H((""+e).replace(/[\n\r]+/g,". "))}function Te(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function xe(e){let t="";for(let r=0;r<e.length;r++){const n=e.charAt(r);n.toUpperCase()==n&&r!=0&&(t+=" "),t+=n}return t}function ve(e){const t=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,r=/([^اأدذرزو]*[اأدذرزو])/gi;let n=e.split(/(\s+)/),s=[];return n.forEach(i=>{if(i.match(/^\s+$/))(i=" ")&&(i="  "),s.push(i);else if(t.test(i)){let u=i.split(r).filter(a=>a!=="");s=s.concat(u)}else s=s.concat([...i])}),s}function Ee(e,t=!1){const r=new Date(e.getFullYear(),0,0),n=e.getTime()-r.getTime()+(r.getTimezoneOffset()-e.getTimezoneOffset())*60*1e3,s=1e3*60*60*24;return Math.floor(n/s)}function v(e,t=!1){const r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-n);const s=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-s.getTime())/864e5+1)/7)}function De(e,t=!1){const r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+4-n),new Date(Date.UTC(r.getUTCFullYear(),0,1)).getFullYear()}function Me(e,t=!1){const r=v(new Date(e.getFullYear(),e.getMonth(),1),t);let n=v(e,t);return n==1&&(n=53),n-r+1}function Ce(e,t,r=1,n=!1){let s=new Date(t,0,4,0,0,0,0);return n&&s.setUTCFullYear(t),e*7+r-((s.getDay()||7)+3)}function Fe(e,t){return e>12?e-=12:e===0&&(e=12),t!=null?e+(t-1):e}function Pe(e,t=!1,r=!1,n=!1,s){if(n)return t?"Coordinated Universal Time":"UTC";if(s){const a=e.toLocaleString("en-US",{timeZone:s}),l=e.toLocaleString("en-US",{timeZone:s,timeZoneName:t?"long":"short"});return x(l.substr(a.length))}let i=e.toLocaleString("UTC"),u=e.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(i.length);return r===!1&&(u=u.replace(/ (standard|daylight|summer|winter) /i," ")),x(u)}function Ue(e,t){const r=t||new Date(Date.UTC(2012,0,1,0,0,0,0)),n=new Date(r.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(r.toLocaleString("en-US",{timeZone:e})).getTime()-n.getTime())/6e4*-1}function Le(e){return e.charAt(0).toUpperCase()+e.slice(1)}function D(e){let t,r,n,s=e.h,i=e.s,u=e.l;if(i==0)t=r=n=u;else{let a=function(f,w,h){return h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?f+(w-f)*6*h:h<.5?w:h<.6666666666666666?f+(w-f)*(.6666666666666666-h)*6:f},l=u<.5?u*(1+i):u+i-u*i,c=2*u-l;t=a(c,l,s+1/3),r=a(c,l,s),n=a(c,l,s-1/3)}return{r:Math.round(t*255),g:Math.round(r*255),b:Math.round(n*255)}}function M(e){let t=e.r/255,r=e.g/255,n=e.b/255,s=Math.max(t,r,n),i=Math.min(t,r,n),u=0,a=0,l=(s+i)/2;if(s===i)u=a=0;else{let c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:u=(r-n)/c+(r<n?6:0);break;case r:u=(n-t)/c+2;break;case n:u=(t-r)/c+4;break}u/=6}return{h:u,s:a,l}}function _e(e){const t=e.v*(1-e.s/2),r=t===0||t===1?0:(e.v-t)/Math.min(t,1-t);return{h:e.h,s:r,l:t,a:e.a}}function Re(e){const t=e.l+e.s*Math.min(e.l,1-e.l),r=t===0?0:2*(1-e.l/t);return{h:e.h,s:r,v:t,a:e.a}}function N(e,t){return e&&{r:Math.max(0,Math.min(255,e.r+g(e.r,t))),g:Math.max(0,Math.min(255,e.g+g(e.g,t))),b:Math.max(0,Math.min(255,e.b+g(e.b,t))),a:e.a}}function g(e,t){let r=t>0?255-e:e;return Math.round(r*t)}function j(e,t){if(e){let r=Math.min(Math.max(e.r,e.g,e.b),230),n=g(r,t);return{r:Math.max(0,Math.min(255,Math.round(e.r+n))),g:Math.max(0,Math.min(255,Math.round(e.g+n))),b:Math.max(0,Math.min(255,Math.round(e.b+n))),a:e.a}}else return e}function ke(e,t){return Math.round(255*t)}function E(e){return(e.r*299+e.g*587+e.b*114)/1e3>=128}function z(e,t){if(e===void 0||t==1)return e;let r=M(e);return r.s=t,D(r)}function B(e,t={r:255,g:255,b:255},r={r:255,g:255,b:255}){let n=t,s=r;return E(r)&&(n=r,s=t),E(e)?s:n}function Oe(e,t){return e||(e=[]),[...e,...t].filter((r,n,s)=>s.indexOf(r)===n)}function He(e,t){return!(!t||e.left!=t.left||e.right!=t.right||e.top!=t.top||e.bottom!=t.bottom)}const Ae=Object.freeze(Object.defineProperty({__proto__:null,StyleRule:le,StyleSheet:fe,addClass:he,addEventListener:L,addSpacing:xe,alternativeColor:B,blur:J,brighten:j,capitalizeFirst:Le,cleanFormat:we,contains:_,decimalPlaces:me,escapeForRgex:Te,focus:Q,get12Hours:Fe,getBrightnessStep:ke,getDayFromWeek:Ce,getEventKey:ue,getEventTarget:ne,getFormat:ye,getLightnessStep:g,getMonthWeek:Me,getPointerId:q,getRendererEvent:X,getSafeResolution:pe,getShadowRoot:oe,getStyle:re,getTimeZone:Pe,getTimezoneOffset:Ue,getWeek:v,getWeekYear:De,getYearDay:Ee,hslToHsv:Re,hslToRgb:D,hsvToHsl:_e,iOS:R,isLight:E,isLocalEvent:se,isTouchEvent:ee,lighten:N,mergeTags:Oe,onZoom:V,padString:y,plainText:Se,ready:$,relativeToValue:ge,removeClass:de,removeElement:K,rgbToHsl:M,sameBounds:He,saturate:z,setInteractive:ie,setStyle:te,splitString:ve,stripTags:H,supports:b,trim:x,trimLeft:k,trimRight:O,truncateTextWithEllipsis:be},Symbol.toStringTag,{value:"Module"}));function I(e){return e[0]==="#"&&(e=e.substr(1)),e.length==3&&(e=e[0].repeat(2)+e[1].repeat(2)+e[2].repeat(2)),parseInt(e,16)}function Ne(e){e=e.replace(/[ ]/g,"");let t=e.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=e.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return 0;let r="";for(let n=1;n<=3;n++){let s=parseInt(t[n]).toString(16);s.length==1&&(s="0"+s),r+=s}return I(r)}function Ge(e){return o.fromAny(e)}class o{constructor(t){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=t|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(t=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}toCSSHex(){return"#"+y(this.r.toString(16),2)+y(this.g.toString(16),2)+y(this.b.toString(16),2)}toHSL(t=1){return M({r:this.r,g:this.g,b:this.b})}static fromHSL(t,r,n){const s=D({h:t,s:r,l:n});return this.fromRGB(s.r,s.g,s.b)}toString(){return this.toCSSHex()}static fromHex(t){return new o(t)}static fromRGB(t,r,n){return new o((n|0)+(r<<8)+(t<<16))}static fromString(t){return new o(I(t))}static fromCSS(t){return new o(Ne(t))}static fromAny(t){if(W(t)){if(t[0]=="#")return o.fromString(t);if(t.substr(0,3)=="rgb")return o.fromCSS(t)}else{if(m(t))return o.fromHex(t);if(t instanceof o)return o.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}static alternative(t,r,n){const s=B({r:t.r,g:t.g,b:t.b},r?{r:r.r,g:r.g,b:r.b}:void 0,n?{r:n.r,g:n.g,b:n.b}:void 0);return this.fromRGB(s.r,s.g,s.b)}static interpolate(t,r,n,s="rgb"){if(s=="hsl"){const i=r.toHSL(),u=n.toHSL();return o.fromHSL(p(t,i.h,u.h),p(t,i.s,u.s),p(t,i.l,u.l))}else return o.fromRGB(p(t,r.r,n.r),p(t,r.g,n.g),p(t,r.b,n.b))}static lighten(t,r){const n=N({r:t.r,g:t.g,b:t.b},r);return o.fromRGB(n.r,n.g,n.b)}static brighten(t,r){const n=j({r:t.r,g:t.g,b:t.b},r);return o.fromRGB(n.r,n.g,n.b)}static saturate(t,r){const n=z({r:t.r,g:t.g,b:t.b},r);return o.fromRGB(n.r,n.g,n.b)}}function We(e){return Z(this,void 0,void 0,function*(){if(e!==void 0){const t=[];U(e,(r,n)=>{t.push(n.waitForStop())}),yield Promise.all(t)}})}function p(e,t,r){return t+e*(r-t)}function je(e,t,r){return e>=1?r:t}function ze(e,t,r){return new T(p(e,t.percent,r.percent))}function Be(e,t,r){return o.interpolate(e,t,r)}function Ze(e,t){return typeof e=="number"&&typeof t=="number"?p:e instanceof T&&t instanceof T?ze:e instanceof o&&t instanceof o?Be:je}var F;(function(e){e[e.Stopped=0]="Stopped",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused"})(F||(F={}));export{re as A,K as B,o as C,H as D,pe as E,J as F,Q as G,F as H,ze as I,Ze as J,ee as K,q as L,We as M,be as N,oe as O,$ as P,Le as Q,He as R,le as S,Ae as U,Z as _,L as a,we as b,Ge as c,me as d,Ue as e,Pe as f,ue as g,Fe as h,se as i,Ee as j,Me as k,v as l,Oe as m,De as n,V as o,y as p,Ce as q,ge as r,b as s,Te as t,te as u,X as v,ne as w,x,ve as y,ie as z};
