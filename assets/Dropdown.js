import{j as l,F as V,r as i,l as S,w as A,x as Z,y as ee,z as ne,B as oe,G as re,I as te,J as se,K as ae,L as ie,N as le,O as de,Q as ce,U as ue,W as pe,X as fe,m as ve,Y as me,n as ge}from"./iframe-DpfJK_wQ.js";function N(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),r.push.apply(r,n)}return r}function p(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N(Object(r),!0).forEach(function(n){ge(a,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(r,n))})}return a}var he=function(e){var r,n,c=e.ref,u=e.children,m=e.showArrow,x=e.closeOnClick,C=e.fitToParent,D=C===void 0?!0:C,k=e.placement,$=k===void 0?"bottom":k,f=e.onClose,I=e.onOpen,y=e.disabled,U=e.plainDropdown,W=e.dropdownEvent,_=e.dropdownClassName,E=i.useRef(null),z=i.useState(!1),F=S(z,2),g=F[0],h=F[1],w=A(),B=i.useMemo(function(){return i.Children.toArray(u)},[u]),R=S(B,2),v=R[0],M=R[1],j=Z({open:g,onOpenChange:function(o,s,O){var P;O!=="reference-press"&&(h(o),(P=o?I:f)===null||P===void 0||P())},strategy:"fixed",placement:$,whileElementsMounted:te,middleware:[ee({padding:8}),ne(),m&&oe(9),m&&re({element:E})]}),d=j.refs,G=j.floatingStyles,b=j.context,K=W==="hover"?se:ae,q=K(b,{enabled:!y,handleClose:ie({blockPointerEvents:!0})}),H=le(b,{referencePress:!0}),T=de([H,q]),J=T.getReferenceProps,L=T.getFloatingProps,Q=i.useMemo(function(){if(D){var t,o,s=(t=(o=d.reference.current)===null||o===void 0?void 0:o.closest('[data-ref="buttonGroup"]'))!==null&&t!==void 0?t:d.reference.current;return s==null?void 0:s.offsetWidth}},[d,g,D]),X=i.useCallback(function(t){var o,s;!((o=d.floating.current)!==null&&o!==void 0&&o.contains(t.target.closest("[data-dropdown-dismiss='false']")))&&(x||(s=d.floating.current)!==null&&s!==void 0&&s.contains(t.target.closest("[data-dropdown-dismiss='true']")))&&setTimeout(function(){h(!1),f==null||f()},100)},[x,f]),Y=i.useMemo(function(){return ce(c,v.props.ref,d.setReference)},[c,v.props.ref,d.setReference]);if(i.useEffect(function(){y&&h(!1)},[y]),i.useEffect(function(){if(!w)return;function t(){h(!1)}return w.events.on("close",t),function(){w.events.off("close",t)}},[w]),!v||!M)throw Error("Dropdown requires two elements [Anchor, Panel]");return l.jsxs(i.Fragment,{children:[i.cloneElement(v,p(p({},J({onClick:function(o){var s,O;(s=(O=v.props).onClick)===null||s===void 0||s.call(O,o),o.stopPropagation(),o.preventDefault()}})),{},{"data-inner-clickable":"true","data-dropdown-open":g?!0:void 0,ref:Y})),g&&l.jsxs(ue,{root:(r=(n=d.domReference.current)===null||n===void 0?void 0:n.closest(".theme-base"))!==null&&r!==void 0?r:void 0,children:[l.jsx(pe,{}),l.jsx(fe,{context:b,modal:!0,children:l.jsxs("div",p(p({ref:d.setFloating,style:p({minWidth:Q,zIndex:"var(--z-popover)"},G),"data-ref":"dropdownBody"},L({onClick:function(o){return o.stopPropagation()}})),{},{children:[l.jsx("div",{role:"none",className:ve("fabric-dropdownBody",_,!U&&"shadow-lg bg-base ring-1 ring-tint-100","rounded-capped overflow-auto scroll-thin grid max-h-[70vh]"),onMouseUpCapture:X,children:M}),m&&l.jsx(me,{ref:E,context:b,strokeWidth:.5,className:"fill-base stroke-dimmed"})]}))})]})]})},be=function(e){return l.jsx(V,{children:l.jsx(he,p({},e))})},Oe=function(e){var r=e.children,n=e.dismiss,c=n===void 0?!0:n,u=A();return l.jsx("div",{role:"none",className:"contents","data-dropdown-dismiss":c,onMouseUp:function(){return c&&setTimeout(function(){return u==null?void 0:u.events.emit("close")},50)},children:r})};export{be as D,Oe as a};
