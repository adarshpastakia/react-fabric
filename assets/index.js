import{r as c,bD as K,b8 as H,j as w,m as P,bE as L}from"./iframe-DpfJK_wQ.js";var j=K(),S=K(),T=K(),D=function(i,r,o,s){if(!(typeof window<"u"&&window.DEBUG_EFFECTS!==!0)){if(i.length!==r.length){s.debug("Deps have a different length",{process:o},i.length,r.length);return}i.forEach(function(e,t){var l=r[t],y=[];if(e!==l){var n,a,u,f,h,k,b,C,m,d,g,E;y.push("Dep [".concat(t,"] has a different value"),(n=(a=(u=(f=e==null||(h=e.type)===null||h===void 0?void 0:h.name)!==null&&f!==void 0?f:e==null?void 0:e.tagName)!==null&&u!==void 0?u:e==null?void 0:e.name)!==null&&a!==void 0?a:e==null||(k=e.substr)===null||k===void 0?void 0:k.call(e,0,24))!==null&&n!==void 0?n:e,(b=(C=(m=(d=l==null||(g=l.type)===null||g===void 0?void 0:g.name)!==null&&d!==void 0?d:l==null?void 0:l.tagName)!==null&&m!==void 0?m:l==null?void 0:l.name)!==null&&C!==void 0?C:l==null||(E=l.substr)===null||E===void 0?void 0:E.call(l,0,24))!==null&&b!==void 0?b:l,`

`)}y.length&&s.debug.apply(s,["Diff",{process:o}].concat(y))})}},Q=function(i,r,o){var s=c.useRef(r);return c.useMemo(function(){var e=s.current;return D(e,r,o,j),s.current=r,i()},r)},A=function(i,r,o){var s=c.useRef(r);c.useEffect(function(){var e=s.current;return D(e,r,o,S),s.current=r,i()},r)},V=function(i,r,o){var s=c.useRef(r);c.useLayoutEffect(function(){var e=s.current;return D(e,r,o,T),s.current=r,i()},r)},W=function(i){var r=i.keyCombo,o=i.global,s=i.handler,e={key:"",meta:!1,shift:!1,ctrl:!1,alt:!1,_key:r,handler:s,global:o};return r.split("+").forEach(function(t){t.trim().toLowerCase()==="ctrl"?e.ctrl=!0:t.trim().toLowerCase()==="alt"?e.alt=!0:t.trim().toLowerCase()==="meta"?e.meta=!0:t.trim().toLowerCase()==="shift"?e.shift=!0:t.trim().toLowerCase()==="left"?e.key="arrowleft":t.trim().toLowerCase()==="right"?e.key="arrowright":t.trim().toLowerCase()==="up"?e.key="arrowup":t.trim().toLowerCase()==="down"?e.key="arrowdown":t.trim().toLowerCase().startsWith("del")?e.key="delete":t.trim().toLowerCase().startsWith("esc")?e.key="escape":e.key=t.trim().toLowerCase()}),e},x=c.createContext({}),Y=function(){return c.useContext(x)},z=c.memo(function(v){var i=v.children,r=c.useRef(null),o=c.useRef([]),s=c.useCallback(function(n,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return o.current=[].concat(H(o.current.filter(function(f){var h=f._key;return h!==n})),[W({keyCombo:n,handler:a,global:u})])},[]),e=c.useCallback(function(n){return o.current=H(o.current.filter(function(a){var u=a._key;return u!==n}))},[]),t=c.useCallback(function(n,a){if(n.length!==0){var u=a.key,f=a.code,h=a.altKey,k=a.ctrlKey,b=a.metaKey,C=a.shiftKey;if(!(u!=="Enter"&&u!=="Esc"&&["INPUT","TEXTAREA","SELECT"].includes(a.target.tagName))){var m=n.find(function(d){var g=d.key,E=d.alt,p=d.ctrl,R=d.meta,N=d.shift;return(g.toLowerCase()===u.toLowerCase()||g.toLowerCase()===f.toLowerCase()||"key".concat(g.toLowerCase())===f.toLowerCase())&&E===h&&p===k&&R===b&&N===C});m!=null&&m.handler&&(m.handler(),a.preventDefault(),a.stopImmediatePropagation())}}},[]),l=c.useCallback(function(n){t(o.current.filter(function(a){return a.global}),n)},[t]),y=c.useCallback(function(n){t(o.current.filter(function(a){return!a.global}),n)},[t]);return A(function(){var n,a=(n=r.current)===null||n===void 0?void 0:n.parentElement;if(a)return a.tabIndex=0,a.addEventListener("keydown",y),document.addEventListener("keydown",l),function(){a.removeEventListener("keydown",y),document.removeEventListener("keydown",l)}},[l,y],"HotKeyWrapper attach handlers"),w.jsx(x.Provider,{value:{addHotKey:s,removeHotKey:e},children:w.jsx("div",{ref:r,style:{display:"contents"},children:i})})});z.displayName="HotKeyProvider";P("fabric-mediaPlaceholder","absolute z-1 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-sm text-gray");var B={title:"أُووبس! لقد كسرنا شيئا"},M={ok:"حسنا",add:"اضف جديد",save:"حفظ",more:"أظهر المزيد",less:"عرض أقل",back:"عودة",copy:"ينسخ",copied:"نسخ",close:"قريب",apply:"تطبيق",delete:"حذف",submit:"تقديم",cancel:"إلغاء",preview:"معاينة"},O={error:B,action:M},F={en:"English",ar:"عربى",de:"Deutsche",es:"Español",fr:"Français",it:"Italiano",jp:"日本語",ko:"한국어",pt:"Português",ru:"Pусский",zh:"中国人"},G={title:"OOPS! We broke something"},U={ok:"OK",add:"Add New",save:"Save",more:"Show more",less:"Show less",back:"Back",copy:"Copy",copied:"Copied",close:"Close",apply:"Apply",delete:"Delete",submit:"Submit",cancel:"Cancel",preview:"Preview"},X={locale:F,error:G,action:U},q=function(i,r){var o=function(){Object.keys(r).forEach(function(e){var t=r[e];L.addResourceBundle(e,i,t,!0,!1)})};L.isInitialized?o():L.on("initialized",o)};q("core",{en:X,ar:O});export{z as H,Q as a,q as b,A as c,Y as d,W as r,V as u};
