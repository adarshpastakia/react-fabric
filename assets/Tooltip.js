import{_ as A,u as G,C as H}from"./index.js";import{aU as J,_ as K,r as a,l as M,aJ as L,s as N,j as l,m as D,ax as Q,w as X,I as q,K as Y,N as Z,O as ee,Q as te,X as ne,x as re,y as oe,z as ae,B as ie,G as se}from"./iframe-DwvN93Ge.js";var m=function(e){return e&&J(e)?e:"var(--color-".concat(e,")")},le=["ref","icon","iconSrc","bg","color","size","rtlFlip","animate","rounded","disabled","viewBox","className","onClick"];function T(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function B(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(t){A(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ve=function(e){return typeof e=="string"?{icon:e}:e},ce=["",".875em",".525em",".35em",".25em"],z={xs:"0.625rem",sm:"0.875rem",md:"1.125rem",lg:"1.5rem",xl:"2rem"},ue=function(e){var n=e.ref,t=e.icon,o=e.iconSrc,d=e.bg,i=e.color,f=e.size,c=f===void 0?"":f,R=e.rtlFlip,s=e.animate,O=e.rounded,w=e.disabled,b=e.viewBox,S=b===void 0?"0 0 24 24":b,P=e.className,u=e.onClick,y=K(e,le),F=a.useState(!1),g=M(F,2),v=g[0],C=g[1];a.useEffect(function(){C(!1)},[o]);var x=a.useMemo(function(){var p={};return d&&(p.backgroundColor=m(d)),i&&(p.color=m(i)),c&&!(c in z)&&(p.fontSize=c),c&&c in z&&(p.fontSize=z[c]),p},[d,i,c]),E=a.useMemo(function(){return L(t)},[t]),k=a.useMemo(function(){if(a.isValidElement(t))return t;if(!N(t))throw Error("Invalid icon expected string");return E?l.jsx("svg",{viewBox:S,children:l.jsx("path",{fill:"currentColor",d:t.toString()})}):(t==null?void 0:t.toString().length)<=4?l.jsx("svg",{role:"img",children:l.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:ce[t.length]},children:t})}):l.jsx("i",{className:"".concat(t)})},[t,E,S]);return l.jsxs("dfn",B(B({"data-ref":"icon",ref:n},y),{},{role:"presentation",className:D("fabric-icon","select-none overflow-hidden box-content leading-none not-italic text-center",!O&&"rounded",O&&"rounded-full",s&&"animate-".concat(s),!!u&&w&&"opacity-30 pointer-events-none",P),onClick:function(h){u&&h.stopPropagation(),u&&h.preventDefault(),u==null||u(h)},"data-flip":R,style:x,"data-clickable":!!u,"data-inner-clickable":!!u,children:[o&&!v&&l.jsx("img",{src:o,onError:function(){return C(!0)}}),(!o||v)&&k]}))},de=function(){var e=Q("core"),n=e.i18n,t=a.useState(!1),o=M(t,2),d=o[0],i=o[1];return G(function(){try{i(n.dir()==="rtl")}catch{}},[n.language],"useIsRtl"),d},fe=["ref","children","color","textColor","content","open","copyContent","disabled","placement"];function $(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function I(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$(Object(n),!0).forEach(function(t){A(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var be=function(e){var n=e.ref,t=e.children,o=e.color,d=e.textColor,i=e.content,f=e.open,c=e.copyContent,R=e.disabled,s=e.placement,O=K(e,fe),w=a.useRef(null),b=de(),S=a.useState(f),P=M(S,2),u=P[0],y=P[1];a.useEffect(function(){y(f)},[f]);var F=a.useMemo(function(){var j;return b?s!=null&&s.includes("left")?s.replace("left","right"):(j=s==null?void 0:s.replace("right","left"))!==null&&j!==void 0?j:"top":s??"top"},[s,b]),g=X({open:u,strategy:"fixed",onOpenChange:f||R?void 0:y,whileElementsMounted:se,placement:F,middleware:[re({padding:8}),oe(),ae(9),ie({element:w})]}),v=g.refs,C=g.floatingStyles,x=g.context,E=q(x,{restMs:500,delay:{open:1e3},handleClose:c?Y({buffer:1}):void 0}),k=Z([f?void 0:E]),p=k.getReferenceProps,h=k.getFloatingProps;a.useEffect(function(){x.update()},[i]);var U=a.useMemo(function(){return ee(n,t.props.ref,v.setReference)},[n,t.props.ref,v.setReference]),V=a.useMemo(function(){if(c){var j=N(c)?c:i,W=function(_){y(!1),_.stopPropagation(),navigator.clipboard.writeText(j.toString())};return l.jsx("span",{role:"none",className:"ms-2 cursor-pointer text-dimmed flex-content opacity-75 hover:opacity-90 active:opacity-60",onClick:W,children:l.jsx(ue,{icon:H.copy})})}return null},[c,i]);return l.jsxs(a.Fragment,{children:[a.cloneElement(t,I({ref:U},f?{}:p(O))),u&&i&&l.jsx(te,{children:l.jsxs("dfn",I(I({"data-ref":"tooltip",className:D("fabric-tooltip z-(--z-tooltip)","select-none text-sm not-italic flex py-1 px-2 !max-w-lg rounded shadow-md bg-muted"),ref:v.setFloating,style:I({color:d?m(d):void 0,backgroundColor:o?m(o):void 0},C)},h()),{},{children:[a.isValidElement(i)&&i,N(i)&&l.jsx("span",{className:D("font-medium flex-1 break-all whitespace-pre-wrap mixed-lang",!d&&"contrast"),style:{color:d?void 0:o?m(o):"var(--bg-color-muted)"},children:i}),V,l.jsx(ne,{ref:w,context:x,strokeWidth:.5,className:"fill-muted stroke-dimmed",style:{stroke:o?m(o):void 0,fill:o?m(o):void 0}})]}))})]})};export{ue as I,be as T,ve as a,m as g,de as u};
