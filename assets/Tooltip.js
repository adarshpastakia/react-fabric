import{_ as M,u as L,C as Q}from"./index2.js";import{aX as U,_ as D,r as s,aM as V,s as E,j as c,m as R,aA as q,l as T,w as J,I as Y,K as Z,N as _,O as ee,Q as te,X as ne,x as re,y as oe,z as ae,B as ie,G as se}from"./iframe-6XIGnDH8.js";var m=function(e){return e&&U(e)?e:"var(--color-".concat(e,")")},le=["ref","icon","bg","color","size","rtlFlip","animate","rounded","disabled","viewBox","className","onClick"];function z(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function F(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(t){M(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ce=["",".875em",".525em",".35em",".25em"],k={xs:"0.625rem",sm:"0.875rem",md:"1.125rem",lg:"1.5rem",xl:"2rem"},ue=function(e){var n=e.ref,t=e.icon,o=e.bg,u=e.color,l=e.size,a=l===void 0?"":l,p=e.rtlFlip,h=e.animate,i=e.rounded,P=e.disabled,g=e.viewBox,v=g===void 0?"0 0 24 24":g,S=e.className,f=e.onClick,j=D(e,le),b=s.useMemo(function(){var d={};return o&&(d.backgroundColor=m(o)),u&&(d.color=m(u)),a&&!(a in k)&&(d.fontSize=a),a&&a in k&&(d.fontSize=k[a]),d},[o,u,a]),O=s.useMemo(function(){return V(t)},[t]),y=s.useMemo(function(){if(!E(t))throw Error("Invalid icon expected string");return O?c.jsx("svg",{viewBox:v,children:c.jsx("path",{fill:"currentColor",d:t.toString()})}):(t==null?void 0:t.toString().length)<=4?c.jsx("svg",{role:"img",children:c.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:ce[t.length]},children:t})}):c.jsx("i",{className:"".concat(t)})},[t,O,v]);return c.jsx("dfn",F(F({"data-ref":"icon",ref:n},j),{},{role:"presentation",className:R("fabric-icon","select-none overflow-hidden box-content leading-none not-italic text-center",!i&&"rounded",i&&"rounded-full",h&&"animate-".concat(h),!!f&&P&&"opacity-30 pointer-events-none",S),onClick:f,"data-flip":p,style:b,"data-clickable":!!f,"data-inner-clickable":!!f,children:y}))},de=function(){var e=q("core"),n=e.i18n,t=s.useState(!1),o=T(t,2),u=o[0],l=o[1];return L(function(){try{l(n.dir()==="rtl")}catch{}},[n.language],"useIsRtl"),u},pe=["ref","children","color","textColor","content","open","copyContent","disabled","placement"];function N(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function w(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N(Object(n),!0).forEach(function(t){M(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ve=function(e){var n=e.ref,t=e.children,o=e.color,u=e.textColor,l=e.content,a=e.open,p=e.copyContent,h=e.disabled,i=e.placement,P=D(e,pe),g=s.useRef(null),v=de(),S=s.useState(a),f=T(S,2),j=f[0],b=f[1];s.useEffect(function(){b(a)},[a]);var O=s.useMemo(function(){var x;return v?i!=null&&i.includes("left")?i.replace("left","right"):(x=i==null?void 0:i.replace("right","left"))!==null&&x!==void 0?x:"top":i??"top"},[i,v]),y=J({open:j,strategy:"fixed",onOpenChange:a||h?void 0:b,whileElementsMounted:se,placement:O,middleware:[re({padding:8}),oe(),ae(9),ie({element:g})]}),d=y.refs,B=y.floatingStyles,C=y.context,$=Y(C,{restMs:500,delay:{open:1e3},handleClose:p?Z({buffer:1}):void 0}),I=_([a?void 0:$]),A=I.getReferenceProps,K=I.getFloatingProps;s.useEffect(function(){C.update()},[l]);var W=s.useMemo(function(){return ee(n,t.props.ref,d.setReference)},[n,t.props.ref,d.setReference]),X=s.useMemo(function(){if(p){var x=E(p)?p:l,G=function(H){b(!1),H.stopPropagation(),navigator.clipboard.writeText(x.toString())};return c.jsx("span",{role:"none",className:"ms-2 cursor-pointer text-dimmed flex-content opacity-75 hover:opacity-90 active:opacity-60",onClick:G,children:c.jsx(ue,{icon:Q.copy})})}return null},[p,l]);return c.jsxs(s.Fragment,{children:[s.cloneElement(t,w({ref:W},a?{}:A(P))),j&&l&&c.jsx(te,{children:c.jsxs("dfn",w(w({"data-ref":"tooltip",className:R("fabric-tooltip z-(--z-tooltip)","select-none text-sm not-italic flex py-1 px-2 !max-w-lg rounded shadow-md bg-muted"),ref:d.setFloating,style:w({color:u?m(u):void 0,backgroundColor:o?m(o):void 0},B)},K()),{},{children:[s.isValidElement(l)&&l,E(l)&&c.jsx("span",{className:R("font-medium flex-1 break-all whitespace-pre-wrap mixed-lang",!u&&"contrast"),style:{color:u?void 0:o?m(o):"var(--bg-color-muted)"},children:l}),X,c.jsx(ne,{ref:g,context:C,strokeWidth:.5,className:"fill-muted stroke-dimmed",style:{stroke:o?m(o):void 0,fill:o?m(o):void 0}})]}))})]})};export{ue as I,ve as T,m as g,de as u};
