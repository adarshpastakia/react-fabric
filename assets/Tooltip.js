import{aU as W,_ as A,r as a,l as M,aJ as G,u as D,j as l,m as N,n as U,ax as H,x as Q,J as Y,L as _,O as q,Q as X,U as Z,Y as ee,y as te,z as ne,B as re,G as oe,I as ae}from"./iframe-DpfJK_wQ.js";import{u as ie}from"./index.js";var m=function(e){return e&&W(e)?e:"var(--color-".concat(e,")")},se=["ref","icon","iconSrc","bg","color","size","rtlFlip","animate","rounded","disabled","viewBox","className","onClick"];function T(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function B(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(t){U(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ge=function(e){return typeof e=="string"?{icon:e}:a.isValidElement(e)?{icon:e}:e},le=["",".875em",".525em",".35em",".25em"],z={xs:"0.625rem",sm:"0.875rem",md:"1.125rem",lg:"1.5rem",xl:"2rem"},ce=function(e){var n=e.ref,t=e.icon,o=e.iconSrc,d=e.bg,i=e.color,f=e.size,c=f===void 0?"":f,R=e.rtlFlip,s=e.animate,O=e.rounded,S=e.disabled,b=e.viewBox,w=b===void 0?"0 0 24 24":b,P=e.className,u=e.onClick,y=A(e,se),F=a.useState(!1),g=M(F,2),v=g[0],C=g[1];a.useEffect(function(){C(!1)},[o]);var x=a.useMemo(function(){var p={};return d&&(p.backgroundColor=m(d)),i&&(p.color=m(i)),c&&!(c in z)&&(p.fontSize=c),c&&c in z&&(p.fontSize=z[c]),p},[d,i,c]),E=a.useMemo(function(){return G(t)},[t]),k=a.useMemo(function(){if(a.isValidElement(t))return t;if(!D(t))throw Error("Invalid icon expected string");return E?l.jsx("svg",{viewBox:w,children:l.jsx("path",{fill:"currentColor",d:t.toString()})}):(t==null?void 0:t.toString().length)<=4?l.jsx("svg",{role:"img",children:l.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:le[t.length]},children:t})}):l.jsx("i",{className:"".concat(t)})},[t,E,w]);return l.jsxs("dfn",B(B({"data-ref":"icon",ref:n},y),{},{role:"presentation",className:N("fabric-icon","select-none overflow-hidden box-content leading-none not-italic text-center",!O&&"rounded",O&&"rounded-full",s&&"animate-".concat(s),!!u&&S&&"opacity-30 pointer-events-none",P),onClick:function(h){u&&h.stopPropagation(),u&&h.preventDefault(),u==null||u(h)},"data-flip":R,style:x,"data-clickable":!!u,"data-inner-clickable":!!u,children:[o&&!v&&l.jsx("img",{src:o,alt:"fallback icon",onError:function(){return C(!0)}}),(!o||v)&&k]}))},ue=function(){var e=H("core"),n=e.i18n,t=a.useState(!1),o=M(t,2),d=o[0],i=o[1];return ie(function(){try{i(n.dir()==="rtl")}catch{}},[n.language],"useIsRtl"),d},de=["ref","children","color","textColor","content","open","copyContent","disabled","placement"];function $(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function I(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$(Object(n),!0).forEach(function(t){U(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ve=function(e){var n=e.ref,t=e.children,o=e.color,d=e.textColor,i=e.content,f=e.open,c=e.copyContent,R=e.disabled,s=e.placement,O=A(e,de),S=a.useRef(null),b=ue(),w=a.useState(f),P=M(w,2),u=P[0],y=P[1];a.useEffect(function(){y(f)},[f]);var F=a.useMemo(function(){var j;return b?s!=null&&s.includes("left")?s.replace("left","right"):(j=s==null?void 0:s.replace("right","left"))!==null&&j!==void 0?j:"top":s??"top"},[s,b]),g=Q({open:u,strategy:"fixed",onOpenChange:f||R?void 0:y,whileElementsMounted:ae,placement:F,middleware:[te({padding:8}),ne(),re(9),oe({element:S})]}),v=g.refs,C=g.floatingStyles,x=g.context,E=Y(x,{restMs:500,delay:{open:1e3},handleClose:c?_({buffer:1}):void 0}),k=q([f?void 0:E]),p=k.getReferenceProps,h=k.getFloatingProps;a.useEffect(function(){x.update()},[i]);var V=a.useMemo(function(){return X(n,t.props.ref,v.setReference)},[n,t.props.ref,v.setReference]),J=a.useMemo(function(){if(c){var j=D(c)?c:i,K=function(L){y(!1),L.stopPropagation(),navigator.clipboard.writeText(j.toString())};return l.jsx("span",{role:"none",className:"ms-2 cursor-pointer text-dimmed flex-content opacity-75 hover:opacity-90 active:opacity-60",onClick:K,children:l.jsx(ce,{icon:"icon-[mdi--content-copy]"})})}return null},[c,i]);return l.jsxs(a.Fragment,{children:[a.cloneElement(t,I({ref:V},f?{}:p(O))),u&&i&&l.jsx(Z,{children:l.jsxs("dfn",I(I({"data-ref":"tooltip",className:N("fabric-tooltip z-(--z-tooltip)","select-none text-sm not-italic flex py-1 px-2 max-w-lg! rounded shadow-md bg-muted"),ref:v.setFloating,style:I({color:d?m(d):void 0,backgroundColor:o?m(o):void 0},C)},h()),{},{children:[a.isValidElement(i)&&i,D(i)&&l.jsx("span",{className:N("font-medium flex-1 break-all whitespace-pre-wrap mixed-lang",!d&&"contrast"),style:{color:d?void 0:o?m(o):"var(--bg-color-muted)"},children:i}),J,l.jsx(ee,{ref:S,context:x,strokeWidth:.5,className:"fill-muted stroke-dimmed",style:{stroke:o?m(o):void 0,fill:o?m(o):void 0}})]}))})]})};export{ce as I,ve as T,ge as a,m as g,ue as u};
