import{_ as M,u as L,C as Q}from"./index2.js";import{aX as U,_ as T,r as s,aM as V,s as R,j as c,m as I,aA as _,l as B,w as q,I as J,K as Y,N as Z,O as ee,Q as te,X as ne,x as re,y as oe,z as ae,B as ie,G as se}from"./iframe-Ctw5u0Cj.js";var m=function(e){return e&&U(e)?e:"var(--color-".concat(e,")")},le=["ref","icon","bg","color","size","rtlFlip","animate","rounded","disabled","viewBox","className","onClick"];function F(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function N(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F(Object(n),!0).forEach(function(t){M(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ce=["",".875em",".525em",".35em",".25em"],E={xs:"0.625rem",sm:"0.875rem",md:"1.125rem",lg:"1.5rem",xl:"2rem"},ue=function(e){var n=e.ref,t=e.icon,o=e.bg,d=e.color,l=e.size,a=l===void 0?"":l,f=e.rtlFlip,j=e.animate,i=e.rounded,S=e.disabled,g=e.viewBox,v=g===void 0?"0 0 24 24":g,C=e.className,u=e.onClick,O=T(e,le),b=s.useMemo(function(){var p={};return o&&(p.backgroundColor=m(o)),d&&(p.color=m(d)),a&&!(a in E)&&(p.fontSize=a),a&&a in E&&(p.fontSize=E[a]),p},[o,d,a]),w=s.useMemo(function(){return V(t)},[t]),y=s.useMemo(function(){if(!R(t))throw Error("Invalid icon expected string");return w?c.jsx("svg",{viewBox:v,children:c.jsx("path",{fill:"currentColor",d:t.toString()})}):(t==null?void 0:t.toString().length)<=4?c.jsx("svg",{role:"img",children:c.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:ce[t.length]},children:t})}):c.jsx("i",{className:"".concat(t)})},[t,w,v]);return c.jsx("dfn",N(N({"data-ref":"icon",ref:n},O),{},{role:"presentation",className:I("fabric-icon","select-none overflow-hidden box-content leading-none not-italic text-center",!i&&"rounded",i&&"rounded-full",j&&"animate-".concat(j),!!u&&S&&"opacity-30 pointer-events-none",C),onClick:function(x){u&&x.stopPropagation(),u&&x.preventDefault(),u==null||u(x)},"data-flip":f,style:b,"data-clickable":!!u,"data-inner-clickable":!!u,children:y}))},de=function(){var e=_("core"),n=e.i18n,t=s.useState(!1),o=B(t,2),d=o[0],l=o[1];return L(function(){try{l(n.dir()==="rtl")}catch{}},[n.language],"useIsRtl"),d},pe=["ref","children","color","textColor","content","open","copyContent","disabled","placement"];function D(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function P(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D(Object(n),!0).forEach(function(t){M(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var ve=function(e){var n=e.ref,t=e.children,o=e.color,d=e.textColor,l=e.content,a=e.open,f=e.copyContent,j=e.disabled,i=e.placement,S=T(e,pe),g=s.useRef(null),v=de(),C=s.useState(a),u=B(C,2),O=u[0],b=u[1];s.useEffect(function(){b(a)},[a]);var w=s.useMemo(function(){var h;return v?i!=null&&i.includes("left")?i.replace("left","right"):(h=i==null?void 0:i.replace("right","left"))!==null&&h!==void 0?h:"top":i??"top"},[i,v]),y=q({open:O,strategy:"fixed",onOpenChange:a||j?void 0:b,whileElementsMounted:se,placement:w,middleware:[re({padding:8}),oe(),ae(9),ie({element:g})]}),p=y.refs,x=y.floatingStyles,k=y.context,$=J(k,{restMs:500,delay:{open:1e3},handleClose:f?Y({buffer:1}):void 0}),z=Z([a?void 0:$]),A=z.getReferenceProps,K=z.getFloatingProps;s.useEffect(function(){k.update()},[l]);var W=s.useMemo(function(){return ee(n,t.props.ref,p.setReference)},[n,t.props.ref,p.setReference]),X=s.useMemo(function(){if(f){var h=R(f)?f:l,G=function(H){b(!1),H.stopPropagation(),navigator.clipboard.writeText(h.toString())};return c.jsx("span",{role:"none",className:"ms-2 cursor-pointer text-dimmed flex-content opacity-75 hover:opacity-90 active:opacity-60",onClick:G,children:c.jsx(ue,{icon:Q.copy})})}return null},[f,l]);return c.jsxs(s.Fragment,{children:[s.cloneElement(t,P({ref:W},a?{}:A(S))),O&&l&&c.jsx(te,{children:c.jsxs("dfn",P(P({"data-ref":"tooltip",className:I("fabric-tooltip z-(--z-tooltip)","select-none text-sm not-italic flex py-1 px-2 !max-w-lg rounded shadow-md bg-muted"),ref:p.setFloating,style:P({color:d?m(d):void 0,backgroundColor:o?m(o):void 0},x)},K()),{},{children:[s.isValidElement(l)&&l,R(l)&&c.jsx("span",{className:I("font-medium flex-1 break-all whitespace-pre-wrap mixed-lang",!d&&"contrast"),style:{color:d?void 0:o?m(o):"var(--bg-color-muted)"},children:l}),X,c.jsx(ne,{ref:g,context:k,strokeWidth:.5,className:"fill-muted stroke-dimmed",style:{stroke:o?m(o):void 0,fill:o?m(o):void 0}})]}))})]})};export{ue as I,ve as T,m as g,de as u};
