import{H as i,aa as h}from"./ShadowCastClear.glsl.js";import{e as l}from"./webStyleAcceptedFormats.js";import"./iframe-qDaPDssc.js";import"./index.js";import"./Viewport.js";import"./debounce.js";import"./index2.js";import"./Section.js";import"./ErrorBoundary.js";import"./createClass.js";import"./Global.js";import"./useIsDark.js";async function v(t,e,o){var m;const r=(m=t.thumbnail)==null?void 0:m.url;if(r){const n=c((await i(r,{responseType:"image"})).data,o);return o!=null&&o.node?(o.node.appendChild(n),o.node):n}const a=await t.fetchSymbol({acceptedFormats:l});return a?e(a,o):null}function c(t,e){const o=!/\\.svg$/i.test(t.src)&&(e==null?void 0:e.disableUpsampling),r=Math.max(t.width,t.height);let a=(e==null?void 0:e.maxSize)!=null?h(e.maxSize):120;o&&(a=Math.min(r,a));const m=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null,n=Math.min(a,m!=null?h(m):r);if(n!==r){const p=t.width!==0&&t.height!==0?t.width/t.height:1;p>=1?(t.width=n,t.height=n/p):(t.width=n*p,t.height=n)}return t}export{v as previewWebStyleSymbol};
