import{r,bA as l,bh as m}from"./iframe-DvMcemLF.js";function A(e){return/^\d+$/.test(e)?"".concat(e,"px"):e}function _(){}var c=function(){return c=Object.assign||function(e){for(var i,a=1,n=arguments.length;a<n;a++){i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},c.apply(this,arguments)},X=function(e,i){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)i.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};function Y(e){var i=e.width,a=i===void 0?"100%":i,n=e.height,o=n===void 0?"100%":n,x=e.value,f=x===void 0?null:x,w=e.defaultValue,F=w===void 0?"":w,C=e.language,g=C===void 0?"javascript":C,R=e.theme,p=R===void 0?null:R,S=e.options,h=S===void 0?{}:S,W=e.overrideServices,H=W===void 0?{}:W,N=e.editorWillMount,I=N===void 0?_:N,V=e.editorDidMount,T=V===void 0?_:V,P=e.editorWillUnmount,q=P===void 0?_:P,D=e.onChange,U=D===void 0?_:D,$=e.className,d=$===void 0?null:$,y=e.uri,E=r.useRef(null),t=r.useRef(null),M=r.useRef(null),O=r.useRef(null),L=A(a),k=A(o),b=r.useRef(U);b.current=U;var B=r.useMemo(function(){return{width:L,height:k}},[L,k]),G=function(){var u=I(m);return u||{}},J=function(){T(t.current,m),M.current=t.current.onDidChangeModelContent(function(u){var s;O.current||(s=b.current)===null||s===void 0||s.call(b,t.current.getValue(),u)})},K=function(){q(t.current,m)},Q=function(){var u=f!==null?f:F;if(E.current){var s=c(c({},h),G()),j=y==null?void 0:y(m),v=j&&l.getModel(j);v?(v.setValue(u),l.setModelLanguage(v,g)):v=l.createModel(u,g,j),t.current=l.create(E.current,c(c(c({model:v},d?{extraEditorClassName:d}:{}),s),p?{theme:p}:{}),H),J()}};return r.useEffect(Q,[]),r.useEffect(function(){if(t.current){if(f===t.current.getValue())return;var u=t.current.getModel();O.current=!0,t.current.pushUndoStop(),u.pushEditOperations([],[{range:u.getFullModelRange(),text:f}],void 0),t.current.pushUndoStop(),O.current=!1}},[f]),r.useEffect(function(){if(t.current){var u=t.current.getModel();l.setModelLanguage(u,g)}},[g]),r.useEffect(function(){if(t.current){h.model;var u=X(h,["model"]);t.current.updateOptions(c(c({},d?{extraEditorClassName:d}:{}),u))}},[d,h]),r.useEffect(function(){t.current&&t.current.layout()},[a,o]),r.useEffect(function(){l.setTheme(p)},[p]),r.useEffect(function(){return function(){t.current&&(K(),t.current.dispose()),M.current&&M.current.dispose()}},[]),r.createElement("div",{ref:E,style:B,className:"react-monaco-editor-container"})}Y.displayName="MonacoEditor";export{Y as M};
