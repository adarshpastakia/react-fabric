import{g as S,_ as T}from"./Tooltip-J_gHpl9C.js";import{_ as K,r as v,l as P,j as t,m as z,aK as W,aL as q}from"./iframe-BcXNitKG.js";var F=["ref","name","avatar","fallbackIcon","bg","color","size","rounded","variant","className","viewBox","onClick"];function N(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,r)}return a}function A(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?N(Object(a),!0).forEach(function(r){T(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var g={xs:"0.875rem",sm:"1.125rem",md:"1.5rem",lg:"2rem",xl:"2.5rem"},H=function(e){var a=e.ref,r=e.name,i=e.avatar,c=e.fallbackIcon,m=e.bg,d=e.color,x=e.size,s=x===void 0?"":x,p=e.rounded,j=e.variant,b=j===void 0?"beam":j,B=e.className,y=e.viewBox,C=y===void 0?"0 0 24 24":y,h=e.onClick,E=K(e,F),$=v.useState(!0),w=P($,2),O=w[0],k=w[1],D=v.useMemo(function(){var o={};return m&&(o.backgroundColor=S(m)),d&&(o.color=S(d)),s&&!(s in g)&&(o.fontSize=s),s&&s in g&&(o.fontSize=g[s]),o},[m,d,s]),I=v.useMemo(function(){return k(!i),i&&t.jsxs("div",{className:"contents",children:[t.jsx("div",{className:z("fabric-imgPlaceholder","absolute inset-0 bg-gray animate-pulse")}),t.jsx("img",{src:i,alt:i,className:"align-baseline",onError:function(){return k(!0)},onLoad:function(l){var u;return(u=l.currentTarget.previousElementSibling)===null||u===void 0?void 0:u.remove()}})]})},[i]),M=v.useMemo(function(){if(c)return W(c)?t.jsx("svg",{viewBox:C,children:t.jsx("path",{fill:"currentColor",d:c.toString()})}):t.jsx("i",{className:c});if(b==="text"){var o=r.match(/(?=(\w).* (\w).*)|(?=(\w\w).*)/),l=P(o,4),u=l[1],L=l[2],f=l[3];return t.jsx("svg",{role:"img",children:t.jsx("text",{x:"50%",y:"50%",dy:".1em",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:".5em",fontWeight:500},children:f??"".concat(u).concat(L)})})}return t.jsx(q,{square:!0,size:64,variant:b,name:r})},[r,b,c]);return t.jsxs("dfn",A(A({role:"presentation",className:z("fabric-avatar",B,"select-none relative overflow-hidden inline-block box-content leading-none not-italic text-center",!p&&"rounded",p&&"rounded-full"),onClick:h,style:D,"data-clickable":!!h,ref:a},E),{},{children:[!O&&I,O&&M]}))};export{H as A};
