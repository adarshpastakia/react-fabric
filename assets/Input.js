import{_ as k,r as i,l as A,j,m as K,n as N}from"./iframe-DpfJK_wQ.js";import{I as W}from"./InputWrapper.js";import{u as z}from"./eventHandlers.js";var H=["ref","name","value","invalid","readOnly","disabled","required","placeholder","defaultValue","autoFocus","error","monospace","type","onBlur","onFocus","onChange","onEnterPressed"];function P(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,r)}return a}function x(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?P(Object(a),!0).forEach(function(r){N(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var J=function(e){var a=e.ref,r=e.name,o=e.value,m=e.invalid,l=e.readOnly,u=e.disabled,E=e.required,w=e.placeholder,c=e.defaultValue,C=e.autoFocus,y=e.error,F=e.monospace,b=e.type,D=b===void 0?"text":b,S=e.onBlur,V=e.onFocus,s=e.onChange,I=e.onEnterPressed,q=k(e,H),B=i.useState(""),O=A(B,2),g=O[0],f=O[1],d=i.useDeferredValue(o??c),$=z(I);i.useEffect(function(){f(d??"")},[d]);var h=i.useCallback(function(p){var v,t=(v=p==null?void 0:p.target.value)!==null&&v!==void 0?v:c;f(t??""),s==null||s(t??null)},[s,c]);return j.jsx(W,x(x({showClear:!!g&&!u&&!l,onClear:h,invalid:m,readOnly:l,disabled:u,required:E,error:y},q),{},{children:j.jsx("input",{className:K("appearance-none bg-transparent py-1 px-2 flex-1 border-none outline-none ring-0 peer",F&&"font-mono text-sm"),"aria-invalid":m,"aria-disabled":u,"aria-readonly":l,"aria-errormessage":y,placeholder:w,disabled:u,readOnly:l,"data-testid":r,name:r,size:1,type:D,ref:a,autoComplete:"off",autoFocus:C,value:g,onBlur:S,onFocus:V,onChange:h,onKeyDown:$})}))};export{J as I};
