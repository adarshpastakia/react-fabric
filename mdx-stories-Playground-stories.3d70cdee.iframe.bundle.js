"use strict";(self.webpackChunkreact_fabric=self.webpackChunkreact_fabric||[]).push([[1630],{"./packages/mdx/stories/Playground.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playground:()=>Playground,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Playground_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),purify=__webpack_require__("./node_modules/dompurify/dist/purify.js"),es=__webpack_require__("./node_modules/highlight.js/es/index.js"),marked_esm=__webpack_require__("./node_modules/marked/lib/marked.esm.js"),marked_admonition_extension_dist=__webpack_require__("./node_modules/marked-admonition-extension/dist/index.mjs"),src=__webpack_require__("./node_modules/marked-emoji/src/index.js"),marked_highlight_src=__webpack_require__("./node_modules/marked-highlight/src/index.js"),bash=__webpack_require__("./node_modules/highlight.js/es/languages/bash.js"),css=__webpack_require__("./node_modules/highlight.js/es/languages/css.js"),javascript=__webpack_require__("./node_modules/highlight.js/es/languages/javascript.js"),json=__webpack_require__("./node_modules/highlight.js/es/languages/json.js"),typescript=__webpack_require__("./node_modules/highlight.js/es/languages/typescript.js"),xml=__webpack_require__("./node_modules/highlight.js/es/languages/xml.js"),yaml=__webpack_require__("./node_modules/highlight.js/es/languages/yaml.js"),emoji_en_US=__webpack_require__("./node_modules/emojilib/dist/emoji-en-US.json");const emojiMap=Object.entries(emoji_en_US).reduce(((ret,[emoji,names])=>(names.forEach((name=>ret[name]=ret[name]??emoji)),ret)),{});es.A.registerLanguage("javascript",javascript.A),es.A.registerLanguage("typescript",typescript.A),es.A.registerLanguage("css",css.A),es.A.registerLanguage("json",json.A),es.A.registerLanguage("bash",bash.A),es.A.registerLanguage("html",xml.A),es.A.registerLanguage("yaml",yaml.A),es.A.registerLanguage("default",xml.A);const LANGS=["javascript","typescript","css","json","bash","html","yaml"],LANG_MAP={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript"},_marked=new marked_esm.Dz(marked_admonition_extension_dist.Ay,(0,src.R)({emojis:emojiMap,unicode:!0}),(0,marked_highlight_src.x)({langPrefix:"hljs language-",highlight(code,language){const lang=LANG_MAP[language]??language;return es.A.highlight(code,{language:LANGS.includes(lang)?lang:"default"}).value}}));_marked.use({gfm:!0,breaks:!0,renderer:{code:code=>`<pre class="hljs language-${code.lang}"><code>${code.text}</code><button class="hljs-copy">\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg></button>\n      <div class="hljs-copy-success">Copied!</div>\n      </pre>`},hooks:{postprocess:source=>purify.sanitize(source)}});const marked=_marked,Mdx=({text,className,...rest})=>{const[mdtext,setMdtext]=(0,react.useState)(""),copySuccess=(0,react.useCallback)((el=>{el.dataset.show="true",setTimeout((()=>el.dataset.show="false"),1e3)}),[]);return(0,react.useEffect)((()=>{const parsed=text?marked.parse(text.replaceAll(":::","!!! ")):"";Promise.resolve(parsed).then(setMdtext)}),[text]),(0,jsx_runtime.jsx)("div",{role:"none",className:`markdown-body ${className??""}`,dangerouslySetInnerHTML:{__html:mdtext},onClick:e=>{const el=e.target?.closest(".hljs-copy");el&&navigator.clipboard.writeText(el.previousElementSibling.innerText).then((()=>copySuccess(el.nextElementSibling)))}})};try{Mdx.displayName="Mdx",Mdx.__docgenInfo={description:"",displayName:"Mdx",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"css classname(s)",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/mdx/src/mdx/Mdx.tsx#Mdx"]={docgenInfo:Mdx.__docgenInfo,name:"Mdx",path:"packages/mdx/src/mdx/Mdx.tsx#Mdx"})}catch(__react_docgen_typescript_loader_error){}var MDXEditor=__webpack_require__("./node_modules/@mdxeditor/editor/dist/MDXEditor.js"),headings=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/headings/index.js"),lists=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/lists/index.js"),quote=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/quote/index.js"),table=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/table/index.js"),thematic_break=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/thematic-break/index.js"),plugins_link=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/link/index.js"),codeblock=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/codeblock/index.js"),link_dialog=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/link-dialog/index.js"),codemirror=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/codemirror/index.js"),CodeMirrorEditor=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/codemirror/CodeMirrorEditor.js"),directives=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/directives/index.js"),AdmonitionDirectiveDescriptor=__webpack_require__("./node_modules/@mdxeditor/editor/dist/directive-editors/AdmonitionDirectiveDescriptor.js"),toolbar=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/index.js"),primitives_toolbar=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/primitives/toolbar.js"),ChangeCodeMirrorLanguage=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/ChangeCodeMirrorLanguage.js"),UndoRedo=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/UndoRedo.js"),BoldItalicUnderlineToggles=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/BoldItalicUnderlineToggles.js"),CodeToggle=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/CodeToggle.js"),ListsToggle=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/ListsToggle.js"),BlockTypeSelect=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/BlockTypeSelect.js"),CreateLink=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/CreateLink.js"),InsertTable=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/InsertTable.js"),InsertThematicBreak=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/InsertThematicBreak.js"),InsertCodeBlock=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/InsertCodeBlock.js"),ChangeAdmonitionType=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/ChangeAdmonitionType.js"),InsertAdmonition=__webpack_require__("./node_modules/@mdxeditor/editor/dist/plugins/toolbar/components/InsertAdmonition.js"),esm=(__webpack_require__("./node_modules/@mdxeditor/editor/dist/style.css"),__webpack_require__("./packages/core/dist/esm/index.js")),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);const MdxEditor=({value:_value,onChange})=>{const isDark=(0,esm.Yf)(),[showPreview,setShowPreview]=(0,react.useState)(!1),[actualValue,setActualValue]=(0,react.useState)(_value),value=(0,react.useDeferredValue)(_value);(0,react.useEffect)((()=>{setActualValue(value??"")}),[value]);const handleChange=(0,react.useCallback)((val=>{setActualValue(val.replaceAll("\\:",":")),onChange?.(val.replaceAll("\\:",":"))}),[onChange]);return showPreview?(0,jsx_runtime.jsxs)(esm.wn,{children:[(0,jsx_runtime.jsx)(esm.Y9,{flex:!0,justify:"end",className:"py-1 px-2 bg-base",children:(0,jsx_runtime.jsx)(esm.$n,{"aria-label":"close",icon:"mdi mdi-close",className:"self-center",onClick:()=>setShowPreview(!1),variant:"link",size:"sm"})}),(0,jsx_runtime.jsx)(esm.UC,{children:(0,jsx_runtime.jsx)(Mdx,{text:actualValue??""})})]}):(0,jsx_runtime.jsx)(MDXEditor.R,{className:classnames_default()("fabric-mdxEditor","grid overflow-hidden area-content max-h-full h-full bg-base",isDark?"dark-theme":"light-theme"),markdown:actualValue??"",onChange:handleChange,contentEditableClassName:"markdown-body",plugins:[(0,headings.xO)(),(0,lists.Zq)(),(0,quote.G)(),(0,table.c3)(),(0,thematic_break.Y)(),(0,plugins_link.O)(),(0,codeblock.oe)(),(0,link_dialog.Mi)(),(0,codemirror.sl)({codeBlockLanguages:{js:"JavaScript",ts:"TypeScript",tsx:"TypeScript (React)",jsx:"JavaScript (React)",css:"CSS",html:"HTML",bash:"Bash",json:"JSON",yaml:"YAML"}}),(0,codeblock.oe)({defaultCodeBlockLanguage:"js",codeBlockEditorDescriptors:[{match:()=>!0,priority:0,Editor:CodeMirrorEditor.g}]}),(0,directives.g$)({directiveDescriptors:[AdmonitionDirectiveDescriptor.n]}),(0,toolbar.F7)({toolbarContents:()=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(primitives_toolbar.b1,{options:[{when:editor=>"codeblock"===editor?.editorType,contents:()=>(0,jsx_runtime.jsx)(ChangeCodeMirrorLanguage.D,{})},{fallback:()=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(UndoRedo.l,{}),(0,jsx_runtime.jsx)(primitives_toolbar.wv,{}),(0,jsx_runtime.jsx)(BoldItalicUnderlineToggles.p,{}),(0,jsx_runtime.jsx)(CodeToggle.S,{}),(0,jsx_runtime.jsx)(primitives_toolbar.wv,{}),(0,jsx_runtime.jsx)(ListsToggle.I,{}),(0,jsx_runtime.jsx)(primitives_toolbar.wv,{}),(0,jsx_runtime.jsx)(BlockTypeSelect._,{}),(0,jsx_runtime.jsx)(primitives_toolbar.wv,{}),(0,jsx_runtime.jsx)(CreateLink.d,{}),(0,jsx_runtime.jsx)(InsertTable._,{}),(0,jsx_runtime.jsx)(InsertThematicBreak.a,{}),(0,jsx_runtime.jsx)(primitives_toolbar.wv,{}),(0,jsx_runtime.jsx)(InsertCodeBlock.O,{}),(0,jsx_runtime.jsx)(primitives_toolbar.b1,{options:[{when:editor=>"directive"===editor?.rootNode?.getType()&&["note","tip","info","danger","caution"].includes(editor.rootNode?.getMdastNode?.().name),contents:()=>(0,jsx_runtime.jsx)(ChangeAdmonitionType.b,{})},{fallback:()=>(0,jsx_runtime.jsx)(InsertAdmonition.Y,{})}]})]})}]}),(0,jsx_runtime.jsx)(esm.$n,{"aria-label":"preview",icon:"mdi mdi-eye",className:"m-0 self-center",onClick:()=>setShowPreview(!0),variant:"link",size:"sm"})]})})]})};try{MdxEditor.displayName="MdxEditor",MdxEditor.__docgenInfo={description:"",displayName:"MdxEditor",props:{value:{defaultValue:null,description:"code string",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"onChange callback",name:"onChange",required:!1,type:{name:"((value: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/mdx/src/mdx/MdxEditor.tsx#MdxEditor"]={docgenInfo:MdxEditor.__docgenInfo,name:"MdxEditor",path:"packages/mdx/src/mdx/MdxEditor.tsx#MdxEditor"})}catch(__react_docgen_typescript_loader_error){}const Playground_stories={component:MdxEditor,title:"@mdx/_Playground_",parameters:{layout:"fullscreen",controls:{exclude:"children"}}},Playground={render:args=>(0,jsx_runtime.jsx)("div",{className:"min-h-[600px]",children:(0,jsx_runtime.jsx)(esm.LM,{children:(0,jsx_runtime.jsx)(MdxEditor,{...args,value:'---\n__Advertisement :)__\n\n- __[pica](https://nodeca.github.io/pica/demo/)__ - high quality and fast image\nresize in browser.\n- __[babelfish](https://github.com/nodeca/babelfish/)__ - developer friendly\ni18n with plurals support and easy syntax.\n\nYou will like those projects!\n---\n\n# h1 Heading 8-)\n\n## h2 Heading\n\n### h3 Heading\n\n#### h4 Heading\n\n##### h5 Heading\n\n###### h6 Heading\n\n## Horizontal Rules\n\n---\n\n---\n\n---\n\n## Typographic replacements\n\nEnable typographer option to see result.\n\n(c) (C) (r) (R) (tm) (TM) (p) (P) +-\n\ntest.. test... test..... test?..... test!....\n\n!!!!!! ???? ,, -- ---\n\n"Smartypants, double quotes" and \'single quotes\'\n\n## Emphasis\n\n**This is bold text**\n\n**This is bold text**\n\n_This is italic text_\n\n_This is italic text_\n\n~~Strikethrough~~\n\n## Blockquotes\n\n> Blockquotes can also be nested...\n>\n> > ...by using additional greater-than signs right next to each other...\n> >\n> > > ...or with spaces between arrows.\n\n## Lists\n\nUnordered\n\n- Create a list by starting a line with `+`, `-`, or `*`\n- Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    - Ac tristique libero volutpat at\n    * Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n- Very easy!\n\nOrdered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n\n4. You can use sequential numbers...\n5. ...or keep all the numbers as `1.`\n\nStart numbering with offset:\n\n57. foo\n1. bar\n\n## Code\n\nInline `code`\n\nIndented code\n\n    // Some comments\n    line 1 of code\n    line 2 of code\n    line 3 of code\n\nBlock code "fences"\n\n```\nSample text here...\n```\n\nSyntax highlighting\n\n```js\nvar foo = function (bar) {\n  return bar++;\n};\n\nconsole.log(foo(5));\n```\n\n## Tables\n\n| Option | Description                                                               |\n| ------ | ------------------------------------------------------------------------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default.    |\n| ext    | extension to be used for dest files.                                      |\n\nRight aligned columns\n\n| Option |                                                               Description |\n| -----: | ------------------------------------------------------------------------: |\n|   data | path to data files to supply the data that will be passed into templates. |\n| engine |    engine to be used for processing templates. Handlebars is the default. |\n|    ext |                                      extension to be used for dest files. |\n\n## Links\n\n[link text](http://dev.nodeca.com)\n\n[link with title](http://nodeca.github.io/pica/demo/ "title text!")\n\nAutoconverted link https://github.com/nodeca/pica (enable linkify to see)\n\n## Images\n\n![Minion](https://octodex.github.com/images/minion.png)\n![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg "The Stormtroopocat")\n\nLike links, Images also have a footnote style syntax\n\n![Alt text][id]\n\nWith a reference later in the document defining the URL location:\n\n[id]: https://octodex.github.com/images/dojocat.jpg "The Dojocat"\n\n## Plugins\n\nThe killer feature of `markdown-it` is very effective support of\n[syntax plugins](https://www.npmjs.org/browse/keyword/markdown-it-plugin).\n\n### [Emojies](https://github.com/markdown-it/markdown-it-emoji)\n\n> Classic markup: :wink: :cry: :laughing: :yum:\n>\n> Shortcuts (emoticons): :-) :-( 8-) ;)\n\nsee [how to change output](https://github.com/markdown-it/markdown-it-emoji#change-output) with twemoji.\n\n### [Subscript](https://github.com/markdown-it/markdown-it-sub) / [Superscript](https://github.com/markdown-it/markdown-it-sup)\n\n- 19^th^\n- H~2~O\n\n### [\\<ins>](https://github.com/markdown-it/markdown-it-ins)\n\n++Inserted text++\n\n### [\\<mark>](https://github.com/markdown-it/markdown-it-mark)\n\n==Marked text==\n\n### [Footnotes](https://github.com/markdown-it/markdown-it-footnote)\n\nFootnote 1 link[^first].\n\nFootnote 2 link[^second].\n\nInline footnote^[Text of inline footnote] definition.\n\nDuplicated footnote reference[^second].\n\n[^first]: Footnote **can have markup**\n\n    and multiple paragraphs.\n\n[^second]: Footnote text.\n\n### [Definition lists](https://github.com/markdown-it/markdown-it-deflist)\n\nTerm 1\n\n: Definition 1\nwith lazy continuation.\n\nTerm 2 with _inline markup_\n\n: Definition 2\n\n        { some code, part of Definition 2 }\n\n    Third paragraph of definition 2.\n\n_Compact style:_\n\nTerm 1\n~ Definition 1\n\nTerm 2\n~ Definition 2a\n~ Definition 2b\n\n### [Abbreviations](https://github.com/markdown-it/markdown-it-abbr)\n\nThis is HTML abbreviation example.\n\nIt converts "HTML", but keep intact partial entries like "xxxHTMLyyy" and so on.\n\n\\*[HTML]: Hyper Text Markup Language\n\n### [Custom containers](https://github.com/markdown-it/markdown-it-container)\n\n::: warning\n_here be dragons_\n:::\n',onChange:(0,dist.XI)("onChange")})})}),args:{}},__namedExportsOrder=["Playground"];Playground.parameters={...Playground.parameters,docs:{...Playground.parameters?.docs,source:{originalSource:'{\n  render: args => {\n    return <div className="min-h-[600px]">\n        <Viewport>\n          <MdxEditor {...args} value={md} onChange={action("onChange")} />\n        </Viewport>\n      </div>;\n  },\n  args: {}\n}',...Playground.parameters?.docs?.source}}}}}]);